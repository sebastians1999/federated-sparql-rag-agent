[
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/16",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all enzymes in UniProtKB/Swiss-Prot annotated to catalyze reactions involving that lipid.\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 16\nSELECT ?startId ?startName ?uniprot\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/16.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql/\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?uniprotEnzyme\nWHERE {\n  # Bind the URI for Ceramide (CHEBI:17761).\n  # The user specified 'SWISSLIPID:000399814, Ceramide'.\n  # The entity linking identified CHEBI:17761 for Ceramide.\n  # We assume the user's intent is to find enzymes for the lipid entity corresponding to Ceramide,\n  # and CHEBI:17761 is the standard identifier used in reaction databases like Rhea.\n  BIND(chebi:17761 AS ?ceramide)\n\n  # Query the Rhea endpoint to find reactions involving Ceramide and the catalyzing enzyme.\n  # Rhea reactions link chemical entities (via ChEBI URIs) to catalyzing enzymes (via UniProt URIs).\n  SERVICE <https://sparql.rhea-db.org/sparql/> {\n      # Find reactions that are catalyzed (enzymatic reactions)\n      ?reaction a rhea:Reaction ;         # Ensure the entity is a Rhea Reaction\n                rhea:side ?side ;           # Reactions have reaction sides (substrates/products)\n                rhea:catalyzedBy ?uniprotEnzyme . # Get the entity catalyzing the reaction (expected to be UniProt)\n\n      # Check if the Ceramide entity is a participant in this reaction side\n      ?side rhea:contains ?ceramide .\n  }\n\n  # Query the UniProt endpoint to verify that the catalyzing entity is a UniProt protein\n  # and filter specifically for proteins in UniProtKB/Swiss-Prot (reviewed entries).\n  SERVICE <https://sparql.uniprot.org/sparql/> {\n      ?uniprotEnzyme a up:Protein ;     # Ensure the entity found in Rhea is a Protein in UniProt\n                     up:reviewed ?isReviewed . # Get the review status (true for Swiss-Prot, false for TrEMBL)\n      FILTER(?isReviewed = true)     # Keep only proteins marked as reviewed (Swiss-Prot)\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "5a2867b8-ef94-468b-b013-21a29ec174cb",
    "evaluation_timestamp": "2025-04-22T16:28:37.076838",
    "question_understanding_tokens": 299,
    "question_understanding_completion_tokens": 72,
    "question_understanding_total_tokens": 371,
    "sparql_construction_prompt_tokens": 3367,
    "sparql_construction_completion_tokens": 7398,
    "sparql_construction_total_tokens": 10765,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql/%0APREFIX+rdf%3A+%3Chttp%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+chebi%3A+%3Chttp%3A//purl.obolibrary.org/obo/chebi/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0A%0ASELECT+DISTINCT+%3FuniprotEnzyme%0AWHERE+%7B%0A++%23+Bind+the+URI+for+Ceramide+%28CHEBI%3A17761%29.%0A++%23+The+user+specified+%27SWISSLIPID%3A000399814%2C+Ceramide%27.%0A++%23+The+entity+linking+identified+CHEBI%3A17761+for+Ceramide.%0A++%23+We+assume+the+user%27s+intent+is+to+find+enzymes+for+the+lipid+entity+corresponding+to+Ceramide%2C%0A++%23+and+CHEBI%3A17761+is+the+standard+identifier+used+in+reaction+databases+like+Rhea.%0A++BIND%28chebi%3A17761+AS+%3Fceramide%29%0A%0A++%23+Query+the+Rhea+endpoint+to+find+reactions+involving+Ceramide+and+the+catalyzing+enzyme.%0A++%23+Rhea+reactions+link+chemical+entities+%28via+ChEBI+URIs%29+to+catalyzing+enzymes+%28via+UniProt+URIs%29.%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql/%3E+%7B%0A++++++%23+Find+reactions+that+are+catalyzed+%28enzymatic+reactions%29%0A++++++%3Freaction+a+rhea%3AReaction+%3B+++++++++%23+Ensure+the+entity+is+a+Rhea+Reaction%0A++++++++++++++++rhea%3Aside+%3Fside+%3B+++++++++++%23+Reactions+have+reaction+sides+%28substrates/products%29%0A++++++++++++++++rhea%3AcatalyzedBy+%3FuniprotEnzyme+.+%23+Get+the+entity+catalyzing+the+reaction+%28expected+to+be+UniProt%29%0A%0A++++++%23+Check+if+the+Ceramide+entity+is+a+participant+in+this+reaction+side%0A++++++%3Fside+rhea%3Acontains+%3Fceramide+.%0A++%7D%0A%0A++%23+Query+the+UniProt+endpoint+to+verify+that+the+catalyzing+entity+is+a+UniProt+protein%0A++%23+and+filter+specifically+for+proteins+in+UniProtKB/Swiss-Prot+%28reviewed+entries%29.%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql/%3E+%7B%0A++++++%3FuniprotEnzyme+a+up%3AProtein+%3B+++++%23+Ensure+the+entity+found+in+Rhea+is+a+Protein+in+UniProt%0A+++++++++++++++++++++up%3Areviewed+%3FisReviewed+.+%23+Get+the+review+status+%28true+for+Swiss-Prot%2C+false+for+TrEMBL%29%0A++++++FILTER%28%3FisReviewed+%3D+true%29+++++%23+Keep+only+proteins+marked+as+reviewed+%28Swiss-Prot%29%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/6",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation), as well as their enzymes as annotated in UniProtKB/Swiss-Prot) enzymes themselves (ID and protein name).\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 6\nSELECT ?startId ?startName ?chebi ?rhea ?rheaEquation ?uniprot ?uniprotName\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:recommendedName/up:fullName ?uniprotName .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/6.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\nSELECT DISTINCT ?rheaId ?equation ?uniprotId ?proteinName\nWHERE {\n  # Query Rhea endpoint to find reactions involving Ceramide (CHEBI:17761)\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions that contain a chemical entity linked to the ChEBI ID for Ceramide\n    # (The entity extraction identified CHEBI:17761 for 'Ceramide')\n    ?reaction rhea:contains ?chemicalEntity .\n    ?chemicalEntity rhea:chebi <http://purl.obolibrary.org/obo/CHEBI_17761> .\n\n    # Get the reaction equation\n    ?reaction rhea:reactionEquation ?equation .\n\n    # Find the UniProt entry catalyzing this reaction\n    ?reaction rhea:catalyzedBy ?uniprotEntry .\n\n    # Extract the Rhea ID from the reaction URI\n    BIND(STRAFTER(STR(?reaction), STR(rhea:)) AS ?rheaId)\n  }\n\n  # Query UniProt endpoint to get details for the catalyzing enzyme\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Ensure the entry is a protein (UniProtKB)\n    ?uniprotEntry a up:Protein .\n\n    # Filter for reviewed entries (Swiss-Prot)\n    ?uniprotEntry up:reviewed true .\n\n    # Get the UniProt accession ID\n    ?uniprotEntry up:accession ?uniprotId .\n\n    # Get the recommended full protein name\n    ?uniprotEntry up:recommendedName [ up:fullName ?proteinName ] .\n  }\n}\nORDER BY ?rheaId ?uniprotId",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "59b1a7ad-82e0-4b7b-bbc6-ee338a1ad174",
    "evaluation_timestamp": "2025-04-22T16:29:01.233181",
    "question_understanding_tokens": 313,
    "question_understanding_completion_tokens": 89,
    "question_understanding_total_tokens": 402,
    "sparql_construction_prompt_tokens": 3383,
    "sparql_construction_completion_tokens": 3488,
    "sparql_construction_total_tokens": 6871,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+chebi%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+rdf%3A+%3Chttp%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0A%0ASELECT+DISTINCT+%3FrheaId+%3Fequation+%3FuniprotId+%3FproteinName%0AWHERE+%7B%0A++%23+Query+Rhea+endpoint+to+find+reactions+involving+Ceramide+%28CHEBI%3A17761%29%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%23+Find+reactions+that+contain+a+chemical+entity+linked+to+the+ChEBI+ID+for+Ceramide%0A++++%23+%28The+entity+extraction+identified+CHEBI%3A17761+for+%27Ceramide%27%29%0A++++%3Freaction+rhea%3Acontains+%3FchemicalEntity+.%0A++++%3FchemicalEntity+rhea%3Achebi+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_17761%3E+.%0A%0A++++%23+Get+the+reaction+equation%0A++++%3Freaction+rhea%3AreactionEquation+%3Fequation+.%0A%0A++++%23+Find+the+UniProt+entry+catalyzing+this+reaction%0A++++%3Freaction+rhea%3AcatalyzedBy+%3FuniprotEntry+.%0A%0A++++%23+Extract+the+Rhea+ID+from+the+reaction+URI%0A++++BIND%28STRAFTER%28STR%28%3Freaction%29%2C+STR%28rhea%3A%29%29+AS+%3FrheaId%29%0A++%7D%0A%0A++%23+Query+UniProt+endpoint+to+get+details+for+the+catalyzing+enzyme%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++%23+Ensure+the+entry+is+a+protein+%28UniProtKB%29%0A++++%3FuniprotEntry+a+up%3AProtein+.%0A%0A++++%23+Filter+for+reviewed+entries+%28Swiss-Prot%29%0A++++%3FuniprotEntry+up%3Areviewed+true+.%0A%0A++++%23+Get+the+UniProt+accession+ID%0A++++%3FuniprotEntry+up%3Aaccession+%3FuniprotId+.%0A%0A++++%23+Get+the+recommended+full+protein+name%0A++++%3FuniprotEntry+up%3ArecommendedName+%5B+up%3AfullName+%3FproteinName+%5D+.%0A++%7D%0A%7D%0AORDER+BY+%3FrheaId+%3FuniprotId&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/5",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation).\nThis query does consider the hierarchy: it looks for reactions involving the specified lipid and/or its more specific forms.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\n\n# Example 5\nSELECT ?startId ?startName ?id ?name ?chebi ?rhea ?rheaEquation \nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # Retrieve children lipids \n  ?id rdfs:subClassOf* ?startId .\n  ?id rdfs:label ?name .\n  # ChEBI x-ref\n  ?id owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n} \nORDER BY  ?startId ?id",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/5.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX swisslipids: <http://www.swisslipids.org/resource/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\n\nSELECT DISTINCT ?reaction ?equation\nWHERE {\n    # Step 1: Find the corresponding ChEBI identifier for the given SwissLipids ID\n    SERVICE <https://sparql.swisslipids.org/sparql/> {\n        BIND(swisslipids:SWISSLIPID:000399814 AS ?swisslipidsId)\n        # Link from SwissLipids ID to external identifiers like ChEBI\n        # Assuming rdfs:seeAlso is used to link to external resources like ChEBI\n        ?swisslipidsId rdfs:seeAlso ?lipidCHEBI .\n        # Ensure the linked resource is a ChEBI URI\n        FILTER(STRSTARTS(STR(?lipidCHEBI), STR(chebi:)))\n    }\n\n    # Step 2: In Rhea, find all reactions involving the specified ChEBI lipid or its subclasses\n    SERVICE <https://sparql.rhea-db.org/sparql/> {\n        # Find the ChEBI lipid concept itself and all its subclasses\n        # obo:CHEBI_is_a* finds the concept itself (zero steps) and its direct/indirect subclasses (one or more steps)\n        ?subClassCHEBI obo:CHEBI_is_a* ?lipidCHEBI .\n\n        # Find reactions that contain any of these ChEBI concepts as participants\n        # rhea:containsParticipant links a reaction side to a chemical concept\n        # A reaction is linked to its sides via rhea:reactionSide\n        # We need to find reactions (?reaction) that have a side (?reactionSide) which contains the participant (?subClassCHEBI)\n        ?reaction rhea:reactionSide ?reactionSide .\n        ?reactionSide rhea:containsParticipant ?subClassCHEBI .\n\n        # Retrieve the reaction equation\n        ?reaction rhea:equation ?equation .\n    }\n}",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "c38f55a5-565f-4a6a-85c9-bb53dfeebe30",
    "evaluation_timestamp": "2025-04-22T16:29:21.866562",
    "question_understanding_tokens": 294,
    "question_understanding_completion_tokens": 67,
    "question_understanding_total_tokens": 361,
    "sparql_construction_prompt_tokens": 2506,
    "sparql_construction_completion_tokens": 2907,
    "sparql_construction_total_tokens": 5413,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/34",
    "natural_language_question": "Lipids affected by human enzymes",
    "ground_truth_query": "PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?swisslipid  {\n  ?swisslipid owl:equivalentClass ?chebi .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n\t?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?metabolite . \n  }\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?catalyticActivityAnnotation up:catalyticActivity/up:catalyzedReaction ?rhea .\n    ?protein up:annotation ?catalyticActivityAnnotation ;\n             up:organism taxon:9606 .\n  }\n}\nLIMIT 1",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/34.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.swisslipids.org/sparql/\n\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX uniprot: <http://purl.uniprot.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX sl: <https://swisslipids.org/rdf/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?lipid ?lipidName\nWHERE {\n  # Start by finding lipids in SwissLipids and their corresponding ChEBI identifiers.\n  SERVICE <https://sparql.swisslipids.org/sparql/> {\n    ?lipid sl:chebi ?chebi . # Link lipid URI to ChEBI identifier\n    OPTIONAL { ?lipid rdfs:label ?lipidName } # Optional: Get the lipid name\n  }\n\n  # In Rhea, find reactions that involve the ChEBI identifier found in SwissLipids.\n  SERVICE <https://sparql.rhea-db.org/sparql/> {\n    ?reaction rhea:side ?side . # Get a reaction side\n    ?side rhea:chebi ?chebi .   # Check if the ChEBI matches a reactant/product in Rhea\n\n    # Find the enzyme that catalyzes this reaction.\n    ?reaction rhea:catalyzedEvent ?catalyzedEvent .\n    ?catalyzedEvent rhea:enzyme ?rheaEnzyme .\n\n    # Link the Rhea enzyme to its UniProt entry identifier.\n    ?rheaEnzyme rhea:uniprot ?uniprot .\n  }\n\n  # In UniProt, check if the protein associated with the UniProt identifier is human.\n  SERVICE <https://sparql.uniprot.org/sparql/> {\n     ?uniprot up:organism <http://purl.uniprot.org/taxonomy/9606> . # Filter UniProt entries by human taxonomy (9606)\n  }\n}\n# LIMIT 100 # Optional: Limit the number of results for testing or performance",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "f3541241-e998-452d-9f50-fba4c350c812",
    "evaluation_timestamp": "2025-04-22T16:29:44.866680",
    "question_understanding_tokens": 241,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 261,
    "sparql_construction_prompt_tokens": 1692,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 1692,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.swisslipids.org/sparql/%0A%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+chebi%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+uniprot%3A+%3Chttp%3A//purl.uniprot.org/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+sl%3A+%3Chttps%3A//swisslipids.org/rdf/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+DISTINCT+%3Flipid+%3FlipidName%0AWHERE+%7B%0A++%23+Start+by+finding+lipids+in+SwissLipids+and+their+corresponding+ChEBI+identifiers.%0A++SERVICE+%3Chttps%3A//sparql.swisslipids.org/sparql/%3E+%7B%0A++++%3Flipid+sl%3Achebi+%3Fchebi+.+%23+Link+lipid+URI+to+ChEBI+identifier%0A++++OPTIONAL+%7B+%3Flipid+rdfs%3Alabel+%3FlipidName+%7D+%23+Optional%3A+Get+the+lipid+name%0A++%7D%0A%0A++%23+In+Rhea%2C+find+reactions+that+involve+the+ChEBI+identifier+found+in+SwissLipids.%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql/%3E+%7B%0A++++%3Freaction+rhea%3Aside+%3Fside+.+%23+Get+a+reaction+side%0A++++%3Fside+rhea%3Achebi+%3Fchebi+.+++%23+Check+if+the+ChEBI+matches+a+reactant/product+in+Rhea%0A%0A++++%23+Find+the+enzyme+that+catalyzes+this+reaction.%0A++++%3Freaction+rhea%3AcatalyzedEvent+%3FcatalyzedEvent+.%0A++++%3FcatalyzedEvent+rhea%3Aenzyme+%3FrheaEnzyme+.%0A%0A++++%23+Link+the+Rhea+enzyme+to+its+UniProt+entry+identifier.%0A++++%3FrheaEnzyme+rhea%3Auniprot+%3Funiprot+.%0A++%7D%0A%0A++%23+In+UniProt%2C+check+if+the+protein+associated+with+the+UniProt+identifier+is+human.%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql/%3E+%7B%0A+++++%3Funiprot+up%3Aorganism+%3Chttp%3A//purl.uniprot.org/taxonomy/9606%3E+.+%23+Filter+UniProt+entries+by+human+taxonomy+%289606%29%0A++%7D%0A%7D%0A%23+LIMIT+100+%23+Optional%3A+Limit+the+number+of+results+for+testing+or+performance&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/118_biosodafrontend_rat_brain_human_cancer",
    "natural_language_question": "What are the Homo sapiens genes associated with cancer and their orthologs expressed in the Rattus norvegicus brain?",
    "ground_truth_query": "PREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX orth:<http://purl.org/net/orth#>\nPREFIX dcterms:<http://purl.org/dc/terms/>\nPREFIX obo:<http://purl.obolibrary.org/obo/>\nPREFIX lscr:<http://purl.org/lscr#>\nPREFIX genex:<http://purl.org/genex#>\nPREFIX sio: <http://semanticscience.org/resource/>\nSELECT ?gene ?orthologous_protein2 WHERE {\n  {\n    SELECT ?protein1 WHERE {\n      ?protein1 a up:Protein;\n        up:organism/up:scientificName 'Homo sapiens' ;\n        up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text.\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"cancer\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein2 ?protein1 ?gene WHERE {\n      ?protein_OMA a orth:Protein .\n      ?orthologous_protein2 a orth:Protein .\n      ?cluster a orth:OrthologsCluster .\n      ?cluster orth:hasHomologousMember ?node1 .\n      ?cluster orth:hasHomologousMember ?node2 .\n      ?node2 orth:hasHomologousMember* ?protein_OMA .\n      ?node1 orth:hasHomologousMember* ?orthologous_protein2 \n      .?orthologous_protein2 orth:organism/obo:RO_0002162/up:scientificName 'Rattus norvegicus' .\n      ?orthologous_protein2 sio:SIO_010079 ?gene .\n      ?protein_OMA lscr:xrefUniprot ?protein1 .\n      FILTER(?node1 != ?node2)\n    }\n  }\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?anatEntity .\n    ?anatEntity rdfs:label 'brain' .\n    ?gene orth:organism ?org . \n    ?org obo:RO_0002162 taxon:10116 .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/118_biosodafrontend_rat_brain_human_cancer.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\nSELECT DISTINCT\n    ?humanGeneLabel\n    ?humanProtein\n    ?humanProteinLabel\n    ?ratGeneLabel\n    ?ratProtein\n    ?ratProteinLabel\n    ?expressionLabel\nWHERE {\n  # Query the UniProt endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n\n    # Find human proteins associated with a cancer disease\n    ?humanProtein a up:Protein ;\n                  up:organism taxon:9606 ; # Filter for Homo sapiens\n                  up:disease ?disease ;\n                  rdfs:label ?humanProteinLabel . # Get human protein accession\n\n    # Ensure the disease is related to \"cancer\"\n    ?disease skos:prefLabel ?diseaseLabel .\n    FILTER (contains(lcase(?diseaseLabel), \"cancer\"))\n\n    # Get the gene encoded by the human protein\n    ?humanProtein up:encodedBy ?humanGene .\n    ?humanGene rdfs:label ?humanGeneLabel . # Get human gene name\n\n    # Find the ortholog protein in Rattus norvegicus\n    ?humanProtein up:ortholog ?ratProtein .\n    ?ratProtein a up:Protein ;\n                up:organism taxon:10116 ; # Filter for Rattus norvegicus\n                rdfs:label ?ratProteinLabel . # Get rat protein accession\n\n    # Get the gene encoded by the rat protein\n    ?ratProtein up:encodedBy ?ratGene .\n    ?ratGene rdfs:label ?ratGeneLabel . # Get rat gene name\n\n    # Find expression information for the rat protein\n    ?ratProtein up:expressedIn ?expressionAnnotation .\n\n    # Filter expression annotations for brain tissue (checking label/description)\n    # UniProt expression annotations link to terms (like Uberon) and have descriptions.\n    # Let's check the rdfs:label of the annotation or associated term.\n    ?expressionAnnotation rdfs:label ?expressionLabel .\n    FILTER (contains(lcase(?expressionLabel), \"brain\"))\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "b36c00a3-2dac-4010-9e10-79c51de89911",
    "evaluation_timestamp": "2025-04-22T16:30:05.126129",
    "question_understanding_tokens": 255,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 302,
    "sparql_construction_prompt_tokens": 2712,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2712,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/51",
    "natural_language_question": "Find all proteins linked to arachidonate (CHEBI:32395)",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n\nSELECT \n    DISTINCT\n        ?uniprot\n        ?uniprotID\n        ?recname\n        ?gene\n        ?chebi\n        ?uniprotName\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n     VALUES (?chebi) { (CHEBI:32395) }\n     ?rhea rh:side/rh:contains/rh:compound ?compound .\n     ?compound rh:chebi ?chebi .\n     ?chebi up:name ?uniprotName .\n  }\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  ?uniprot up:mnemonic ?uniprotID .\n  ?uniprot up:recommendedName/up:fullName ?recname .\n  OPTIONAL {?uniprot up:encodedBy/skos:prefLabel ?gene .}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/51_all_proteins_linked_to_arachidonate.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#> # Often used for URI equivalence\n\nSELECT DISTINCT ?uniprotID ?proteinName\nWHERE {\n  # Query Rhea to find reactions involving arachidonate (CHEBI:32395)\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions (?reaction) that have a participant (?participant)\n    ?reaction rhea:hasParticipant ?participant .\n\n    # The participant links to a chemical entity (?chemical)\n    # Assume the chemical entity URI in Rhea is the ChEBI URI itself\n    ?participant rhea:chemical chebi:32395 .\n\n    # Find the enzyme(s) (?enzyme) that catalyze this reaction\n    ?reaction rhea:catalyzedBy ?enzyme .\n\n    # Find the database cross-reference for the enzyme\n    ?enzyme rhea:databaseCrossReference ?dbxref .\n\n    # Filter for UniProtKB cross-references and get the accession ID\n    ?dbxref rhea:db \"UniProtKB\" ;\n            rhea:accession ?uniprotID .\n  }\n\n  # Use the UniProt accession ID found in Rhea to query the UniProt endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Construct the full UniProt protein URI from the protein accession ID\n    BIND(IRI(CONCAT(\"http://purl.uniprot.org/uniprot/\", ?uniprotID)) AS ?proteinURI)\n\n    # Retrieve the preferred label (Recommended Name) for the protein\n    ?proteinURI a up:Protein ; # Ensure it's a protein entry\n                skos:prefLabel ?proteinName .\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "83879199-3257-4cc8-84e2-5bd086345e22",
    "evaluation_timestamp": "2025-04-22T16:30:32.162233",
    "question_understanding_tokens": 249,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 280,
    "sparql_construction_prompt_tokens": 1983,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 1983,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/40",
    "natural_language_question": "Retrieve human enzymes that metabolize sphingolipids and are annotated in ChEMBL",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?chemblEntry\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction ;\n      rh:side/rh:contains/rh:compound/rh:chebi/rdfs:subClassOf+ CHEBI:26739 .\n  }\n  ?ca up:catalyzedReaction ?rhea .\n  ?protein up:annotation/up:catalyticActivity ?ca ;\n    up:organism taxon:9606 ;\n    rdfs:seeAlso ?chemblEntry .\n  ?chemblEntry up:database <http://purl.uniprot.org/database/ChEMBL> .\n}\nLIMIT 10",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/40_human_enzymes_that_metabolize_sphingolipids.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxonomy: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX sl: <http://swisslipids.org/rdf/>\nPREFIX rhea: <http://rdf.rhea-db.org/>\n\nSELECT DISTINCT ?enzyme ?proteinName\nWHERE {\n  # Step 1: Find human proteins annotated in ChEMBL within the UniProt endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?enzyme a up:Protein ;\n            up:organism taxonomy:9606 ; # Filter for human proteins\n            rdfs:label ?proteinName ;      # Get the protein name\n            rdfs:seeAlso ?chemblEntryUri . # Find cross-references\n    # Check if the cross-reference is to ChEMBL\n    ?chemblEntryUri up:database <http://purl.uniprot.org/database/ChEMBL> .\n  }\n\n  # Step 2: Find reactions catalyzed by these enzymes in the Rhea endpoint\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n     ?reaction rhea:isEnzymaticallyCatalyzedBy ?enzyme . # Find reactions catalyzed by the protein\n  }\n\n  # Step 3: Check if the reaction involves a sphingolipid in the SwissLipids endpoint\n  SERVICE <https://sparql.swisslipids.org/sparql/> {\n     ?lipid sl:involved_in ?reaction . # Find lipids involved in the reaction\n     ?lipid sl:classified_by ?classification . # Get the classification of the lipid\n     # Define the URI for the Sphingolipids class in SwissLipids\n     BIND(<http://swisslipids.org/class/SL0101> AS ?sphingoClass)\n     # Check if the lipid's classification is Sphingolipids or a subclass thereof\n     ?classification skos:broader* ?sphingoClass .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "29bc360c-1b49-4162-9271-c22b5de4e502",
    "evaluation_timestamp": "2025-04-22T16:31:03.292682",
    "question_understanding_tokens": 245,
    "question_understanding_completion_tokens": 33,
    "question_understanding_total_tokens": 278,
    "sparql_construction_prompt_tokens": 2361,
    "sparql_construction_completion_tokens": 4557,
    "sparql_construction_total_tokens": 6918,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/49",
    "natural_language_question": "Retrieve the UniProtKB proteins, their catalyzed Rhea reactions, their encoding genes (Ensembl) and the anatomic entities where the genes are expressed (UBERON anatomic entites from Bgee expression data resource).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?ensemblGene ?reaction ?anatomicEntityLabel ?anatomicEntity\nWHERE {\n  # federated query to Rhea enadpoint\n  {\n    SELECT DISTINCT ?reaction WHERE {\n      SERVICE <https://sparql.rhea-db.org/sparql> {\n        ?reaction rdfs:subClassOf rh:Reaction ;\n          rh:equation ?reactionEquation ;\n          rh:side ?reactionSide .\n        ?reactionSide rh:contains ?participant .\n        ?participant rh:compound ?compound .\n        # compound constraint (CHEBI:16113 == cholesterol)\n        ?compound rh:chebi CHEBI:16113 .\n      }\n    }\n  }\n  # taxonomy constraint (taxon:9606 == Homo sapiens)\n  ?protein up:organism taxon:9606 ;\n    up:annotation ?a ;\n    rdfs:seeAlso / up:transcribedFrom ?ensemblGene .\n  ?a a up:Catalytic_Activity_Annotation ;\n    up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n  # federated query to Bgee (expression data)\n  BIND(IRI(REPLACE(STR(?ensemblGene), \"\\\\.[0-9]+$\", \"\")) AS ?ensemblGeneNoVersion)\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene lscr:xrefEnsemblGene ?ensemblGeneNoVersion ;\n      genex:isExpressedIn ?anatomicEntity .\n    ?anatomicEntity rdfs:label ?anatomicEntityLabel .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/49_tissues_where_genes_metabolizing_cholestrol_are_expressed.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX ensembl: <http://rdf.ebi.ac.uk/resource/ensembl/>\nPREFIX uberon: <http://purl.obolibrary.org/obo/UBERON_>\nPREFIX bgee: <http://purl.org/bgee/ontology#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\nSELECT ?protein ?reaction ?gene ?anatomicEntity\nWHERE {\n    # Query UniProt for proteins, their catalyzed reactions, and encoding genes\n    SERVICE <https://sparql.uniprot.org/sparql> {\n        ?protein a up:Protein .\n        ?protein up:catalyzedReaction ?reaction .\n        ?protein up:encodedByGene ?gene . # Link to Ensembl gene\n    }\n\n    # Query Bgee for expression data associated with the Ensembl gene\n    SERVICE <https://sparql.bgee.org/sparql> {\n        # Assuming Bgee predicate to link gene directly to anatomical entity (UBERON) where it is expressed\n        ?gene bgee:expressedIn ?anatomicEntity .\n\n        # Optional: Filter to ensure ?anatomicEntity is an UBERON entity\n        # This might not be strictly necessary if bgee:expressedIn only links to UBERON in this context\n        # ?anatomicEntity a uberon:AnatomicalEntity . # This predicate might not exist directly, check Bgee schema if needed\n        # A safer check might be if the URI starts with http://purl.obolibrary.org/obo/UBERON_\n    }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "d837aa67-f289-4bd5-8738-5425990fa5f9",
    "evaluation_timestamp": "2025-04-22T16:31:25.216000",
    "question_understanding_tokens": 275,
    "question_understanding_completion_tokens": 71,
    "question_understanding_total_tokens": 346,
    "sparql_construction_prompt_tokens": 4732,
    "sparql_construction_completion_tokens": 2161,
    "sparql_construction_total_tokens": 6893,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+ensembl%3A+%3Chttp%3A//rdf.ebi.ac.uk/resource/ensembl/%3E%0APREFIX+uberon%3A+%3Chttp%3A//purl.obolibrary.org/obo/UBERON_%3E%0APREFIX+bgee%3A+%3Chttp%3A//purl.org/bgee/ontology%23%3E%0APREFIX+rdf%3A+%3Chttp%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0A%0ASELECT+%3Fprotein+%3Freaction+%3Fgene+%3FanatomicEntity%0AWHERE+%7B%0A++++%23+Query+UniProt+for+proteins%2C+their+catalyzed+reactions%2C+and+encoding+genes%0A++++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++++++%3Fprotein+a+up%3AProtein+.%0A++++++++%3Fprotein+up%3AcatalyzedReaction+%3Freaction+.%0A++++++++%3Fprotein+up%3AencodedByGene+%3Fgene+.+%23+Link+to+Ensembl+gene%0A++++%7D%0A%0A++++%23+Query+Bgee+for+expression+data+associated+with+the+Ensembl+gene%0A++++SERVICE+%3Chttps%3A//sparql.bgee.org/sparql%3E+%7B%0A++++++++%23+Assuming+Bgee+predicate+to+link+gene+directly+to+anatomical+entity+%28UBERON%29+where+it+is+expressed%0A++++++++%3Fgene+bgee%3AexpressedIn+%3FanatomicEntity+.%0A%0A++++++++%23+Optional%3A+Filter+to+ensure+%3FanatomicEntity+is+an+UBERON+entity%0A++++++++%23+This+might+not+be+strictly+necessary+if+bgee%3AexpressedIn+only+links+to+UBERON+in+this+context%0A++++++++%23+%3FanatomicEntity+a+uberon%3AAnatomicalEntity+.+%23+This+predicate+might+not+exist+directly%2C+check+Bgee+schema+if+needed%0A++++++++%23+A+safer+check+might+be+if+the+URI+starts+with+http%3A//purl.obolibrary.org/obo/UBERON_%0A++++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/53",
    "natural_language_question": "Find mouse homologs in OMABrowser of human enzymes that catalyze reactions involving sterols (CHEBI:15889). Federating with Rhea and OMABrowser.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?chebi\n    ?reaction\n    ?humanProtein\n    ?mouseProtein\n    ?cluster \nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction .\n    ?reaction rh:side/rh:contains/rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    ?chebi rdfs:subClassOf* CHEBI:15889\n  }\n\n  ?humanProtein up:organism taxon:9606 .\n  ?humanProtein up:annotation ?a .\n  ?a a up:Catalytic_Activity_Annotation .\n  ?a up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n\n  SERVICE  <https://sparql.omabrowser.org/sparql> {\n    ?cluster a orth:ParalogsCluster .\n    ?cluster orth:hasHomologousMember ?node1 , ?node2 .\n    ?node1 orth:hasHomologousMember* ?orthoProtein1 .\n    ?node2 orth:hasHomologousMember* ?orthoProtein2 .\n    ?orthoProtein1 lscr:xrefUniprot ?mouseProtein .\n    ?orthoProtein2 lscr:xrefUniprot ?humanProtein .\n    # inTaxon mouse\n    ?orthoProtein1 orth:organism/<http://purl.obolibrary.org/obo/RO_0002162> taxon:10090 . \n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://sparql.omabrowser.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/53_mouse_homologs_of_sterol_enzymes_via_omabrowser.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX rh: <http://rdf.rhea-db.org/Property/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX sio: <http://semanticscience.org/resource/> # Used in OMA for external references\nPREFIX oma: <http://sparql.omabrowser.org/ontology#> # OMA Browser ontology (assumed)\n\nSELECT DISTINCT ?mouseProteinAccession ?humanProteinAccession\nWHERE {\n    # --- Find reactions involving sterols (CHEBI:15889) and catalyzed by human enzymes ---\n    SERVICE <https://sparql.rhea-db.org/sparql> {\n        # Find reactions where CHEBI:15889 (sterol) is involved\n        ?reaction rh:involvedIn ?participant .\n        ?participant rh:chebi chebi:15889 .\n\n        # Find the UniProt accession of the enzyme catalyzing this reaction\n        ?reaction rh:catalyzes ?catalysis .\n        ?catalysis rh:uniprot ?humanProteinAccession . # Get the UniProt accession string\n    }\n\n    # --- Filter the proteins found in Rhea to be human proteins using UniProt ---\n    SERVICE <https://sparql.uniprot.org/sparql> {\n         # Match the protein by accession and filter by human taxonomy (9606)\n         ?humanProtein up:accession ?humanProteinAccession ;\n                       up:organism taxon:9606 .\n    }\n\n    # --- Find mouse homologs in OMA Browser for these human proteins ---\n    # Note: The OMA Browser SPARQL endpoint URL is assumed as it wasn't provided\n    SERVICE <http://sparql.omabrowser.org/sparql> {\n         # Find the OMA protein corresponding to the human UniProt accession\n         ?omaHumanProtein sio:hasPart ?humanExternalReference .\n         ?humanExternalReference sio:hasValue ?humanProteinAccession . # Link using the UniProt accession\n\n         # Find the OMA group this human protein belongs to\n         ?omaHumanProtein oma:inGroup ?omaGroup .\n\n         # Find another OMA protein in the same group that is from Mouse (taxonomy 10090)\n         ?omaMouseProtein oma:inGroup ?omaGroup .\n\n         # Check the taxonomy of the mouse OMA protein instance\n         ?omaMouseProtein oma:part_of_organism ?omaOrganism .\n         # OMA links organisms to NCBI Taxon IDs, often via sio:hasPart with the NCBI ID string\n         ?omaOrganism sio:hasPart ?ncbiTaxonReference .\n         ?ncbiTaxonReference sio:hasValue \"10090\" . # NCBI tax ID for Mouse\n\n         # Get the UniProt accession for the mouse OMA protein found\n         ?omaMouseProtein sio:hasPart ?mouseExternalReference .\n         ?mouseExternalReference sio:hasValue ?mouseProteinAccession .\n\n         # Exclude cases where the human and mouse protein are the same (e.g., self-homologs/within-species paralogs if group includes them)\n         FILTER (?humanProteinAccession != ?mouseProteinAccession)\n    }\n\n    # (Optional) You could add another SERVICE UniProt block here if you needed\n    # more details about the mouse protein beyond its accession.\n    # SERVICE <https://sparql.uniprot.org/sparql> {\n    #      ?mouseProtein up:accession ?mouseProteinAccession ;\n    #                    up:organism taxon:10090 .\n    #      # Add more properties like rdfs:label for the mouse protein name if needed\n    # }\n\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "0bc8a4ff-2a42-4dc7-81e8-d1a1c850cbda",
    "evaluation_timestamp": "2025-04-22T16:32:02.178685",
    "question_understanding_tokens": 268,
    "question_understanding_completion_tokens": 41,
    "question_understanding_total_tokens": 309,
    "sparql_construction_prompt_tokens": 3266,
    "sparql_construction_completion_tokens": 4618,
    "sparql_construction_total_tokens": 7884,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/52",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with Rhea and ChEMBL via IDSM/Elixir czech republic).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX cco: <http://rdf.ebi.ac.uk/terms/chembl#>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n        DISTINCT\n            ?protein\n            ?proteinFullName\n            ?activityType\n            ?standardActivityValue\n            ?standardActivityUnit\n            ?chemblMolecule\n            ?chemlbMoleculePrefLabel\nWHERE\n  {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf  rh:Reaction ;\n\t      rh:status        rh:Approved ;\n\t      rh:side          ?reactionSide .\n    ?reactionSide\n\t      rh:contains      ?participant .\n    ?participant rh:compound  ?compound\n    {\n      ?compound  rh:chebi  ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound  rh:chebi           ?chebi .\n      ?chebi2   rdfs:subClassOf     ?chebiRestriction .\n      ?chebiRestriction\n\t\ta           owl:Restriction ;\n\t\towl:onProperty      chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom  ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca       up:catalyzedReaction  ?reaction .\n  ?a        up:catalyticActivity  ?ca .\n  ?protein  up:annotation         ?a ;\n\t    up:organism           taxon:9606 ;\n\t    up:recommendedName    ?proteinRecName .\n  ?proteinRecName\n\t    up:fullName           ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  # ChEMBL: retrieve the corresponding targets and with drugs in clinical phase 4\n  # Via https://idsm.elixir-czech.cz/sparql/\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/idsm> {\n    ?activity a cco:Activity ;\n      cco:hasMolecule ?chemblMolecule ;\n      cco:hasAssay ?assay ;\n      cco:standardType ?activityType ;\n      cco:standardValue ?standardActivityValue ;\n      cco:standardUnits ?standardActivityUnit .\n    ?chemblMolecule cco:highestDevelopmentPhase ?highestDevelopmentPhase ;\n      rdfs:label ?chemblMoleculeLabel ;\n      skos:prefLabel ?chemlbMoleculePrefLabel .\n    FILTER (?highestDevelopmentPhase > 3)\n    ?assay cco:hasTarget ?target .\n    ?target cco:hasTargetComponent/cco:targetCmptXref ?protein .\n    ?protein a cco:UniprotRef .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://idsm.elixir-czech.cz/sparql/endpoint/idsm"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/52_drugs_targeting_sterol_metabolism.ttl",
    "predicted_query": "",
    "predicted_endpoint": null,
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "b111f6bb-3dce-427d-afff-113b4cff916e",
    "evaluation_timestamp": "2025-04-22T16:32:52.353876",
    "question_understanding_tokens": 260,
    "question_understanding_completion_tokens": 33,
    "question_understanding_total_tokens": 293,
    "sparql_construction_prompt_tokens": 2801,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2801,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \"\" at line 1, column 0.\nWas expecting one of:\n    \"base\" ...\n    \"prefix\" ...\n    \"select\" ...\n    \"describe\" ...\n    \"construct\" ...\n    \"ask\" ...",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Encountered \"\" at line 1, column 0.\nWas expecting one of:\n    \"base\" ...\n    \"prefix\" ...\n    \"select\" ...\n    \"describe\" ...\n    \"construct\" ...\n    \"ask\" ..."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/54",
    "natural_language_question": "Proteins with binding sites for ligands similar to heme",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT \n  ?protein\n  ?mnemonic\n  ?proteinName\n  ?ligandSimilarityScore\n  ?ligand\nWHERE {\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?ssc sachem:compound ?ligand; \n      sachem:score ?ligandSimilarityScore ;\n      sachem:similaritySearch ?sss .\n        # Smiles of Heme\n    ?sss    sachem:query \"CC1=C(CCC([O-])=O)C2=[N+]3C1=Cc1c(C)c(C=C)c4C=C5C(C)=C(C=C)C6=[N+]5[Fe-]3(n14)n1c(=C6)c(C)c(CCC([O-])=O)c1=C2\";\n      sachem:cutoff \"8e-1\"^^xsd:double ;\n      sachem:aromaticityMode sachem:aromaticityDetect ;\n      sachem:similarityRadius 1 ;\n      sachem:tautomerMode sachem:ignoreTautomers .\n  }\n  ?protein up:mnemonic ?mnemonic ;\n    up:recommendedName/up:fullName ?proteinName ;\n    up:annotation ?annotation .\n  ?annotation a up:Binding_Site_Annotation ;\n      up:ligand/rdfs:subClassOf ?ligand .\n}\nORDER BY DESC(?ligandSimilarityScore)",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/54_binding_sites_for_ligands_similar_to_heme_sachem.ttl",
    "predicted_query": "# Starting endpoint: https://sparql.uniprot.org/sparql\nPREFIX uniprot: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?protein ?proteinName ?bindingSiteFeature ?bindingSiteComment ?ligandChebiUri\nWHERE {\n  # Query the UniProt endpoint for proteins and their features\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find resources that are proteins\n    ?protein a up:Protein ;\n             skos:prefLabel ?proteinName ; # Get the preferred name of the protein\n             up:hasFeature ?bindingSiteFeature . # Link the protein to its features\n\n    # Filter features to find binding sites\n    ?bindingSiteFeature a up:Binding_Site ;\n                        rdfs:comment ?bindingSiteComment . # Get the comment for the binding site (often describes the ligand)\n\n    # Optional: Try to find a cross-reference from the binding site feature to ChEBI for the ligand\n    OPTIONAL {\n      ?bindingSiteFeature up:crossReference ?chebiRef .\n      ?chebiRef a up:Chem_Ref ; # Ensure the cross-reference is a chemical reference\n                up:db <http://purl.uniprot.org/database/ChEBI> ; # Ensure the database is ChEBI\n                up:id ?chebiIdLiteral . # Get the ChEBI ID as a literal (e.g., \"CHEBI:16488\")\n\n      # Convert the ChEBI ID literal to an integer and construct the ChEBI URI\n      BIND(xsd:integer(REPLACE(STR(?chebiIdLiteral), \"CHEBI:\", \"\")) AS ?chebiIdInt)\n      BIND(chebi:?chebiIdInt AS ?ligandChebiUri)\n    }\n\n    # Filter for binding sites where the ligand is Heme or similar.\n    # This is approximated by checking specific ChEBI IDs for Heme (CHEBI:16488, CHEBI:147291)\n    # or by searching for the term \"heme\" within the binding site comment.\n    FILTER (\n       # Check if the found ChEBI URI is for generic Heme or a specific Heme variant\n       (?ligandChebiUri = chebi:16488 || ?ligandChebiUri = chebi:147291) ||\n       # Alternatively, check if the comment text contains \"heme\" (case-insensitive)\n       CONTAINS(LCASE(?bindingSiteComment), \"heme\")\n    )\n  }\n}",
    "predicted_endpoint": "Starting",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "a2541db8-4bb2-4a05-9140-9489bb00eabe",
    "evaluation_timestamp": "2025-04-22T16:33:22.255008",
    "question_understanding_tokens": 240,
    "question_understanding_completion_tokens": 28,
    "question_understanding_total_tokens": 268,
    "sparql_construction_prompt_tokens": 2656,
    "sparql_construction_completion_tokens": 4217,
    "sparql_construction_total_tokens": 6873,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \"  \"?chebiIdInt \"\" at line 32, column 18.\nWas expecting one of:\n    \"not\" ...\n    \"as\" ...\n    \"in\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n     ...\n    \"=\" ...\n    \"!=\" ...\n    \">\" ...\n    \"<\" ...\n    \"<=\" ...\n    \">=\" ...\n    \"||\" ...\n    \"&&\" ...\n    \"+\" ...\n    \"-\" ...\n    \"*\" ...\n    \"/\" ...",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Encountered \"  \"?chebiIdInt \"\" at line 32, column 18.\nWas expecting one of:\n    \"not\" ...\n    \"as\" ...\n    \"in\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n     ...\n    \"=\" ...\n    \"!=\" ...\n    \">\" ...\n    \"<\" ...\n    \"<=\" ...\n    \">=\" ...\n    \"||\" ...\n    \"&&\" ...\n    \"+\" ...\n    \"-\" ...\n    \"*\" ...\n    \"/\" ..."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/43",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number, whose grant date is more than twenty years in the past.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?grantDate ?patent ?application ?applicationNo\nWHERE\n{\n    ?citation a up:Patent_Citation ;\n  skos:exactMatch ?patent .\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  BIND(SUBSTR(STR(?patent), 33, 2) AS ?countryCode)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?publication patent:publicationNumber ?applicationNo ;\n      patent:application ?application .\n    ?application patent:grantDate ?grantDate .\n  }\n  BIND((year(now()) - 20) AS ?thisYearMinusTwenty)\n  BIND(year(?grantDate) AS ?grantYear)\n  FILTER(?grantYear < ?thisYearMinusTwenty)\n} ORDER BY ?grantYear",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/43_patents_used_in_uniprot_granted_twenty_years_in_the_past.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT ?protein ?pubNumber ?pubDate\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries\n    ?protein rdf:type up:Protein .\n    # Find citations associated with the protein\n    ?protein up:citation ?citation .\n    # Filter citations to only include those that are patents\n    ?citation rdf:type up:Patent .\n    # Retrieve the publication number for the patent\n    ?citation up:publicationNumber ?pubNumber .\n    # Optionally retrieve the date associated with the patent citation in UniProt\n    # Note: This date in UniProt is often the publication date, not necessarily the grant date.\n    OPTIONAL { ?citation up:date ?pubDate . }\n  }\n  # COMMENT: The original request requires connecting to an external EPO patent database\n  # and filtering results based on the grant date from that external database (more than 20 years in the past).\n  # Since a SPARQL endpoint for the EPO patent database is not provided in the context,\n  # this part of the query cannot be fully implemented as requested.\n  #\n  # The query above retrieves patent citations and their publication numbers available within the UniProt database.\n  #\n  # If an external EPO patent database endpoint were available, the federated query structure\n  # to fulfill the full request would look conceptually like this:\n  #\n  # SELECT ?protein ?pubNumber ?grantDate\n  # WHERE {\n  #   SERVICE <https://sparql.uniprot.org/sparql> {\n  #     # Retrieve desired patent publication numbers from UniProt entries\n  #     ?protein up:citation ?citation .\n  #     ?citation rdf:type up:Patent ;\n  #               up:publicationNumber ?pubNumber .\n  #   }\n  #   # Hypothetical SERVICE call to an EPO patent database endpoint\n  #   # SERVICE <http://example.com/hypothetical-epo-sparql> { # Replace with actual EPO endpoint if available\n  #   #   # In the external patent database, find the patent using the publication number\n  #   #   ?epoPatent ?epoPublicationNumberProperty ?pubNumber ; # Match by publication number\n  #   #              ?epoGrantDateProperty ?grantDate .      # Retrieve the grant date from the external database\n  #   #\n  #   #   # Calculate the date 20 years ago from today\n  #   #   BIND(NOW() - INTERVAL \"20\" YEAR AS ?twentyYearsAgo)\n  #   #\n  #   #   # Filter for patents whose grant date is more than 20 years ago\n  #   #   FILTER (?grantDate < ?twentyYearsAgo)\n  #   # }\n  # }\n}\nLIMIT 10 # Added a limit for demonstration purposes",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "6fc616e0-5339-44f4-a2cf-126bd41cc65a",
    "evaluation_timestamp": "2025-04-22T16:33:41.921651",
    "question_understanding_tokens": 260,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 307,
    "sparql_construction_prompt_tokens": 1691,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 1691,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed. \n\nResponse:\nb'<!DOCTYPE html SYSTEM \"about:legacy-compat\">\\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\"><head><title>UniProt</title><meta content=\"text/html; charset=UTF-8\" http-equiv=\"Content-Type\"/><link href=\"/\" rel=\"home\"/><link href=\"/base.css\" type=\"text/css\" rel=\"stylesheet\"/><link type=\"image/vnd.microsoft.icon\" href=\"/uniprot-favicon.ico\" rel=\"shortcut icon\"/><link href=\"/uniprot-sparql.css\" type=\"text/css\" rel=\"stylesheet\"/><link href=\"http://creativecommons.org/licenses/by/4.0/\" rel=\"license\"/><script src=\"https://cdn.jsdelivr.net/npm/yasgui-yasqe@2.11.22/dist/yasqe.bundled.min.js\"></script><link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/yasqe/2.2/yasqe.min.css\"/><meta content=\"width=device-width, initial-scale=1\" name=\"viewport\"/><meta content=\"no-referrer\" name=\"referrer\"/></head><body typeof=\"schema:WebPage\"><nav id=\"nav-header\"><a accesskey=\"1\" href=\"https://www.uniprot.org/\" id=\"www\"><img alt=\"\" src=\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNjQwIDI5MyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGQ9Ik0xOTkuNjU5LDEwNi4xMDMgQzE5OS42NTksMTEyLjM5OCAxOTQuNTU2LDExNy41MDEgMTg4LjI2LDExNy41MDEgQzE4MS45NjQsMTE3LjUwMSAxNzYuODYxLDExMi4zOTcgMTc2Ljg2MSwxMDYuMTAzIEMxNzYuODYxLDk5LjgwNyAxODEuOTY1LDk0LjcwNCAxODguMjYsOTQuNzA0IEMxOTQuNTU1LDk0LjcwNCAxOTkuNjU5LDk5LjgwNyAxOTkuNjU5LDEwNi4xMDMgWiI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzQuMzgzLDE0NC40NTkgQzMyNS4yNDIsMTQ0LjQ1OSAzMTcuODI5LDE1MS44NzIgMzE3LjgyOSwxNjEuMDE1IEwzMTcuNzk3LDE2NS4xODUgTDMxNy43OTcsMTk0LjIxIEMzMTcuNzk3LDIwMC4zMTYgMzEyLjg0OCwyMDUuMjY1IDMwNi43NDIsMjA1LjI2NSBDMzAwLjYzOCwyMDUuMjY1IDI5NS42ODksMjAwLjMxNyAyOTUuNjg5LDE5NC4yMSBMMjk1LjY4OSwxNjUuMTg1IEwyOTUuNzIsMTYxLjAxNSBDMjk1LjcyLDEzOS42NjEgMzEzLjAzLDEyMi4zNTEgMzM0LjM4MywxMjIuMzUxIEwzNDEuMjg1LDEyMi4zNTEgQzM0Ny4zOSwxMjIuMzUxIDM1Mi4zNCwxMjcuMyAzNTIuMzQsMTMzLjQwNSBDMzUyLjM0LDEzOS41MDkgMzQ3LjM5MSwxNDQuNDU5IDM0MS4yODUsMTQ0LjQ1OSBMMzM0LjM4MywxNDQuNDU5IFoiPjwvcGF0aD48cGF0aCBkPSJNNDMzLjg2MSwxNjMuODEzIEM0MzMuODYxLDE4Ny40MTcgNDE0LjcyNCwyMDYuNTU1IDM5MS4xMTksMjA2LjU1NSBDMzY3LjUxNCwyMDYuNTU1IDM0OC4zNzUsMTg3LjQxNyAzNDguMzc1LDE2My44MTMgQzM0OC4zNzUsMTQwLjIwNiAzNjcuNTE0LDEyMS4wNyAzOTEuMTE5LDEyMS4wNyBDNDE0LjcyNCwxMjEuMDcgNDMzLjg2MSwxNDAuMjA2IDQzMy44NjEsMTYzLjgxMyBaIE0zOTEuMDI5LDE0MS42OTQgQzM3OC44MTgsMTQxLjY5NCAzNjguOTIsMTUxLjU5MiAzNjguOTIsMTYzLjgwMSBDMzY4LjkyLDE3Ni4wMTEgMzc4LjgxOCwxODUuOTA5IDM5MS4wMjksMTg1LjkwOSBDNDAzLjIzOCwxODUuOTA5IDQxMy4xMzYsMTc2LjAxMSA0MTMuMTM2LDE2My44MDEgQzQxMy4xMzcsMTUxLjU5MyA0MDMuMjM4LDE0MS42OTQgMzkxLjAyOSwxNDEuNjk0IFoiPjwvcGF0aD48cGF0aCBkPSJNNDgzLjcwMywxODMuMTU2IEw0NzkuNDY3LDE4My4xNTUgQzQ3MC4zMjIsMTgzLjE1NSA0NjIuOTEsMTc1Ljc0MyA0NjIuOTEsMTY2LjU5OCBMNDYyLjg3NywxNjIuNDMgTDQ2Mi44NzcsMTQ0LjQ1NyBMNDgyLjIyMSwxNDQuNDU4IEM0ODguMzI2LDE0NC40NTggNDkzLjI3NiwxMzkuNTEgNDkzLjI3NiwxMzMuNDA0IEM0OTMuMjc2LDEyNy4yOTggNDg4LjMyNywxMjIuMzQ5IDQ4Mi4yMjEsMTIyLjM0OSBMNDYyLjg3NywxMjIuMzQ5IEw0NjIuODc3LDExNi44MjQgQzQ2Mi44NzcsMTEwLjcxOSA0NTcuOTMsMTA1Ljc2OSA0NTEuODI0LDEwNS43NjkgQzQ0NS43MTgsMTA1Ljc2OSA0NDAuNzY5LDExMC43MTggNDQwLjc2OSwxMTYuODI0IEw0NDAuNzY5LDE2Mi40MjkgTDQ0MC44LDE2Ni41OTkgQzQ0MC44LDE4Ny45NTIgNDU4LjExMywyMDUuMjYyIDQ3OS40NjYsMjA1LjI2MiBMNDgzLjcwMiwyMDUuMjYzIEM0ODkuODA3LDIwNS4yNjMgNDk0Ljc1NywyMDAuMzE1IDQ5NC43NTcsMTk0LjIwOCBDNDk0Ljc1OCwxODguMTA1IDQ4OS44MDksMTgzLjE1NiA0ODMuNzAzLDE4My4xNTYgWiI+PC9wYXRoPjxwYXRoIGQ9Ik0yOTIuOTgxLDEzNS4wNDIgQzI5Mi45ODEsMTEzLjY4OCAyNzUuNjcsOTYuMzc4IDI1NC4zMTcsOTYuMzc4IEwyNTAuMTQ3LDk2LjM0NiBMMjIyLjQ1OCw5Ni4zNDYgQzIxNi4zNTMsOTYuMzQ2IDIxMS40MDQsMTAxLjI5NSAyMTEuNDA0LDEwNy40IEwyMTEuNDA0LDE5NC4yIEMyMTEuNDA0LDIwMC4zMDYgMjE2LjM1MywyMDUuMjU2IDIyMi40NTgsMjA1LjI1NiBDMjI4LjU2MiwyMDUuMjU2IDIzMy41MTIsMjAwLjMwNyAyMzMuNTEyLDE5NC4yIEwyMzMuNTEyLDExOC40NTUgTDI1MC4xNDgsMTE4LjQ1NSBMMjU0LjMxNywxMTguNDg3IEMyNjMuNDYxLDExOC40ODcgMjcwLjg3NCwxMjUuODk5IDI3MC44NzQsMTM1LjA0MyBDMjcwLjg3NCwxNDQuMTg3IDI2My40NjEsMTUxLjYgMjU0LjMxNywxNTEuNiBMMjU1LjY3NCwxNTEuNjE2IEwyNTEuNTIsMTUxLjYxNiBDMjQ1LjQxNiwxNTEuNjE2IDI0MC40NjYsMTU2LjU2MyAyNDAuNDY2LDE2Mi42NyBDMjQwLjQ2NiwxNjguNzc0IDI0NS40MTUsMTczLjcyNCAyNTEuNTIsMTczLjcyNCBMMjU1LjY3NCwxNzMuNzI0IEwyNTQuMzE4LDE3My43MDggQzI3NS42NzEsMTczLjcwNiAyOTIuOTgxLDE1Ni4zOTYgMjkyLjk4MSwxMzUuMDQyIFoiPjwvcGF0aD48cGF0aCBkPSJNNDYyLjYwNywyNi4zMTkgQzQ2Mi42MDcsMzEuNDk0IDQ1OC40MSwzNS42ODkgNDUzLjIzNiwzNS42ODkgQzQ0OC4wNiwzNS42ODkgNDQzLjg2NSwzMS40OTQgNDQzLjg2NSwyNi4zMTkgQzQ0My44NjUsMjEuMTQ0IDQ0OC4wNiwxNi45NDggNDUzLjIzNiwxNi45NDggQzQ1OC40MSwxNi45NDggNDYyLjYwNywyMS4xNDUgNDYyLjYwNywyNi4zMTkgWiI+PC9wYXRoPjxwYXRoIGQ9Ik00MzAuNTE0LDU0LjY4OCBDNDMwLjUxNCw1OC44MjggNDI3LjE1Nyw2Mi4xODUgNDIzLjAxNiw2Mi4xODUgQzQxOC44NzcsNjIuMTg1IDQxNS41Miw1OC44MjggNDE1LjUyLDU0LjY4OCBDNDE1LjUyLDUwLjU0OCA0MTguODc3LDQ3LjE5MDk5OTggNDIzLjAxNiw0Ny4xOTA5OTk4IEM0MjcuMTU2LDQ3LjE5IDQzMC41MTQsNTAuNTQ4IDQzMC41MTQsNTQuNjg4IFoiPjwvcGF0aD48cGF0aCBkPSJNNTA1LjU1NywxMS43MTMgQzUwNS41NTcsMTguMTgzIDUwMC4zMTEsMjMuNDI2IDQ5My44NDIsMjMuNDI2IEM0ODcuMzczLDIzLjQyNiA0ODIuMTI5LDE4LjE4MyA0ODIuMTI5LDExLjcxMyBDNDgyLjEyOSw1LjI0MyA0ODcuMzczLDAgNDkzLjg0MiwwIEM1MDAuMzExLDAgNTA1LjU1Nyw1LjI0MyA1MDUuNTU3LDExLjcxMyBaIj48L3BhdGg+PHBhdGggZD0iTTU1NS4xMTksMTYuMzE4IEM1NTUuMTE5LDI0LjQwNCA1NDguNTY0LDMwLjk2IDU0MC40NzYsMzAuOTYgQzUzMi4zOTIsMzAuOTYgNTI1LjgzNSwyNC40MDQgNTI1LjgzNSwxNi4zMTggQzUyNS44MzUsOC4yMzEgNTMyLjM5MiwxLjY3NiA1NDAuNDc2LDEuNjc2IEM1NDguNTY0LDEuNjc3IDU1NS4xMTksOC4yMzEgNTU1LjExOSwxNi4zMTggWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MDIuMTAyLDQyLjA0NiBDNjAyLjEwMiw1Mi4xNTMgNTkzLjkwOSw2MC4zNDcgNTgzLjgwMSw2MC4zNDcgQzU3My42OTIsNjAuMzQ3IDU2NS40OTgsNTIuMTU0IDU2NS40OTgsNDIuMDQ2IEM1NjUuNDk4LDMxLjkzNyA1NzMuNjkxLDIzLjc0NCA1ODMuODAxLDIzLjc0NCBDNTkzLjkwOCwyMy43NDQgNjAyLjEwMiwzMS45MzcgNjAyLjEwMiw0Mi4wNDYgWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MzUuNDM2LDkwLjI4MiBDNjM1LjQzNiwxMDEuOTA3IDYyNi4wMTIsMTExLjMyOSA2MTQuMzg5LDExMS4zMjkgQzYwMi43NjYsMTExLjMyOSA1OTMuMzQyLDEwMS45MDcgNTkzLjM0Miw5MC4yODIgQzU5My4zNDIsNzguNjU3IDYwMi43NjYsNjkuMjM1IDYxNC4zODksNjkuMjM1IEM2MjYuMDEyLDY5LjIzNSA2MzUuNDM2LDc4LjY1NyA2MzUuNDM2LDkwLjI4MiBaIj48L3BhdGg+PHBhdGggZD0iTTYzOS4zODcsMTUzLjU5NSBDNjM5LjM4NywxNjYuOTYgNjI4LjU1MSwxNzcuNzk2IDYxNS4xODQsMTc3Ljc5NiBDNjAxLjgxNSwxNzcuNzk2IDU5MC45NzksMTY2Ljk2IDU5MC45NzksMTUzLjU5NSBDNTkwLjk3OSwxNDAuMjMgNjAxLjgxNSwxMjkuMzk1IDYxNS4xODQsMTI5LjM5NSBDNjI4LjU1MSwxMjkuMzk1IDYzOS4zODcsMTQwLjIyOSA2MzkuMzg3LDE1My41OTUgWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MTIuNzY2LDIxNS44ODYgQzYxMi43NjYsMjMxLjMyNiA2MDAuMjUsMjQzLjg0MSA1ODQuODExLDI0My44NDEgQzU2OS4zNzIsMjQzLjg0MSA1NTYuODU2LDIzMS4zMjYgNTU2Ljg1NiwyMTUuODg2IEM1NTYuODU2LDIwMC40NDUgNTY5LjM3MiwxODcuOTMxIDU4NC44MTEsMTg3LjkzMSBDNjAwLjI1LDE4Ny45MzEgNjEyLjc2NiwyMDAuNDQ0IDYxMi43NjYsMjE1Ljg4NiBaIj48L3BhdGg+PHBhdGggZD0iTTU1MS43NzMsMjU5LjE5NCBDNTUxLjc3MywyNzYuNTAyIDUzNy43NDQsMjkwLjUzMSA1MjAuNDM3LDI5MC41MzEgQzUwMy4xMywyOTAuNTMxIDQ4OS4xMDEsMjc2LjUwMiA0ODkuMTAxLDI1OS4xOTQgQzQ4OS4xMDEsMjQxLjg4NiA1MDMuMTMsMjI3Ljg1OCA1MjAuNDM3LDIyNy44NTggQzUzNy43NDQsMjI3Ljg1OCA1NTEuNzczLDI0MS44ODcgNTUxLjc3MywyNTkuMTk0IFoiPjwvcGF0aD48cGF0aCBkPSJNNDcyLjEwNywyNTcuMzggQzQ3Mi4xMDcsMjc2Ljc3NCA0NTYuMzg0LDI5Mi40OTUgNDM2Ljk5MiwyOTIuNDk1IEM0MTcuNiwyOTIuNDk1IDQwMS44NzcsMjc2Ljc3MyA0MDEuODc3LDI1Ny4zOCBDNDAxLjg3NywyMzcuOTg0IDQxNy42LDIyMi4yNjcgNDM2Ljk5MiwyMjIuMjY3IEM0NTYuMzg0LDIyMi4yNjcgNDcyLjEwNywyMzcuOTg0IDQ3Mi4xMDcsMjU3LjM4IFoiPjwvcGF0aD48cGF0aCBkPSJNMTY1LjgwNSwxNTkuNjU4IEwxNjUuODA1LDE5NC4yMSBDMTY1LjgwNSwyMDAuMzE2IDE2MC44NTYsMjA1LjI2NSAxNTQuNzUxLDIwNS4yNjUgQzE0OC42NDcsMjA1LjI2NSAxNDMuNjk3LDIwMC4zMTcgMTQzLjY5NywxOTQuMjEgTDE0My42OTcsMTU5LjY1OCBMMTQzLjY4MSwxNjEuMDE0IEMxNDMuNjgxLDE1MS44NzEgMTM2LjI2OSwxNDQuNDU4IDEyNy4xMjUsMTQ0LjQ1OCBDMTE3Ljk4MSwxNDQuNDU4IDExMC41NjksMTUxLjg3MSAxMTAuNTY5LDE2MS4wMTQgTDExMC41MzYsMTY1LjE4NCBMMTEwLjUzNiwxOTQuMjA5IEMxMTAuNTM2LDIwMC4zMTUgMTA1LjU4NywyMDUuMjY0IDk5LjQ4MiwyMDUuMjY0IEM5My4zNzcsMjA1LjI2NCA4OC40MjgsMjAwLjMxNiA4OC40MjgsMTk0LjIwOSBMODguNDI4LDE2NS4xODQgTDg4LjQ2LDE2MS4wMTQgQzg4LjQ2LDEzOS42NiAxMDUuNzcsMTIyLjM1IDEyNy4xMjQsMTIyLjM1IEMxNDguNDc4LDEyMi4zNSAxNjUuNzg4LDEzOS42NjEgMTY1Ljc4OCwxNjEuMDE0IEwxNjUuODA1LDE1OS42NTggWiI+PC9wYXRoPjxwYXRoIGQ9Ik0wLDE2Ny45NTcgTDAsMTA3LjM5OSBDMCwxMDEuMjk1IDQuOTQ5LDk2LjM0NSAxMS4wNTQsOTYuMzQ1IEMxNy4xNTksOTYuMzQ1IDIyLjEwOCwxMDEuMjk0IDIyLjEwOCwxMDcuMzk5IEwyMi4xMDgsMTY3Ljk1NyBMMjIuMTIzLDE2Ni42MDEgQzIyLjEyMywxNzUuNzQ0IDI5LjUzNiwxODMuMTU3IDM4LjY3OSwxODMuMTU3IEM0Ny44MjIsMTgzLjE1NyA1NS4yMzUsMTc1Ljc0NCA1NS4yMzUsMTY2LjYwMSBMNTUuMjY4LDE2Mi40MzEgTDU1LjI2OCwxMD'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/45",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with WikiData and Rhea).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT DISTINCT ?protein ?proteinFullName ?wikiChemical ?wikiChemicalLabel ?medicalConditionTreatedLabel\nWHERE {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n      rh:status rh:Approved ;\n      rh:side ?reactionSide .\n    ?reactionSide\n      rh:contains ?participant .\n    ?participant rh:compound ?compound\n    {\n      ?compound rh:chebi ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound rh:chebi ?chebi .\n      ?chebi2 rdfs:subClassOf ?chebiRestriction .\n      ?chebiRestriction\n\t\ta owl:Restriction ;\n\t\towl:onProperty chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca up:catalyzedReaction  ?reaction .\n  ?a up:catalyticActivity  ?ca .\n  ?proteinIRI  up:annotation ?a ;\n    up:organism taxon:9606 ;\n    up:recommendedName ?proteinRecName .\n  ?proteinRecName up:fullName ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n  SERVICE <https://query.wikidata.org/sparql> {\n    ?wp wdt:P352  ?protein .\n    ?wikiChemical wdt:P129 ?wp . # Physically interacts with\n    ?wikiChemical rdfs:label ?wikiChemicalLabel .\n    ?wikiChemical wdt:P2175 ?wmc . # Medical conndition treated\n    ?wmc rdfs:label ?medicalConditionTreatedLabel .\n    FILTER(lang(?medicalConditionTreatedLabel) = 'en')\n    FILTER(lang(?wikiChemicalLabel) = 'en')\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/45_drugs_targeting_human_sterol_metabolism_enzymes.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX uniprot: <http://purl.uniprot.org/uniprot/>\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\n\nSELECT DISTINCT ?drug ?drugLabel\nWHERE {\n  # Step 1 & 2: In Rhea, find UniProt IDs of enzymes involved in reactions containing 'sterol'\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rhea:contains chebi:15889 . # CHEBI:15889 represents 'sterol'\n    ?reaction rhea:catalyst ?catalyst .\n    ?catalyst rhea:uniprot ?uniprot_id .\n  }\n\n  # Step 3: In UniProt, filter the UniProt IDs to find those corresponding to human proteins\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Construct the full UniProt URI from the ID obtained from Rhea\n    BIND(IRI(CONCAT(STR(uniprot:), ?uniprot_id)) AS ?uniprot_uri)\n    # Check if the protein's organism is Homo sapiens (taxonomy ID 9606)\n    ?uniprot_uri up:organism taxon:9606 .\n    # Ensure the UniProt entry is a protein (sometimes other types might appear, although less likely with rhea:uniprot)\n    ?uniprot_uri a up:Protein .\n  }\n\n  # Step 4 & 5: In Wikidata, find drugs that target these specific human enzymes\n  # Wikidata endpoint is included as it is the standard source for drug-target information\n  SERVICE <https://query.wikidata.org/sparql> {\n    # Find the Wikidata item (?protein_wd) that corresponds to the human enzyme using its UniProt ID (P352)\n    ?protein_wd wdt:P352 ?uniprot_id .\n    # Find items (?drug) that target (?drug wdt:P129 ?protein_wd) the identified protein\n    ?drug wdt:P129 ?protein_wd .\n\n    # Optional: Further filter to ensure ?drug is an instance of a pharmaceutical drug or a related type\n    # This helps exclude other entities that might target a protein but aren't drugs in the typical sense.\n    # Q12140 is 'pharmaceutical drug'\n    # ?drug wdt:P31 wd:Q12140 .\n    # Or, check if it's an instance of Q12140 or any of its subclasses\n    # ?drug wdt:P31/wdt:P279* wd:Q12140 .\n\n    # Get the human-readable label for the drug\n    SERVICE wikibase:label {\n      bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\" .\n      ?drug rdfs:label ?drugLabel .\n    }\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "a3e44a5b-932d-4bc7-a4d3-6caf5fabb8ae",
    "evaluation_timestamp": "2025-04-22T16:34:11.711029",
    "question_understanding_tokens": 254,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 285,
    "sparql_construction_prompt_tokens": 2440,
    "sparql_construction_completion_tokens": 3617,
    "sparql_construction_total_tokens": 6057,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Line 47, column 13: Unresolved prefixed name: wikibase:label",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Line 47, column 13: Unresolved prefixed name: wikibase:label"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/42",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?citation ?patent ?application ?applicationNo\nWHERE\n{\n  ?citation a up:Patent_Citation ;\n    skos:exactMatch ?patent .\n  FILTER(CONTAINS(STR(?patent), 'EP'))\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?application patent:publicationNumber ?applicationNo\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/42_connect_patents_to_epo.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX uniprot: <http://purl.uniprot.org/core/>\nPREFIX bibo: <http://purl.org/ontology/bibo/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\n# This query retrieves UniProt entries and the publication numbers of associated patents.\n# It focuses on extracting the patent information *cited within* UniProt.\n# As no SPARQL endpoint for the EPO database was provided in the context,\n# this query extracts the necessary patent publication numbers from UniProt data.\n# These numbers could then potentially be used to query an external patent database like EPO,\n# but direct federation with an EPO endpoint is not possible with the current context.\nSELECT ?uniprotEntry ?patentPublicationNumber\nWHERE {\n  # Query the UniProt SPARQL endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries (Proteins)\n    ?uniprotEntry a uniprot:Protein .\n\n    # Link UniProt entries to their associated citations (publications)\n    ?uniprotEntry uniprot:citation ?patentCitation .\n\n    # Filter these citations to identify those that are specifically patents (bibo:Patent)\n    ?patentCitation a bibo:Patent .\n\n    # Retrieve the patent publication number (identifier) for the found patents\n    ?patentCitation bibo:identifier ?patentPublicationNumber .\n  }\n}\n# Add a limit to restrict the number of results for demonstration purposes\nLIMIT 10",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "eac64788-0975-4539-8ab9-475889f02c69",
    "evaluation_timestamp": "2025-04-22T16:34:28.299655",
    "question_understanding_tokens": 251,
    "question_understanding_completion_tokens": 35,
    "question_understanding_total_tokens": 286,
    "sparql_construction_prompt_tokens": 1935,
    "sparql_construction_completion_tokens": 1844,
    "sparql_construction_total_tokens": 3779,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/67_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n        up:organism taxon:9606 ;\n        up:mnemonic ?mnemonic .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n\t?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n   }\n   ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/67_draft_human_metabolome.ttl",
    "predicted_query": "# Endpoint: https://sparql.uniprot.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?metabolite ?metaboliteLabel\nWHERE {\n  # Start by finding all UniProt entries for Homo sapiens (Human).\n  # We use the SPARQL endpoint for UniProt.\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprotEntry up:organism taxon:9606 .\n  }\n\n  # Now, using the human UniProt entries, find the biochemical reactions\n  # from Rhea-DB that are catalyzed by these human proteins.\n  # Query the Rhea-DB SPARQL endpoint.\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find Rhea catalytic activities linked to the human UniProt entries\n    ?catalyticActivity rhea:uniprotEntry ?uniprotEntry .\n\n    # Find the specific Rhea reactions associated with these catalytic activities\n    ?reaction rhea:catalyticActivity ?catalyticActivity .\n\n    # Identify the participants (substrates and products) in these reactions.\n    # These participants are the metabolites involved in human biochemical reactions.\n    ?reaction rhea:participant ?metabolite .\n\n    # Filter to ensure the participant URIs are from the ChEBI ontology,\n    # as Rhea typically uses ChEBI for chemical entities (metabolites).\n    FILTER(STRSTARTS(STR(?metabolite), STR(chebi:)))\n\n    # Attempt to retrieve the human-readable label for the metabolite from Rhea.\n    # Using OPTIONAL so that metabolites without labels are still included.\n    OPTIONAL { ?metabolite rdfs:label ?metaboliteLabel . }\n  }\n}",
    "predicted_endpoint": "Endpoint:",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "18cf67be-f521-47b5-9b87-59e2abb0801c",
    "evaluation_timestamp": "2025-04-22T16:34:55.849837",
    "question_understanding_tokens": 239,
    "question_understanding_completion_tokens": 22,
    "question_understanding_total_tokens": 261,
    "sparql_construction_prompt_tokens": 1476,
    "sparql_construction_completion_tokens": 3431,
    "sparql_construction_total_tokens": 4907,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "<urlopen error unknown url type: endpoint>"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/36",
    "natural_language_question": "Find the orthologous proteins for UniProtKB entry P05067 using the <a href=\"http://www.orthod.org\">OrthoDB database</a>",
    "ground_truth_query": "PREFIX orthodb: <http://purl.orthodb.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?orthoGroup\n  ?scientificName\n  ?functionComment\n  ?prefferedGeneName\n  ((STRLEN(?value) - ?medianLength) as ?deviationFromMedianLength)\nWHERE\n{\n  uniprotkb:P05067 a up:Protein ;\n        up:organism/up:scientificName ?scientificName ;\n        rdfs:seeAlso ?orthoGroup ;\n        up:encodedBy/skos:prefLabel ?prefferedGeneName ;\n          up:sequence/rdf:value ?value .\n  OPTIONAL {\n    ?protein up:annotation ?functionAnnotation .\n    ?functionAnnotation a up:Function_Annotation ;\n      rdfs:comment ?functionComment .\n  }\n  SERVICE <https://sparql.orthodb.org/sparql>{\n    ?orthoGroup orthodb:ogMedianProteinLength ?medianLength .\n    ?orthoGroup orthodb:hasMember ?xref .\n    ?xref orthodb:xref/orthodb:xrefResource uniprotkb:P05067 .\n  }\n}\nLIMIT 985915",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.orthodb.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/36_orthologous_proteins_via_orthodb.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n# This query retrieves cross-references from the UniProt entry P05067.\n# While OrthoDB does not have a dedicated SPARQL endpoint provided in the context,\n# UniProt often includes cross-references to external orthology databases like OrthoDB\n# via properties like up:dbxref. This query fetches all such cross-references\n# for the specified protein, among which links to OrthoDB might be present if they exist\n# in the UniProt RDF model.\nSELECT ?xref\nWHERE {\n  # Specify the UniProt protein entry of interest\n  # The URI for P05067 is http://purl.uniprot.org/uniprot/P05067\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    <http://purl.uniprot.org/uniprot/P05067> up:dbxref ?xref .\n    # Filter for specific types of cross-references if needed,\n    # but fetching all dbxref is the best approach without a specific OrthoDB property.\n    # Example: FILTER(contains(str(?xref), \"OrthoDB\")) # Uncomment if you specifically want to filter based on URI string\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "ac826695-001d-4589-9240-f3c93421686e",
    "evaluation_timestamp": "2025-04-22T16:35:15.409930",
    "question_understanding_tokens": 264,
    "question_understanding_completion_tokens": 43,
    "question_understanding_total_tokens": 307,
    "sparql_construction_prompt_tokens": 2618,
    "sparql_construction_completion_tokens": 1688,
    "sparql_construction_total_tokens": 4306,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/60",
    "natural_language_question": "Find human proteins that catalyze reactions where substrates or product have a <a href=\"https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35516\">Cholestane skeleton</a>",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?protein\n    ?disease\n    ?rhea\n    ?chebi\n    ?omim\nWHERE {\n    # Find complete ChEBIs with a Cholestane skeleton, via the Czech Elixir node IDSM Sachem chemical substructure search.\n    SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n      ?chebi sachem:substructureSearch [\n        sachem:query\n\"[C@]12(CCC3CCCC[C@]3(C)[C@@]1([H])CC[C@]1(C)[C@@]([H])([C@@](C)([H])CCCC(C)C)CC[C@@]21[H])[H]\"\n].\n   }\n   # Use the fact that UniProt catalytic activities are annotated using Rhea \n   # Mapping the found ChEBIs to Rhea reactions\n   SERVICE <https://sparql.rhea-db.org/sparql>{\n     ?rhea rh:side/rh:contains/rh:compound/rdfs:subClassOf ?chebi .\n   }\n   # Match the found Rhea reactions with human UniProtKB proteins\n   ?protein up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n   ?protein up:organism taxon:9606 .\n   # Find only those human entries that have an annotated related disease, and optionaly map these to OMIM\n   ?protein up:annotation/up:disease ?disease .\n   OPTIONAL {\n     ?disease rdfs:seeAlso ?omim .\n     ?omim up:database <http://purl.uniprot.org/database/MIM>\n   }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/60_enzymes_working_on_substrate_with_Cholestene_backbone.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX uniprot: <http://purl.uniprot.org/core/>\nPREFIX taxonomy: <http://purl.uniprot.org/taxonomy/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?protein ?accession\nWHERE {\n  # Start by finding human proteins in UniProt service\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a uniprot:Protein ;\n             organism taxonomy:9606 ; # Filter for human taxonomy (taxid 9606)\n             uniprot:catalyzedReaction ?reaction ; # Find reactions catalyzed by the protein\n             dc:identifier ?accession . # Get the UniProt accession for the protein\n  }\n\n  # Then, query Rhea service for details about these reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Use ?reaction variable from the UniProt service block\n    # Find participants (substrates or products) in the reaction\n    ?reaction rhea:hasParticipant ?participant .\n    ?participant rhea:hasChEBI ?chebi . # Get the ChEBI identifier for the participant\n\n    # Check if the ChEBI entity is related to the Cholestane skeleton (CHEBI:35516)\n    # A chemical entity can have a skeleton part (chebi:has_part)\n    # or be a subtype of a class defined by having that skeleton (rdfs:subClassOf)\n    FILTER EXISTS {\n        { ?chebi rdfs:subClassOf* chebi:35516 }\n        UNION\n        { ?chebi chebi:has_part* chebi:35516 }\n    }\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "0bacc231-4660-4ac1-8912-621b7df7543f",
    "evaluation_timestamp": "2025-04-22T16:36:00.466905",
    "question_understanding_tokens": 289,
    "question_understanding_completion_tokens": 38,
    "question_understanding_total_tokens": 327,
    "sparql_construction_prompt_tokens": 3535,
    "sparql_construction_completion_tokens": 3976,
    "sparql_construction_total_tokens": 7511,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Lexical error at line 14, column 22.  Encountered: '32' (32), after prefix \"organism\"",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Lexical error at line 14, column 22.  Encountered: '32' (32), after prefix \"organism\""
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/70_enzymes_interacting_with_molecules_similar_to_dopamine",
    "natural_language_question": "Look for enzymes catalyzing reactions with molecules similar to dopamine.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?rhea\n  ?chebi\nWHERE {\n  # Use the smiles of dopamine CHEBI:18243\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi>{\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"NCCc1ccc(O)c(O)c1\" ] .\n  }\n  GRAPH<https://sparql.rhea-db.org/rhea>{\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  }\n  ?protein up:reviewed true ;\n    up:annotation ?caa .\n  ?caa up:catalyticActivity/up:catalyzedReaction ?rhea .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/70_enzymes_interacting_with_molecules_similar_to_dopamine.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX formula: <http://rdf.rhea-db.org/formula/>\n\nSELECT DISTINCT ?reaction ?reaction_description ?enzyme_uri ?enzyme_name ?ec_number\nWHERE {\n  # Query Rhea to find reactions involving Dopamine and their related enzymes\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions that have a participant composition involving Dopamine (CHEBI:18243)\n    ?reaction a rhea:Reaction .\n    { ?reaction rhea:hasLeftParticipant ?composition . } # Check left side participants\n    UNION\n    { ?reaction rhea:hasRightParticipant ?composition . } # Check right side participants\n    ?composition rhea:chebi chebi:18243 . # Link the composition to the ChEBI URI for Dopamine\n\n    # Find the enzyme(s) associated with this reaction\n    # Reactions can be linked to an EC number or a UniProt entry\n    OPTIONAL {\n      ?reaction rhea:ec ?ec_uri .\n      # Extract the EC number string from the URI for easier reading\n      BIND(STRAFTER(STR(?ec_uri), STR(ec:)) AS ?ec_number)\n    }\n    OPTIONAL { ?reaction rhea:uniprot ?enzyme_uri . }\n\n    # Get the reaction description for context\n    OPTIONAL {\n       ?reaction rhea:formula ?formula_node .\n       ?formula_node rhea:directionalFormula ?directionalFormula .\n       ?directionalFormula rhea:chiewFormula ?reaction_description .\n    }\n  }\n\n  # If a UniProt entry URI was found in Rhea, query UniProt for the enzyme's name\n  OPTIONAL {\n    SERVICE <https://sparql.uniprot.org/sparql> {\n       # Ensure the URI is a UniProt protein and get its recommended name\n       ?enzyme_uri a up:Protein ;\n                   up:recommendedName/up:fullName ?enzyme_name .\n       # This OPTIONAL block will only succeed if ?enzyme_uri is a valid UniProt protein URI\n       # and the UniProt service is available and contains the entry.\n    }\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "1f718dc3-fc3f-4efb-9137-6a5ad5c905c1",
    "evaluation_timestamp": "2025-04-22T16:36:28.931111",
    "question_understanding_tokens": 242,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 268,
    "sparql_construction_prompt_tokens": 2106,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2106,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+chebi%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+ec%3A+%3Chttp%3A//purl.uniprot.org/enzyme/%3E%0APREFIX+formula%3A+%3Chttp%3A//rdf.rhea-db.org/formula/%3E%0A%0ASELECT+DISTINCT+%3Freaction+%3Freaction_description+%3Fenzyme_uri+%3Fenzyme_name+%3Fec_number%0AWHERE+%7B%0A++%23+Query+Rhea+to+find+reactions+involving+Dopamine+and+their+related+enzymes%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%23+Find+reactions+that+have+a+participant+composition+involving+Dopamine+%28CHEBI%3A18243%29%0A++++%3Freaction+a+rhea%3AReaction+.%0A++++%7B+%3Freaction+rhea%3AhasLeftParticipant+%3Fcomposition+.+%7D+%23+Check+left+side+participants%0A++++UNION%0A++++%7B+%3Freaction+rhea%3AhasRightParticipant+%3Fcomposition+.+%7D+%23+Check+right+side+participants%0A++++%3Fcomposition+rhea%3Achebi+chebi%3A18243+.+%23+Link+the+composition+to+the+ChEBI+URI+for+Dopamine%0A%0A++++%23+Find+the+enzyme%28s%29+associated+with+this+reaction%0A++++%23+Reactions+can+be+linked+to+an+EC+number+or+a+UniProt+entry%0A++++OPTIONAL+%7B%0A++++++%3Freaction+rhea%3Aec+%3Fec_uri+.%0A++++++%23+Extract+the+EC+number+string+from+the+URI+for+easier+reading%0A++++++BIND%28STRAFTER%28STR%28%3Fec_uri%29%2C+STR%28ec%3A%29%29+AS+%3Fec_number%29%0A++++%7D%0A++++OPTIONAL+%7B+%3Freaction+rhea%3Auniprot+%3Fenzyme_uri+.+%7D%0A%0A++++%23+Get+the+reaction+description+for+context%0A++++OPTIONAL+%7B%0A+++++++%3Freaction+rhea%3Aformula+%3Fformula_node+.%0A+++++++%3Fformula_node+rhea%3AdirectionalFormula+%3FdirectionalFormula+.%0A+++++++%3FdirectionalFormula+rhea%3AchiewFormula+%3Freaction_description+.%0A++++%7D%0A++%7D%0A%0A++%23+If+a+UniProt+entry+URI+was+found+in+Rhea%2C+query+UniProt+for+the+enzyme%27s+name%0A++OPTIONAL+%7B%0A++++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A+++++++%23+Ensure+the+URI+is+a+UniProt+protein+and+get+its+recommended+name%0A+++++++%3Fenzyme_uri+a+up%3AProtein+%3B%0A+++++++++++++++++++up%3ArecommendedName/up%3AfullName+%3Fenzyme_name+.%0A+++++++%23+This+OPTIONAL+block+will+only+succeed+if+%3Fenzyme_uri+is+a+valid+UniProt+protein+URI%0A+++++++%23+and+the+UniProt+service+is+available+and+contains+the+entry.%0A++++%7D%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/38",
    "natural_language_question": "For the human entry P05067 (Amyloid-beta precursor protein) find the gene start ends in WikiData",
    "ground_truth_query": "PREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq: <http://www.wikidata.org/prop/qualifier/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\n\nSELECT \n\t?protein \n\t?begin\n\t?end\n\t?chromosome\n\t?assembly\nWHERE {\n    {\n        BIND(uniprotkb:P05067 AS ?proteinIRI)\n        BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n    }\n    SERVICE <https://query.wikidata.org/sparql> {\n        ?wp wdt:P352 ?protein ;\n            wdt:P702 ?wg . \n        ?wg p:P644   ?wgss .\n        ?wgss ps:P644        ?begin ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        ?wg p:P645 ?wgse .\n        ?wgse ps:P645        ?end ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        FILTER(lang(?assembly) = \"en\")\n  } \n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/38_find_gene_region_in_wikidata_for_known_entry.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT ?geneStart ?geneEnd\nWHERE {\n  # Use the UniProt endpoint to find the entry for P05067\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprotEntry up:accession \"P05067\" .\n    # Find the corresponding WikiData item linked from UniProt\n    # UniProt uses owl:sameAs to link to equivalent entities in other datasets like WikiData\n    ?uniprotEntry owl:sameAs ?wikidataProteinItem .\n  }\n\n  # Use the WikiData endpoint to get gene information\n  SERVICE <https://query.wikidata.org/sparql> {\n    # Find the gene item that encodes the protein item found in UniProt\n    # wdt:P688 (encodes) connects a gene item to a protein item in WikiData.\n    # We use the reverse property (^wdt:P688) to find the gene item from the protein item.\n    ?geneItem ^wdt:P688 ?wikidataProteinItem .\n\n    # Ensure the gene is from Homo sapiens (human).\n    # wd:Q15978631 is the WikiData item ID for Homo sapiens (Taxon ID 9606).\n    ?geneItem wdt:P703 wd:Q15978631 .\n\n    # Retrieve the gene start and end positions from the gene item\n    # wdt:P644 is the property for 'gene start position'\n    # wdt:P645 is the property for 'gene end position'\n    ?geneItem wdt:P644 ?geneStart ;\n              wdt:P645 ?geneEnd .\n\n    # Ensure the retrieved values are numeric literals representing positions\n    FILTER(isLiteral(?geneStart) && datatype(?geneStart) IN (xsd:integer, xsd:decimal, xsd:nonNegativeInteger))\n    FILTER(isLiteral(?geneEnd) && datatype(?geneEnd) IN (xsd:integer, xsd:decimal, xsd:nonNegativeInteger))\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "3b3253c2-e2ce-44e0-9d88-1a9b80162960",
    "evaluation_timestamp": "2025-04-22T16:36:51.309465",
    "question_understanding_tokens": 255,
    "question_understanding_completion_tokens": 53,
    "question_understanding_total_tokens": 308,
    "sparql_construction_prompt_tokens": 2872,
    "sparql_construction_completion_tokens": 2596,
    "sparql_construction_total_tokens": 5468,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+owl%3A+%3Chttp%3A//www.w3.org/2002/07/owl%23%3E%0APREFIX+wdt%3A+%3Chttp%3A//www.wikidata.org/prop/direct/%3E%0APREFIX+wd%3A+%3Chttp%3A//www.wikidata.org/entity/%3E%0APREFIX+xsd%3A+%3Chttp%3A//www.w3.org/2001/XMLSchema%23%3E%0A%0ASELECT+%3FgeneStart+%3FgeneEnd%0AWHERE+%7B%0A++%23+Use+the+UniProt+endpoint+to+find+the+entry+for+P05067%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++%3FuniprotEntry+up%3Aaccession+%22P05067%22+.%0A++++%23+Find+the+corresponding+WikiData+item+linked+from+UniProt%0A++++%23+UniProt+uses+owl%3AsameAs+to+link+to+equivalent+entities+in+other+datasets+like+WikiData%0A++++%3FuniprotEntry+owl%3AsameAs+%3FwikidataProteinItem+.%0A++%7D%0A%0A++%23+Use+the+WikiData+endpoint+to+get+gene+information%0A++SERVICE+%3Chttps%3A//query.wikidata.org/sparql%3E+%7B%0A++++%23+Find+the+gene+item+that+encodes+the+protein+item+found+in+UniProt%0A++++%23+wdt%3AP688+%28encodes%29+connects+a+gene+item+to+a+protein+item+in+WikiData.%0A++++%23+We+use+the+reverse+property+%28%5Ewdt%3AP688%29+to+find+the+gene+item+from+the+protein+item.%0A++++%3FgeneItem+%5Ewdt%3AP688+%3FwikidataProteinItem+.%0A%0A++++%23+Ensure+the+gene+is+from+Homo+sapiens+%28human%29.%0A++++%23+wd%3AQ15978631+is+the+WikiData+item+ID+for+Homo+sapiens+%28Taxon+ID+9606%29.%0A++++%3FgeneItem+wdt%3AP703+wd%3AQ15978631+.%0A%0A++++%23+Retrieve+the+gene+start+and+end+positions+from+the+gene+item%0A++++%23+wdt%3AP644+is+the+property+for+%27gene+start+position%27%0A++++%23+wdt%3AP645+is+the+property+for+%27gene+end+position%27%0A++++%3FgeneItem+wdt%3AP644+%3FgeneStart+%3B%0A++++++++++++++wdt%3AP645+%3FgeneEnd+.%0A%0A++++%23+Ensure+the+retrieved+values+are+numeric+literals+representing+positions%0A++++FILTER%28isLiteral%28%3FgeneStart%29+%26%26+datatype%28%3FgeneStart%29+IN+%28xsd%3Ainteger%2C+xsd%3Adecimal%2C+xsd%3AnonNegativeInteger%29%29%0A++++FILTER%28isLiteral%28%3FgeneEnd%29+%26%26+datatype%28%3FgeneEnd%29+IN+%28xsd%3Ainteger%2C+xsd%3Adecimal%2C+xsd%3AnonNegativeInteger%29%29%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/117_biosodafrontend_glioblastoma_orthologs_rat",
    "natural_language_question": "Which are the proteins associated with glioblastoma and the orthologs expressed in the rat brain?",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX sio: <http://semanticscience.org/resource/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX genex: <http://purl.org/genex#>\nSELECT DISTINCT ?protein ?orthologous_protein ?gene ?annotation_text WHERE {\n  {\n  \tSELECT ?protein ?annotation_text WHERE {\n      ?protein a up:Protein ;\n          up:organism taxon:9606 ;\n          up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text .\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"glioblastoma\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein ?protein ?gene WHERE {\n    ?protein_OMA a orth:Protein .\n    ?orthologous_protein a orth:Protein .\n    ?cluster a orth:OrthologsCluster .\n    ?cluster orth:hasHomologousMember ?node1 .\n    ?cluster\n    orth:hasHomologousMember ?node2 .\n    ?node2 orth:hasHomologousMember* ?protein_OMA .\n    ?node1 orth:hasHomologousMember* ?orthologous_protein .\n    ?orthologous_protein orth:organism/obo:RO_0002162 taxon:10116 . # rattus norvegicus\n    ?orthologous_protein sio:SIO_010079 ?gene .\n    ?protein_OMA lscr:xrefUniprot ?protein .\n    FILTER(?node1 != ?node2)\n\t\t}\n\t}\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?a .\n    ?a rdfs:label \"brain\" .\n    ?gene orth:organism ?s . \n    ?s obo:RO_0002162 taxon:10116.\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/117_biosodafrontend_glioblastoma_orthologs_rat.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX db: <http://purl.uniprot.org/database/>\n\nSELECT DISTINCT ?protein ?proteinName ?orthologProtein ?orthologName\nWHERE {\n  # Query the UniProt endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find proteins associated with the disease 'Glioma' (identified as a potential match for 'glioblastoma')\n    # Using the specific URI from the entity match\n    ?protein a up:Protein ;\n             rdfs:label ?proteinName ;\n             up:classifiedWith ?disease .\n    ?disease up:disease <http://purl.uniprot.org/diseases/2566> . # Disease: Glioma (based on entity match for 'glioblastoma')\n\n    # Find orthologs of these proteins\n    ?protein up:ortholog ?orthologProtein .\n\n    # Ensure the ortholog is a protein entry itself\n    ?orthologProtein a up:Protein ;\n                     rdfs:label ?orthologName ;\n                     up:organism ?orthologOrganism .\n\n    # Filter orthologs by organism: Rat (Using Rattus norvegicus taxonomy ID for common lab rat)\n    # Note: Querying for 'expressed in rat brain' is not directly possible with standard\n    # UniProt schema properties and requires information from a dedicated expression database,\n    # which is not available in the provided endpoints. This query finds orthologs in the Rat species.\n    ?orthologOrganism up:taxonomy <http://purl.uniprot.org/taxonomy/10116> . # Rattus norvegicus\n  }\n}\nLIMIT 100 # Limit the number of results for performance",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "0510d1ae-c7ad-47dc-ac1d-1263299908fa",
    "evaluation_timestamp": "2025-04-22T16:37:17.241775",
    "question_understanding_tokens": 249,
    "question_understanding_completion_tokens": 37,
    "question_understanding_total_tokens": 286,
    "sparql_construction_prompt_tokens": 2265,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2265,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/116_biosodafrontend_rabit_mouse_orthologs",
    "natural_language_question": "Rabbit's proteins encoded by genes that are orthologous to Mouse's HBB-Y gene and their cross reference links to Uniprot",
    "ground_truth_query": "PREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT DISTINCT ?PROTEIN_1 ?PROTEIN_2 ?UNIPROT_XREF_1 ?UNIPROT_XREF_2 WHERE {\n\t?taxon_1 up:commonName 'Mouse' .\n\t?taxon_2 up:commonName 'Rabbit' .\n\tSERVICE <https://sparql.omabrowser.org/sparql/> {\n\t\t?cluster a orth:OrthologsCluster .\n\t\t?cluster orth:hasHomologousMember ?node1 .\n\t\t?cluster orth:hasHomologousMember ?node2 .\n\t\t?node2 orth:hasHomologousMember* ?PROTEIN_2 .\n\t\t?node1 orth:hasHomologousMember* ?PROTEIN_1 .\n\t\t?PROTEIN_1 a orth:Protein .\n\t\t?PROTEIN_1 orth:organism/obo:RO_0002162 ?taxon_1 ;\n\t\t\trdfs:label 'HBB-Y' ;\n\t\t\tlscr:xrefUniprot ?UNIPROT_XREF_1 .\n\t\t?PROTEIN_2 a orth:Protein .\n\t\t?PROTEIN_2 orth:organism/obo:RO_0002162 ?taxon_2 .\n\t\t?PROTEIN_2 lscr:xrefUniprot ?UNIPROT_XREF_2 .\n\t\tFILTER ( ?node1 != ?node2 )\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/116_biosodafrontend_rabit_mouse_orthologs.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\nSELECT DISTINCT ?rabbitProtein ?rabbitGeneSymbol ?rabbitProteinName\nWHERE {\n  # Use UniProt endpoint to find the mouse protein encoded by the 'HBB-Y' gene\n  # We assume 'HBB-Y' refers to the gene symbol (skos:prefLabel)\n  # We use the common lab mouse taxonomy (Mus musculus, taxon:10090)\n  ?mouseProtein up:organism taxon:10090 .\n  ?mouseProtein up:encodedBy ?mouseGene .\n  ?mouseGene skos:prefLabel \"HBB-Y\" .\n\n  # Find proteins in the common lab rabbit taxonomy (Oryctolagus cuniculus, taxon:9986)\n  # that are orthologous to the identified mouse protein\n  ?rabbitProtein up:organism taxon:9986 .\n  ?rabbitProtein up:orthologTo ?mouseProtein .\n\n  # Retrieve the gene symbol for the rabbit protein (optional)\n  OPTIONAL {\n    ?rabbitProtein up:encodedBy ?rabbitGeneUri .\n    ?rabbitGeneUri skos:prefLabel ?rabbitGeneSymbol .\n  }\n  # Retrieve the recommended full name for the rabbit protein (optional)\n  OPTIONAL {\n    ?rabbitProtein up:recommendedName/up:fullName ?rabbitProteinName .\n  }\n\n  # The ?rabbitProtein variable contains the UniProt URI, which serves as the cross-reference link to UniProt.\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "c24d2a36-e47e-467c-bd8d-35ee4039c8b9",
    "evaluation_timestamp": "2025-04-22T16:37:53.793270",
    "question_understanding_tokens": 258,
    "question_understanding_completion_tokens": 49,
    "question_understanding_total_tokens": 307,
    "sparql_construction_prompt_tokens": 2981,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2981,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/29",
    "natural_language_question": "Use <a href=\"http://allie.dbcls.jp/\">ALLIE</a> a service for Abbreviation / Long Form in Japanese and English to search in UniProt using Japanese.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?protein ?englishLabelStr\nWHERE {\n    SERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n    BIND (STR(?englishLabel) AS ?englishLabelStr)\n    ?protein a up:Protein .\n    {\n        ?protein (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    UNION\n    {\n        VALUES(?partType){(up:domain) (up:component)}\n            ?protein ?partType ?part .\n        ?part (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    ?structuredName ?anyKindOfName  ?englishLabelStr .\n    ?anyKindOfName rdfs:subPropertyOf up:structuredNameType .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/29_search_uniprot_in_japanese_with_allie.ttl",
    "predicted_query": "",
    "predicted_endpoint": null,
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "789c5714-c139-4fa8-a8e3-fdd234074854",
    "evaluation_timestamp": "2025-04-22T16:38:14.432829",
    "question_understanding_tokens": 273,
    "question_understanding_completion_tokens": 22,
    "question_understanding_total_tokens": 295,
    "sparql_construction_prompt_tokens": 1939,
    "sparql_construction_completion_tokens": 618,
    "sparql_construction_total_tokens": 2557,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \"\" at line 1, column 0.\nWas expecting one of:\n    \"base\" ...\n    \"prefix\" ...\n    \"select\" ...\n    \"describe\" ...\n    \"construct\" ...\n    \"ask\" ...",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Encountered \"\" at line 1, column 0.\nWas expecting one of:\n    \"base\" ...\n    \"prefix\" ...\n    \"select\" ...\n    \"describe\" ...\n    \"construct\" ...\n    \"ask\" ..."
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC",
    "natural_language_question": "Select all approved reactions with CHEBI:17815 (a 1,2-diacyl-sn-glycerol) or one of its descendant. Display links to UniProtKB/Swiss-Prot entries via EC numbers if the link rhea-ec exists.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX CHEBI:<http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  distinct\n    ?reaction\n    ?enzyme\n    (count(distinct ?protein) as ?proteinCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:side ?reactionSide .\n\n  OPTIONAL {?reaction rh:ec ?enzyme .\n    SERVICE <https://sparql.uniprot.org/sparql> {\n      ?protein up:reviewed true .\n      ?protein up:enzyme ?enzyme.\n    }\n  } .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  ?chebi rdfs:subClassOf* CHEBI:17815 .\n}\nGROUP BY ?reaction ?enzyme\nORDER BY ?reaction\nLIMIT 985915",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#> # Used by RHEA participants\n\nSELECT DISTINCT ?reaction ?ecNumber ?uniprotEntry\nWHERE {\n  # Query the Rhea DB service to find reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find approved reactions\n    ?reaction rhea:status rhea:approved .\n\n    # Find participants (reactants or products) in the reaction\n    # and check if the associated ChEBI entity is CHEBI:17815 or one of its descendants\n    {\n      ?reaction rhea:reactant ?participant .\n      ?participant rhea:chebi ?chebiEntity .\n    } UNION {\n      ?reaction rhea:product ?participant .\n      ?participant rhea:chebi ?chebiEntity .\n    }\n\n    # Check if the ChEBI entity is CHEBI:17815 or a descendant using rdfs:subClassOf*\n    ?chebiEntity rdfs:subClassOf* chebi:17815 .\n\n    # Find the EC number associated with the reaction, if it exists\n    ?reaction rhea:ec ?ecNumber .\n  }\n\n  # Query the UniProt service to find UniProt entries linked to the EC number\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries that have the found EC number annotation\n    ?uniprotEntry up:ec ?ecNumber .\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "eefbc55c-6228-4990-9ac6-77345c656b76",
    "evaluation_timestamp": "2025-04-22T16:38:45.102924",
    "question_understanding_tokens": 289,
    "question_understanding_completion_tokens": 71,
    "question_understanding_total_tokens": 360,
    "sparql_construction_prompt_tokens": 2125,
    "sparql_construction_completion_tokens": 1998,
    "sparql_construction_total_tokens": 4123,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/11",
    "natural_language_question": "Distribution of reactions according to the first class of the enzyme classification (federated query)",
    "ground_truth_query": "PREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\n# Query 11\n# Retrieve the count of reactions mapped to each level (main class) of the enzyme classification\n#\n# This query mimics the Filter section of the Rhea website (Browse all reactions)\n# https://www.rhea-db.org/rhea?query=\nSELECT ?ecClass (STR(?ecName) AS ?ecClassName) (COUNT(?rhea) AS ?rheaCount)\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-)}\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?rhea rdfs:subClassOf rh:Reaction .\n  ?rhea rh:ec ?ecNumber .\n} GROUP BY ?ecClass ?ecName",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/11.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX uniprot: <http://purl.uniprot.org/core/>\nPREFIX up: <http://purl.uniprot.org/> # UniProt resource URI prefix\n\n# Select the first class of the EC number and count the number of reactions\nSELECT ?firstEcClass (COUNT(DISTINCT ?reaction) AS ?reactionCount)\nWHERE {\n  # Query the Rhea endpoint to find reactions catalyzed by enzymes\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions ?reaction that are catalyzed by an enzyme protein ?enzymeUniProtURI\n    ?reaction rhea:catalyzedBy ?enzymeUniProtURI .\n    # Ensure it's a reaction (optional, could add more specific types if needed)\n    # ?reaction a rhea:Reaction ; # rhea:catalyzedBy already implies a reaction\n  }\n\n  # Query the UniProt endpoint to get the EC number for the enzyme protein\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Use the UniProt URI obtained from Rhea\n    ?enzymeUniProtURI a uniprot:Protein ;\n                      uniprot:ec ?ecNumberLiteral . # Get the EC number literal (e.g., \"1.1.1.1\")\n  }\n\n  # Extract the first part of the EC number string\n  # EC numbers are typically in the format X.Y.Z.W\n  # We want X, which is the substring before the first dot \".\"\n  BIND(STRBEFORE(STR(?ecNumberLiteral), \".\") AS ?firstEcClass)\n\n  # Filter out cases where the EC number literal might not contain a dot\n  # (although standard EC numbers always do)\n  FILTER(?firstEcClass != \"\")\n\n}\n# Group the results by the extracted first EC class\nGROUP BY ?firstEcClass\n# Order the results by the count of reactions in descending order\nORDER BY DESC(?reactionCount)",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "76b9e8d7-ebae-4604-a1b8-5809615bfb54",
    "evaluation_timestamp": "2025-04-22T16:39:01.922114",
    "question_understanding_tokens": 249,
    "question_understanding_completion_tokens": 24,
    "question_understanding_total_tokens": 273,
    "sparql_construction_prompt_tokens": 1561,
    "sparql_construction_completion_tokens": 1570,
    "sparql_construction_total_tokens": 3131,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification",
    "natural_language_question": "Distribution of reactions according to the first level of enzyme classification",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos:<http://www.w3.org/2004/02/skos/core#>\n\nSELECT\n  ?ecClass\n  (str(?ecName) as ?ecClassName)\n  (count(?reaction) as ?reactionCount)\nWHERE\n{\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-) }\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?ecNumber .\n}\nGROUP BY ?ecClass ?ecName\n",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?firstLevel (COUNT(DISTINCT ?reaction) AS ?reactionCount)\nWHERE {\n  # Find reactions in Rhea that are catalyzed by a UniProt entry (enzyme)\n  ?reaction rhea:catalyzedBy ?uniprotEntry .\n\n  # Query UniProt to get the EC number(s) associated with the enzyme\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Use up:ecName to get the string representation of the EC number (e.g., \"1.1.1.1\")\n    ?uniprotEntry up:ecName ?ecLiteral .\n\n    # Extract the first level (the digit before the first dot) from the EC number string\n    BIND(STRBEFORE(?ecLiteral, \".\") AS ?firstLevel)\n\n    # Filter to include only valid first-level EC numbers (1 through 7)\n    FILTER(REGEX(?firstLevel, \"^[1-7]$\"))\n  }\n  # Note: A reaction might be catalyzed by multiple enzymes with different EC numbers,\n  # or an enzyme might have multiple EC numbers. This query counts a reaction\n  # towards each unique first-level EC associated with any catalyzing enzyme.\n}\nGROUP BY ?firstLevel\nORDER BY ?firstLevel",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "0e9bf278-7b79-4a49-a3c2-4252c70c16ad",
    "evaluation_timestamp": "2025-04-22T16:39:25.678059",
    "question_understanding_tokens": 238,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 264,
    "sparql_construction_prompt_tokens": 1998,
    "sparql_construction_completion_tokens": 3314,
    "sparql_construction_total_tokens": 5312,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rhea%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+rdf%3A+%3Chttp%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+%3FfirstLevel+%28COUNT%28DISTINCT+%3Freaction%29+AS+%3FreactionCount%29%0AWHERE+%7B%0A++%23+Find+reactions+in+Rhea+that+are+catalyzed+by+a+UniProt+entry+%28enzyme%29%0A++%3Freaction+rhea%3AcatalyzedBy+%3FuniprotEntry+.%0A%0A++%23+Query+UniProt+to+get+the+EC+number%28s%29+associated+with+the+enzyme%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++%23+Use+up%3AecName+to+get+the+string+representation+of+the+EC+number+%28e.g.%2C+%221.1.1.1%22%29%0A++++%3FuniprotEntry+up%3AecName+%3FecLiteral+.%0A%0A++++%23+Extract+the+first+level+%28the+digit+before+the+first+dot%29+from+the+EC+number+string%0A++++BIND%28STRBEFORE%28%3FecLiteral%2C+%22.%22%29+AS+%3FfirstLevel%29%0A%0A++++%23+Filter+to+include+only+valid+first-level+EC+numbers+%281+through+7%29%0A++++FILTER%28REGEX%28%3FfirstLevel%2C+%22%5E%5B1-7%5D%24%22%29%29%0A++%7D%0A++%23+Note%3A+A+reaction+might+be+catalyzed+by+multiple+enzymes+with+different+EC+numbers%2C%0A++%23+or+an+enzyme+might+have+multiple+EC+numbers.+This+query+counts+a+reaction%0A++%23+towards+each+unique+first-level+EC+associated+with+any+catalyzing+enzyme.%0A%7D%0AGROUP+BY+%3FfirstLevel%0AORDER+BY+%3FfirstLevel&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/12",
    "natural_language_question": "Select all Rhea reactions linked to protein sequences (enzymes and transporters) in UniProtKB",
    "ground_truth_query": "PREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Query 12\n# Select all Rhea reactions used to annotate enzyme sequences in UniProtKB\n# return the number of UniProtKB entries\n# Federated query using a service to UniProt SPARQL endpoint\n#\n# This query corresponds to the Rhea website query:\n# https://www.rhea-db.org/rhea?query=uniprot:*\n#\nSELECT ?uniprotCount ?rhea ?accession ?equation \nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> { \n  \tSELECT ?rhea (count(?uniprot) as ?uniprotCount) {\n      ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea . \n  \t}\n  \tGROUP BY ?rhea\n  }\n  ?rhea rh:accession ?accession .\n  ?rhea rh:equation ?equation .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/12.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rhea: <http://rdf.rhea-db.org/>\n\nSELECT DISTINCT ?reaction\nWHERE {\n  # Query UniProt to find protein entries that link to Rhea resources\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find any resource ?rheaResource linked from a UniProt protein ?protein\n    ?protein rdfs:seeAlso ?rheaResource .\n\n    # Filter these linked resources to ensure they are within the Rhea namespace\n    FILTER(STRSTARTS(STR(?rheaResource), \"http://rdf.rhea-db.org/\"))\n  }\n\n  # Query Rhea to verify that the linked resource is a Rhea Reaction\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Check if the resource URI obtained from UniProt is of type rhea:Reaction\n    ?rheaResource a rhea:Reaction .\n\n    # Use the verified Rhea Reaction URI as the result\n    BIND(?rheaResource AS ?reaction)\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1c17b2f9-dcdc-4a65-a50c-4c1dc8ddf294",
    "evaluation_timestamp": "2025-04-22T16:39:52.145692",
    "question_understanding_tokens": 251,
    "question_understanding_completion_tokens": 30,
    "question_understanding_total_tokens": 281,
    "sparql_construction_prompt_tokens": 1794,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 1794,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/112_Total_number_of_reaction_ec_protein_links",
    "natural_language_question": "Total number of <reaction> <ec> <protein> links",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  (count(?reaction) as ?reactionEcProteinLinkCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?enzyme\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    ?protein up:reviewed true .\n    ?protein up:enzyme ?enzyme.\n  }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/112_Total_number_of_reaction_ec_protein_links.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/> # Not strictly needed if using literal ECs from Rhea\n\nSELECT (COUNT(DISTINCT *) AS ?totalLinks)\nWHERE {\n  # Query UniProt to find proteins and the reactions they catalyze\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    BIND(IRI(CONCAT(\"http://purl.uniprot.org/uniprot/\", ?uniprotAccession)) AS ?protein) # Construct protein URI\n    ?protein a up:Protein ;\n             # Link protein to the reaction it catalyzes.\n             # UniProt uses the rhea:catalyzedReaction property (defined in Rhea namespace).\n             rhea:catalyzedReaction ?reaction .\n  }\n\n  # Query Rhea to find the EC number associated with the reaction found in UniProt\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Link reaction to its EC number. Rhea uses rhea:ec property linking to a literal EC string.\n    ?reaction rhea:ec ?ec .\n  }\n\n  # The variable ?reaction acts as the link between the two services,\n  # ensuring we count protein-reaction-EC triplets where the protein catalyzes that specific reaction,\n  # and that reaction has that specific EC number.\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "77cda279-fb81-4a16-b7a6-3958648103b2",
    "evaluation_timestamp": "2025-04-22T16:40:10.530443",
    "question_understanding_tokens": 244,
    "question_understanding_completion_tokens": 21,
    "question_understanding_total_tokens": 265,
    "sparql_construction_prompt_tokens": 2191,
    "sparql_construction_completion_tokens": 1667,
    "sparql_construction_total_tokens": 3858,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/19_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?rhea rh:side/rh:contains/rh:compound ?compound .\n  ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n  SERVICE <https://sparql.uniprot.org/sparql> {\n     ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n                                             up:organism taxon:9606 ;\n                                             up:mnemonic ?mnemonic .\n\n   }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/19_draft_human_metabolome.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX sl: <http://swisslipids.org/ontology/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\n\n# This query generates a draft list of entities potentially part of the human metabolome.\n# It retrieves metabolites involved in biochemical reactions catalyzed by human enzymes (from Rhea)\n# and lipids related to human enzymes (from SwissLipids).\nSELECT DISTINCT ?metabolite ?lipid\nWHERE {\n  {\n    # Part 1: Metabolites involved in human enzyme-catalyzed reactions from Rhea\n    SERVICE <https://sparql.rhea-db.org/sparql> {\n      # Find reactions catalyzed by an enzyme\n      ?reaction rhea:catalyzedBy ?enzyme_rhea .\n      # Find the metabolites involved as substrates or products\n      { ?reaction rhea:substrate ?metabolite } UNION { ?reaction rhea:product ?metabolite }\n      # Ensure ?metabolite is a Rhea compound (linked to ChEBI)\n      ?metabolite a rhea:Compound .\n    }\n    # Check if the enzyme is from Homo sapiens (taxonomy ID 9606) using UniProt service\n    SERVICE <https://sparql.uniprot.org/sparql> {\n      ?enzyme_rhea up:organism taxon:9606 .\n    }\n    # Bind UNDEF to ?lipid for results from Rhea to align columns in UNION\n    BIND(UNDEF AS ?lipid)\n  }\n  UNION\n  {\n    # Part 2: Lipids related to human enzymes from SwissLipids\n    SERVICE <https://sparql.swisslipids.org/sparql/> {\n      # Find entities that are Lipids\n      ?lipid a sl:Lipid .\n      # Find enzymes related to these lipids\n      ?lipid sl:relatedEnzyme ?enzyme_sl .\n      # Get the UniProt accession for the enzyme\n      ?enzyme_sl sl:uniprot ?uniprot_entry_sl .\n    }\n    # Check if the UniProt entry is from Homo sapiens using UniProt service\n    SERVICE <https://sparql.uniprot.org/sparql> {\n       ?uniprot_entry_sl up:organism taxon:9606 .\n    }\n    # Bind UNDEF to ?metabolite for results from SwissLipids to align columns in UNION\n    BIND(UNDEF AS ?metabolite)\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "aa0e0e65-b3ab-4316-aca8-fb7a97085fbc",
    "evaluation_timestamp": "2025-04-22T16:40:45.429009",
    "question_understanding_tokens": 238,
    "question_understanding_completion_tokens": 22,
    "question_understanding_total_tokens": 260,
    "sparql_construction_prompt_tokens": 1476,
    "sparql_construction_completion_tokens": 5202,
    "sparql_construction_total_tokens": 6678,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \" \"undef\" \"UNDEF \"\" at line 28, column 10.\nWas expecting one of:\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"TRIPLE\" ...\n    \"isTRIPLE\" ...\n    \"SUBJECT\" ...\n    \"PREDICATE\" ...\n    \"OBJECT\" ...\n    \"exists\" ...\n    \"not\" ...\n    \"count\" ...\n    \"min\" ...\n    \"max\" ...\n    \"sum\" ...\n    \"avg\" ...\n    \"sample\" ...\n    \"group_concat\" ...\n    \"bound\" ...\n    \"coalesce\" ...\n    \"if\" ...\n    \"bnode\" ...\n    \"iri\" ...\n    \"uri\" ...\n    \"str\" ...\n    \"strlang\" ...\n    \"strdt\" ...\n    \"datatype\" ...\n    \"lang\" ...\n    \"langmatches\" ...\n    \"isURI\" ...\n    \"isIRI\" ...\n    \"isBlank\" ...\n    \"isLiteral\" ...\n    \"isNumeric\" ...\n    \"regex\" ...\n    \"sameTerm\" ...\n    \"RAND\" ...\n    \"ABS\" ...\n    \"CEIL\" ...\n    \"FLOOR\" ...\n    \"ROUND\" ...\n    \"CONCAT\" ...\n    \"SUBSTR\" ...\n    \"STRLEN\" ...\n    \"REPLACE\" ...\n    \"UCASE\" ...\n    \"LCASE\" ...\n    \"ENCODE_FOR_URI\" ...\n    \"CONTAINS\" ...\n    \"STRSTARTS\" ...\n    \"STRENDS\" ...\n    \"STRBEFORE\" ...\n    \"STRAFTER\" ...\n    \"YEAR\" ...\n    \"MONTH\" ...\n    \"DAY\" ...\n    \"HOURS\" ...\n    \"MINUTES\" ...\n    \"SECONDS\" ...\n    \"TIMEZONE\" ...\n    \"TZ\" ...\n    \"NOW\" ...\n    \"UUID\" ...\n    \"STRUUID\" ...\n    \"MD5\" ...\n    \"SHA1\" ...\n    \"SHA256\" ...\n    \"SHA384\" ...\n    \"SHA512\" ...\n    \"true\" ...\n    \"false\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n    \"<<\" ...\n    \"!\" ...\n    \"+\" ...\n    \"-\" ...",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Encountered \" \"undef\" \"UNDEF \"\" at line 28, column 10.\nWas expecting one of:\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"TRIPLE\" ...\n    \"isTRIPLE\" ...\n    \"SUBJECT\" ...\n    \"PREDICATE\" ...\n    \"OBJECT\" ...\n    \"exists\" ...\n    \"not\" ...\n    \"count\" ...\n    \"min\" ...\n    \"max\" ...\n    \"sum\" ...\n    \"avg\" ...\n    \"sample\" ...\n    \"group_concat\" ...\n    \"bound\" ...\n    \"coalesce\" ...\n    \"if\" ...\n    \"bnode\" ...\n    \"iri\" ...\n    \"uri\" ...\n    \"str\" ...\n    \"strlang\" ...\n    \"strdt\" ...\n    \"datatype\" ...\n    \"lang\" ...\n    \"langmatches\" ...\n    \"isURI\" ...\n    \"isIRI\" ...\n    \"isBlank\" ...\n    \"isLiteral\" ...\n    \"isNumeric\" ...\n    \"regex\" ...\n    \"sameTerm\" ...\n    \"RAND\" ...\n    \"ABS\" ...\n    \"CEIL\" ...\n    \"FLOOR\" ...\n    \"ROUND\" ...\n    \"CONCAT\" ...\n    \"SUBSTR\" ...\n    \"STRLEN\" ...\n    \"REPLACE\" ...\n    \"UCASE\" ...\n    \"LCASE\" ...\n    \"ENCODE_FOR_URI\" ...\n    \"CONTAINS\" ...\n    \"STRSTARTS\" ...\n    \"STRENDS\" ...\n    \"STRBEFORE\" ...\n    \"STRAFTER\" ...\n    \"YEAR\" ...\n    \"MONTH\" ...\n    \"DAY\" ...\n    \"HOURS\" ...\n    \"MINUTES\" ...\n    \"SECONDS\" ...\n    \"TIMEZONE\" ...\n    \"TZ\" ...\n    \"NOW\" ...\n    \"UUID\" ...\n    \"STRUUID\" ...\n    \"MD5\" ...\n    \"SHA1\" ...\n    \"SHA256\" ...\n    \"SHA384\" ...\n    \"SHA512\" ...\n    \"true\" ...\n    \"false\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n    \"<<\" ...\n    \"!\" ...\n    \"+\" ...\n    \"-\" ..."
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/20_search_chemical_names_in_japanese",
    "natural_language_question": "Search for Chemical names starting in Japanese, translated to english using allie",
    "ground_truth_query": "PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT\n*\nWHERE {\nSERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"1,2,4-\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n  BIND(STR(?englishLabel) AS ?englishLabelStr)\n  ?chebi rdfs:label|oboInOwl:hasSynonym ?englishLabelStr .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/20_search_chemical_names_in_japanese.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX chebi: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\n\nSELECT DISTINCT ?chemical ?japaneseName ?englishName\nWHERE {\n  # Query the Rhea endpoint, which includes ChEBI data according to its description.\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find entities that are likely ChEBI chemical entities based on their URI pattern.\n    ?chemical a ?type . # Match any type, then filter by URI\n    FILTER(STRSTARTS(STR(?chemical), STR(obo:CHEBI_)))\n\n    # Find names or synonyms for the chemical with a Japanese language tag.\n    {\n      # Check for the preferred ChEBI name in Japanese\n      ?chemical chebi:chebi_name ?japaneseName .\n      FILTER (lang(?japaneseName) = \"ja\")\n    } UNION {\n      # Check for other synonyms/aliases in Japanese\n      ?chemical chebi:has_synonym ?japaneseName .\n      FILTER (lang(?japaneseName) = \"ja\")\n    }\n    # Optional: Add other potential name properties if needed, e.g., rdfs:label, skos:altLabel\n    # UNION { ?chemical rdfs:label ?japaneseName . FILTER (lang(?japaneseName) = \"ja\") }\n    # UNION { ?chemical skos:altLabel ?japaneseName . FILTER (lang(?japaneseName) = \"ja\") }\n\n\n    # Find names or synonyms for the *same* chemical with an English language tag (serving as the \"alias/translation\").\n    {\n      # Check for the preferred ChEBI name in English\n      ?chemical chebi:chebi_name ?englishName .\n      FILTER (lang(?englishName) = \"en\")\n    } UNION {\n      # Check for other synonyms/aliases in English\n      ?chemical chebi:has_synonym ?englishName .\n      FILTER (lang(?englishName) = \"en\")\n    }\n    # Optional: Add other potential name properties if needed\n    # UNION { ?chemical rdfs:label ?englishName . FILTER (lang(?englishName) = \"en\") }\n    # UNION { ?chemical skos:altLabel ?englishName . FILTER (lang(?englishName) = \"en\") }\n\n    # The structure of the query ensures that both a Japanese name/synonym (?japaneseName)\n    # and an English name/synonym (?englishName) are found for the same chemical entity (?chemical).\n  }\n}\n# Limit the number of results for performance and readability\nLIMIT 100",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "31d48566-3b71-4ad7-b707-0886aa97be48",
    "evaluation_timestamp": "2025-04-22T16:41:19.847984",
    "question_understanding_tokens": 248,
    "question_understanding_completion_tokens": 28,
    "question_understanding_total_tokens": 276,
    "sparql_construction_prompt_tokens": 1546,
    "sparql_construction_completion_tokens": 5263,
    "sparql_construction_total_tokens": 6809,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction",
    "natural_language_question": "Retrieve parent reactions (and their catalyzing enzymes) for a metabolite that is not directly involved in a reaction (ex: CHEBI:83137).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?ecNumber\n  (count(?protein) as ?proteinCount)\n  ?reaction\n  ?equation\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:equation ?equation .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  CHEBI:83137 rdfs:subClassOf+ ?chebi.\n\n  SERVICE <https://sparql.uniprot.org/sparql> {\n  ?protein a up:Protein .\n  ?protein up:reviewed true .\n    {?protein up:enzyme ?ecNumber}\n  UNION\n    {?protein up:domain/up:enzyme ?ecNumber}\n  UNION\n    {?protein up:component/up:enzyme ?ecNumber} .\n  }\n} \nGROUP BY ?chebi ?ecNumber ?reaction ?equation",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rhea: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?reaction ?reaction_name ?enzyme ?enzyme_name\nWHERE {\n  # Query Rhea for reactions involving the metabolite CHEBI:83137\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions that have an equation\n    ?reaction rhea:reactionEquation ?equation .\n    # Find the reaction name if available\n    OPTIONAL { ?reaction rdfs:label ?reaction_name . }\n\n    # Check if the metabolite CHEBI:83137 is present on either side of the equation\n    {\n      # Metabolite is on the left side (reactant)\n      ?equation rhea:hasLeft ?left_side .\n      ?left_side rhea:contains ?compound .\n      ?compound rhea:chebi chebi:83137 .\n    } UNION {\n      # Metabolite is on the right side (product)\n      ?equation rhea:hasRight ?right_side .\n      ?right_side rhea:contains ?compound .\n      ?compound rhea:chebi chebi:83137 .\n    }\n\n    # Find the enzyme(s) that catalyze this reaction\n    ?reaction rhea:catalyzedBy ?enzyme .\n  }\n\n  # Query UniProt for details about the catalyzing enzyme\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Get the preferred label (protein name) for the enzyme\n    ?enzyme skos:prefLabel ?enzyme_name .\n    # Fallback to rdfs:label if skos:prefLabel is not available (less likely for proteins)\n    OPTIONAL { ?enzyme rdfs:label ?enzyme_rdfs_label . }\n  }\n  # Use rdfs:label if enzyme_name wasn't found via skos:prefLabel\n  BIND(COALESCE(?enzyme_name, ?enzyme_rdfs_label) AS ?enzyme_name)\n}\nORDER BY ?reaction",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "35d3a8f1-a3dc-44a9-92f2-b63b3359193b",
    "evaluation_timestamp": "2025-04-22T16:41:46.577999",
    "question_understanding_tokens": 264,
    "question_understanding_completion_tokens": 42,
    "question_understanding_total_tokens": 306,
    "sparql_construction_prompt_tokens": 2514,
    "sparql_construction_completion_tokens": 3280,
    "sparql_construction_total_tokens": 5794,
    "is_valid_sparql": false,
    "sparql_syntax_error": "BIND: Variable used when already in-scope: ?enzyme_name in BIND(coalesce(?enzyme_name, ?enzyme_rdfs_label) AS ?enzyme_name)",
    "ground_truth_query_result_is_empty": null,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "BIND: Variable used when already in-scope: ?enzyme_name in BIND(coalesce(?enzyme_name, ?enzyme_rdfs_label) AS ?enzyme_name)"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome",
    "natural_language_question": "Retrieve the set of metabolites involved in reactions catalyzed by human genes (HUMAN reference proteome)",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?reaction\n  ?ecNumber\n  ?protein\n  ?ensemblTranscript\n  ?ensemblGene\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true .\n    ?protein up:organism taxon:9606 .\n    ?protein up:classifiedWith keywords:1185 .\n\n    ?protein rdfs:seeAlso ?ensemblTranscript .\n    ?ensemblTranscript a up:Transcript_Resource .\n    ?ensemblTranscript up:database <http://purl.uniprot.org/database/Ensembl> .\n    ?ensemblTranscript up:transcribedFrom ?ensemblGene .\n\n      {?protein up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:domain/up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:component/up:enzyme ?ecNumber .}\n  }\n\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi . # only considering small molecules participants\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX up.taxonomy: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?chemical ?metaboliteName\nWHERE {\n  # Find human proteins in UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein ;\n             up:organism up.taxonomy:9606 ; # Human\n             up:catalyzedReaction ?reaction . # Find reactions catalyzed by human proteins\n  }\n\n  # Find metabolites involved in these reactions in Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rh:involvedParticipant ?participant .\n    ?participant rh:chemical ?chemical .\n    # Get the name of the chemical (metabolite) from ChEBI\n    OPTIONAL { ?chemical rdfs:label ?metaboliteName . }\n    # Although rh:chemical implies a chemical entity, we can optionally filter by a broad ChEBI class if needed,\n    # but for this query, finding chemicals involved in reactions is sufficient.\n    # ?chemical a chebi:35200 . # Example: Filter for 'chemical entity'\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "3dca1fe8-d873-454f-8411-629976589222",
    "evaluation_timestamp": "2025-04-22T16:42:30.373315",
    "question_understanding_tokens": 249,
    "question_understanding_completion_tokens": 28,
    "question_understanding_total_tokens": 277,
    "sparql_construction_prompt_tokens": 2099,
    "sparql_construction_completion_tokens": 0,
    "sparql_construction_total_tokens": 2099,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "ground_truth_query_result_is_empty": false,
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  }
]