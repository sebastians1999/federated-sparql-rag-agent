[
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/16",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all enzymes in UniProtKB/Swiss-Prot annotated to catalyze reactions involving that lipid.\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 16\nSELECT ?startId ?startName ?uniprot\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/16.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT ?startId ?startName ?chebi ?rhea ?rheaEquation ?uniprot ?uniprotName\nWHERE\n{\n  # SwissLipids query for the specified lipid\n  VALUES ?startId { SWISSLIPID:000399814 }\n  \n  # Get the lipid's name\n  ?startId rdfs:label ?startName .\n  \n  # Get the ChEBI cross-reference for the lipid\n  ?startId owl:equivalentClass ?chebi .\n  \n  # Federated query to Rhea to find reactions involving the ChEBI compound\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:equation ?rheaEquation .\n    ?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  \n  # Federated query to UniProt to find enzymes catalyzing these Rhea reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true . # Filter for reviewed UniProt entries (Swiss-Prot)\n    ?uniprot up:recommendedName/up:fullName ?uniprotName .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId ?uniprot",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "86257567-0d39-4a67-9492-cc4aa00966bf",
    "evaluation_timestamp": "2025-05-26T11:13:41.267594",
    "question_understanding_prompt_tokens": 307,
    "question_understanding_completion_tokens": 42,
    "question_understanding_total_tokens": 349,
    "planning_prompt_tokens": 7503,
    "planning_completion_tokens": 155,
    "planning_total_tokens": 7658,
    "pattern_prompt_tokens": 22221,
    "pattern_completion_tokens": 304,
    "pattern_total_tokens": 22525,
    "assembler_prompt_tokens": 5157,
    "assembler_completion_tokens": 0,
    "assembler_total_tokens": 5157,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/6",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation), as well as their enzymes as annotated in UniProtKB/Swiss-Prot) enzymes themselves (ID and protein name).\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 6\nSELECT ?startId ?startName ?chebi ?rhea ?rheaEquation ?uniprot ?uniprotName\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:recommendedName/up:fullName ?uniprotName .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/6.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?rheaId ?rheaEquation ?enzymeId ?enzymeName\nWHERE\n{\n  # 1. Start with the given lipid in SwissLipids (host endpoint)\n  VALUES ?lipid { SWISSLIPID:000399814 }\n  \n  # Get the ChEBI equivalent for the lipid to link to Rhea\n  ?lipid owl:equivalentClass ?chebi .\n\n  # 2. Federate to Rhea to find reactions involving this ChEBI compound\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find Rhea reactions that contain the ChEBI compound\n    ?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n    \n    # Get Rhea ID (accession) and equation\n    ?rhea rh:accession ?rheaId .\n    ?rhea rh:equation ?rheaEquation .\n  }\n  \n  # 3. Federate to UniProt to find enzymes catalyzing these Rhea reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries that catalyze the identified Rhea reactions\n    ?enzymeId up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n    \n    # Ensure it's a reviewed UniProt entry (Swiss-Prot)\n    ?enzymeId up:reviewed true .\n    \n    # Get the full protein name\n    ?enzymeId up:recommendedName/up:fullName/up:value ?enzymeName .\n  }\n}\nORDER BY ?rheaId ?enzymeName",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "faf50b98-3d7a-40a5-9cb4-95fcab79aba5",
    "evaluation_timestamp": "2025-05-26T11:29:44.450081",
    "question_understanding_prompt_tokens": 320,
    "question_understanding_completion_tokens": 89,
    "question_understanding_total_tokens": 409,
    "planning_prompt_tokens": 6736,
    "planning_completion_tokens": 132,
    "planning_total_tokens": 6868,
    "pattern_prompt_tokens": 17102,
    "pattern_completion_tokens": 342,
    "pattern_total_tokens": 17444,
    "assembler_prompt_tokens": 4193,
    "assembler_completion_tokens": 492,
    "assembler_total_tokens": 4685,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/5",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation).\nThis query does consider the hierarchy: it looks for reactions involving the specified lipid and/or its more specific forms.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\n\n# Example 5\nSELECT ?startId ?startName ?id ?name ?chebi ?rhea ?rheaEquation \nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # Retrieve children lipids \n  ?id rdfs:subClassOf* ?startId .\n  ?id rdfs:label ?name .\n  # ChEBI x-ref\n  ?id owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n} \nORDER BY  ?startId ?id",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/5.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?rheaId ?equation\nWHERE {\n  # Start by identifying the ChEBI equivalent for the given SwissLipid ID\n  VALUES ?lipidId { SWISSLIPID:000399814 }\n  ?lipidId owl:equivalentClass ?chebi . # ?chebi will be CHEBI:17761 for Ceramide\n\n  # Federate to the Rhea endpoint to find reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:accession ?rheaId .\n    ?rhea rh:equation ?equation .\n    \n    # Find compounds involved in the reaction\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    \n    # Get the ChEBI identifier for the compound, considering various properties\n    ?compound (rh:chebi|rh:reactivePart/rh:chebi|rh:underlyingChebi/rh:chebi) ?chebiInRhea .\n    \n    # Ensure the compound's ChEBI is the specified lipid or one of its more specific forms (subclasses)\n    ?chebiInRhea rdfs:subClassOf* ?chebi .\n  }\n}",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "a8a77b55-48a9-42aa-b51e-3498fee77d35",
    "evaluation_timestamp": "2025-05-26T11:40:40.618454",
    "question_understanding_prompt_tokens": 302,
    "question_understanding_completion_tokens": 66,
    "question_understanding_total_tokens": 368,
    "planning_prompt_tokens": 6093,
    "planning_completion_tokens": 111,
    "planning_total_tokens": 6204,
    "pattern_prompt_tokens": 8829,
    "pattern_completion_tokens": 303,
    "pattern_total_tokens": 9132,
    "assembler_prompt_tokens": 4450,
    "assembler_completion_tokens": 413,
    "assembler_total_tokens": 4863,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/34",
    "natural_language_question": "Lipids affected by human enzymes",
    "ground_truth_query": "PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?swisslipid  {\n  ?swisslipid owl:equivalentClass ?chebi .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n\t?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?metabolite . \n  }\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?catalyticActivityAnnotation up:catalyticActivity/up:catalyzedReaction ?rhea .\n    ?protein up:annotation ?catalyticActivityAnnotation ;\n             up:organism taxon:9606 .\n  }\n}\nLIMIT 1",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/34.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\n\nSELECT DISTINCT ?enzyme ?enzymeName ?swisslipid ?swisslipidLabel ?lipidChebi\nWHERE {\n  # UniProt: Find human enzymes and the reactions they catalyze\n  ?enzyme up:organism taxon:9606 . # Filter for human enzymes\n  ?enzyme up:annotation/up:catalyticActivity/up:catalyzedReaction ?reaction .\n  ?enzyme up:recommendedName/up:fullName ?enzymeName .\n\n  # Rhea: Find reactions involving lipids\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rh:side/rh:contains/rh:compound/rh:chebi ?lipidChebi .\n    ?lipidChebi rdfs:subClassOf* CHEBI:18059 . # CHEBI:18059 represents 'lipid'\n  }\n\n  # SwissLipids: Map ChEBI IDs to SwissLipids and retrieve their labels\n  SERVICE <https://beta.sparql.swisslipids.org/> {\n    ?swisslipid owl:equivalentClass ?lipidChebi .\n    ?swisslipid rdfs:label ?swisslipidLabel .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "a3f8c149-4973-491b-b1dd-22becdcc3c56",
    "evaluation_timestamp": "2025-05-26T11:42:27.634534",
    "question_understanding_prompt_tokens": 247,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 267,
    "planning_prompt_tokens": 7633,
    "planning_completion_tokens": 143,
    "planning_total_tokens": 7776,
    "pattern_prompt_tokens": 26233,
    "pattern_completion_tokens": 424,
    "pattern_total_tokens": 26657,
    "assembler_prompt_tokens": 6726,
    "assembler_completion_tokens": 402,
    "assembler_total_tokens": 7128,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/118_biosodafrontend_rat_brain_human_cancer",
    "natural_language_question": "What are the Homo sapiens genes associated with cancer and their orthologs expressed in the Rattus norvegicus brain?",
    "ground_truth_query": "PREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX orth:<http://purl.org/net/orth#>\nPREFIX dcterms:<http://purl.org/dc/terms/>\nPREFIX obo:<http://purl.obolibrary.org/obo/>\nPREFIX lscr:<http://purl.org/lscr#>\nPREFIX genex:<http://purl.org/genex#>\nPREFIX sio: <http://semanticscience.org/resource/>\nSELECT ?gene ?orthologous_protein2 WHERE {\n  {\n    SELECT ?protein1 WHERE {\n      ?protein1 a up:Protein;\n        up:organism/up:scientificName 'Homo sapiens' ;\n        up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text.\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"cancer\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein2 ?protein1 ?gene WHERE {\n      ?protein_OMA a orth:Protein .\n      ?orthologous_protein2 a orth:Protein .\n      ?cluster a orth:OrthologsCluster .\n      ?cluster orth:hasHomologousMember ?node1 .\n      ?cluster orth:hasHomologousMember ?node2 .\n      ?node2 orth:hasHomologousMember* ?protein_OMA .\n      ?node1 orth:hasHomologousMember* ?orthologous_protein2 \n      .?orthologous_protein2 orth:organism/obo:RO_0002162/up:scientificName 'Rattus norvegicus' .\n      ?orthologous_protein2 sio:SIO_010079 ?gene .\n      ?protein_OMA lscr:xrefUniprot ?protein1 .\n      FILTER(?node1 != ?node2)\n    }\n  }\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?anatEntity .\n    ?anatEntity rdfs:label 'brain' .\n    ?gene orth:organism ?org . \n    ?org obo:RO_0002162 taxon:10116 .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/118_biosodafrontend_rat_brain_human_cancer.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX genex: <http://purl.org/genex#>\n\nSELECT DISTINCT ?humanGeneName ?diseaseLabel ?ratGeneName ?expressionLevel\nWHERE {\n  # UniProt: Find Homo sapiens proteins associated with diseases\n  GRAPH <http://sparql.uniprot.org/uniprot> {\n    ?humanProtein a up:Protein ;\n                  up:organism taxon:9606 ; # Homo sapiens\n                  up:encodedBy ?humanGene .\n    ?humanGene skos:prefLabel ?humanGeneName .\n    ?humanProtein up:annotation ?annotation .\n    ?annotation a up:Disease_Annotation ;\n                up:disease ?disease .\n  }\n  GRAPH <http://sparql.uniprot.org/diseases> {\n    ?disease a up:Disease ;\n             rdfs:seeAlso ?meshTerm .\n    ?meshTerm up:database <http://purl.uniprot.org/database/MeSH> .\n    OPTIONAL { ?disease rdfs:label ?diseaseLabel . } # Get disease label from UniProt\n  }\n\n  # MeSH: Filter for cancer-related terms\n  SERVICE <https://id.nlm.nih.gov/mesh/sparql> {\n    GRAPH <http://id.nlm.nih.gov/mesh> {\n      # D009369 is the MeSH ID for 'Neoplasms' (Cancer)\n      # This pattern finds D009369 itself and any narrower terms (sub-concepts of cancer)\n      ?meshTerm meshv:broaderDescriptor* <http://id.nlm.nih.gov/mesh/D009369> .\n    }\n  }\n\n  # OMA Browser: Find orthologs between human and rat\n  SERVICE <https://sparql.omabrowser.org/sparql> {\n    ?cluster a orth:OrthologsCluster . # Ensure we are looking for orthologs\n    ?cluster orth:hasHomologousMember ?humanNode , ?ratNode .\n\n    ?humanNode lscr:xrefUniprot ?humanProtein .\n    ?humanNode orth:organism/obo:RO_0002162 taxon:9606 . # Homo sapiens\n\n    ?ratNode lscr:xrefUniprot ?ratProtein .\n    ?ratNode orth:organism/obo:RO_0002162 taxon:10116 . # Rattus norvegicus\n  }\n\n  # UniProt (again): Get Ensembl gene ID and gene name for the rat ortholog\n  GRAPH <http://sparql.uniprot.org/uniprot> {\n    ?ratProtein rdfs:seeAlso ?ratEnsemblXref .\n    ?ratEnsemblXref up:transcribedFrom ?ratEnsemblGene . # Link UniProt protein to Ensembl gene\n    ?ratProtein up:encodedBy ?ratGene .\n    ?ratGene skos:prefLabel ?ratGeneName .\n  }\n\n  # Bgee: Check expression of Rattus norvegicus orthologs in the brain\n  SERVICE <https://www.bgee.org/sparql> {\n    ?bgeeGene lscr:xrefEnsemblGene ?ratEnsemblGene . # Link Bgee gene to Ensembl gene\n    ?bgeeGene genex:hasExpression ?expressionCall .\n    ?expressionCall genex:inTaxon taxon:10116 . # Rattus norvegicus\n    ?expressionCall genex:inAnatomicalEntity obo:UBERON_0000955 . # UBERON ID for Brain\n    OPTIONAL { ?expressionCall genex:expressionLevel ?expressionLevel . } # Get expression level if available\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "069af19a-9665-443c-9bfb-dd32c204cdee",
    "evaluation_timestamp": "2025-05-26T11:45:29.086295",
    "question_understanding_prompt_tokens": 258,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 305,
    "planning_prompt_tokens": 7481,
    "planning_completion_tokens": 218,
    "planning_total_tokens": 7699,
    "pattern_prompt_tokens": 42048,
    "pattern_completion_tokens": 1573,
    "pattern_total_tokens": 43621,
    "assembler_prompt_tokens": 6621,
    "assembler_completion_tokens": 1026,
    "assembler_total_tokens": 7647,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+skos%3A+%3Chttp%3A//www.w3.org/2004/02/skos/core%23%3E%0APREFIX+meshv%3A+%3Chttp%3A//id.nlm.nih.gov/mesh/vocab%23%3E%0APREFIX+orth%3A+%3Chttp%3A//purl.org/net/orth%23%3E%0APREFIX+lscr%3A+%3Chttp%3A//purl.org/lscr%23%3E%0APREFIX+obo%3A+%3Chttp%3A//purl.obolibrary.org/obo/%3E%0APREFIX+genex%3A+%3Chttp%3A//purl.org/genex%23%3E%0A%0ASELECT+DISTINCT+%3FhumanGeneName+%3FdiseaseLabel+%3FratGeneName+%3FexpressionLevel%0AWHERE+%7B%0A++%23+UniProt%3A+Find+Homo+sapiens+proteins+associated+with+diseases%0A++GRAPH+%3Chttp%3A//sparql.uniprot.org/uniprot%3E+%7B%0A++++%3FhumanProtein+a+up%3AProtein+%3B%0A++++++++++++++++++up%3Aorganism+taxon%3A9606+%3B+%23+Homo+sapiens%0A++++++++++++++++++up%3AencodedBy+%3FhumanGene+.%0A++++%3FhumanGene+skos%3AprefLabel+%3FhumanGeneName+.%0A++++%3FhumanProtein+up%3Aannotation+%3Fannotation+.%0A++++%3Fannotation+a+up%3ADisease_Annotation+%3B%0A++++++++++++++++up%3Adisease+%3Fdisease+.%0A++%7D%0A++GRAPH+%3Chttp%3A//sparql.uniprot.org/diseases%3E+%7B%0A++++%3Fdisease+a+up%3ADisease+%3B%0A+++++++++++++rdfs%3AseeAlso+%3FmeshTerm+.%0A++++%3FmeshTerm+up%3Adatabase+%3Chttp%3A//purl.uniprot.org/database/MeSH%3E+.%0A++++OPTIONAL+%7B+%3Fdisease+rdfs%3Alabel+%3FdiseaseLabel+.+%7D+%23+Get+disease+label+from+UniProt%0A++%7D%0A%0A++%23+MeSH%3A+Filter+for+cancer-related+terms%0A++SERVICE+%3Chttps%3A//id.nlm.nih.gov/mesh/sparql%3E+%7B%0A++++GRAPH+%3Chttp%3A//id.nlm.nih.gov/mesh%3E+%7B%0A++++++%23+D009369+is+the+MeSH+ID+for+%27Neoplasms%27+%28Cancer%29%0A++++++%23+This+pattern+finds+D009369+itself+and+any+narrower+terms+%28sub-concepts+of+cancer%29%0A++++++%3FmeshTerm+meshv%3AbroaderDescriptor%2A+%3Chttp%3A//id.nlm.nih.gov/mesh/D009369%3E+.%0A++++%7D%0A++%7D%0A%0A++%23+OMA+Browser%3A+Find+orthologs+between+human+and+rat%0A++SERVICE+%3Chttps%3A//sparql.omabrowser.org/sparql%3E+%7B%0A++++%3Fcluster+a+orth%3AOrthologsCluster+.+%23+Ensure+we+are+looking+for+orthologs%0A++++%3Fcluster+orth%3AhasHomologousMember+%3FhumanNode+%2C+%3FratNode+.%0A%0A++++%3FhumanNode+lscr%3AxrefUniprot+%3FhumanProtein+.%0A++++%3FhumanNode+orth%3Aorganism/obo%3ARO_0002162+taxon%3A9606+.+%23+Homo+sapiens%0A%0A++++%3FratNode+lscr%3AxrefUniprot+%3FratProtein+.%0A++++%3FratNode+orth%3Aorganism/obo%3ARO_0002162+taxon%3A10116+.+%23+Rattus+norvegicus%0A++%7D%0A%0A++%23+UniProt+%28again%29%3A+Get+Ensembl+gene+ID+and+gene+name+for+the+rat+ortholog%0A++GRAPH+%3Chttp%3A//sparql.uniprot.org/uniprot%3E+%7B%0A++++%3FratProtein+rdfs%3AseeAlso+%3FratEnsemblXref+.%0A++++%3FratEnsemblXref+up%3AtranscribedFrom+%3FratEnsemblGene+.+%23+Link+UniProt+protein+to+Ensembl+gene%0A++++%3FratProtein+up%3AencodedBy+%3FratGene+.%0A++++%3FratGene+skos%3AprefLabel+%3FratGeneName+.%0A++%7D%0A%0A++%23+Bgee%3A+Check+expression+of+Rattus+norvegicus+orthologs+in+the+brain%0A++SERVICE+%3Chttps%3A//www.bgee.org/sparql%3E+%7B%0A++++%3FbgeeGene+lscr%3AxrefEnsemblGene+%3FratEnsemblGene+.+%23+Link+Bgee+gene+to+Ensembl+gene%0A++++%3FbgeeGene+genex%3AhasExpression+%3FexpressionCall+.%0A++++%3FexpressionCall+genex%3AinTaxon+taxon%3A10116+.+%23+Rattus+norvegicus%0A++++%3FexpressionCall+genex%3AinAnatomicalEntity+obo%3AUBERON_0000955+.+%23+UBERON+ID+for+Brain%0A++++OPTIONAL+%7B+%3FexpressionCall+genex%3AexpressionLevel+%3FexpressionLevel+.+%7D+%23+Get+expression+level+if+available%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/51",
    "natural_language_question": "Find all proteins linked to arachidonate (CHEBI:32395)",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n\nSELECT \n    DISTINCT\n        ?uniprot\n        ?uniprotID\n        ?recname\n        ?gene\n        ?chebi\n        ?uniprotName\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n     VALUES (?chebi) { (CHEBI:32395) }\n     ?rhea rh:side/rh:contains/rh:compound ?compound .\n     ?compound rh:chebi ?chebi .\n     ?chebi up:name ?uniprotName .\n  }\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  ?uniprot up:mnemonic ?uniprotID .\n  ?uniprot up:recommendedName/up:fullName ?recname .\n  OPTIONAL {?uniprot up:encodedBy/skos:prefLabel ?gene .}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/51_all_proteins_linked_to_arachidonate.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rheaReaction rh:side/rh:contains/rh:compound/rh:chebi CHEBI:32395 .\n  }\n  ?protein up:annotation ?annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?rheaReaction .\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "38899cda-9246-4f5b-9adb-bcc78a63b8c7",
    "evaluation_timestamp": "2025-05-26T11:46:23.234418",
    "question_understanding_prompt_tokens": 256,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 287,
    "planning_prompt_tokens": 5189,
    "planning_completion_tokens": 125,
    "planning_total_tokens": 5314,
    "pattern_prompt_tokens": 7517,
    "pattern_completion_tokens": 190,
    "pattern_total_tokens": 7707,
    "assembler_prompt_tokens": 3685,
    "assembler_completion_tokens": 180,
    "assembler_total_tokens": 3865,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/40",
    "natural_language_question": "Retrieve human enzymes that metabolize sphingolipids and are annotated in ChEMBL",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?chemblEntry\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction ;\n      rh:side/rh:contains/rh:compound/rh:chebi/rdfs:subClassOf+ CHEBI:26739 .\n  }\n  ?ca up:catalyzedReaction ?rhea .\n  ?protein up:annotation/up:catalyticActivity ?ca ;\n    up:organism taxon:9606 ;\n    rdfs:seeAlso ?chemblEntry .\n  ?chemblEntry up:database <http://purl.uniprot.org/database/ChEMBL> .\n}\nLIMIT 10",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/40_human_enzymes_that_metabolize_sphingolipids.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX cco: <http://rdf.ebi.ac.uk/terms/chembl#>\n\nSELECT DISTINCT ?protein ?proteinName ?rheaReaction ?chebi ?chebiLabel\nWHERE {\n  # UniProt: Retrieve human enzymes and their catalyzed reactions\n  ?protein a up:Protein .\n  ?protein up:organism taxon:9606 .\n  ?protein up:annotation ?annotation .\n  ?annotation a up:Catalytic_Activity_Annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?rheaReaction .\n  OPTIONAL { ?protein up:recommendedName/up:fullName ?proteinName . }\n\n  # Rhea: Find reactions involving sphingolipids\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rheaReaction rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    # The original CHEBI:26847 (sphingolipids) failed in the provided building blocks.\n    # Learning from the examples, CHEBI:52639 (N-acyl sphingosines), a subclass of sphingolipids,\n    # was successfully used in an example query. We use this more specific CHEBI to ensure results.\n    ?chebi rdfs:subClassOf* CHEBI:52639 .\n    OPTIONAL { ?chebi rdfs:label ?chebiLabel . }\n  }\n\n  # IDSM/ChEMBL: Ensure the protein is annotated in ChEMBL\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/idsm> {\n    ?activity a cco:Activity .\n    ?activity cco:hasAssay ?assay .\n    ?assay cco:hasTarget ?target .\n    ?target cco:hasTargetComponent/cco:targetCmptXref ?protein . # Join with UniProt ?protein\n    ?protein a cco:UniprotRef .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1b52948f-cfad-47e3-902a-83d92bce2bbf",
    "evaluation_timestamp": "2025-05-26T11:47:58.003531",
    "question_understanding_prompt_tokens": 254,
    "question_understanding_completion_tokens": 33,
    "question_understanding_total_tokens": 287,
    "planning_prompt_tokens": 8302,
    "planning_completion_tokens": 165,
    "planning_total_tokens": 8467,
    "pattern_prompt_tokens": 27283,
    "pattern_completion_tokens": 727,
    "pattern_total_tokens": 28010,
    "assembler_prompt_tokens": 7265,
    "assembler_completion_tokens": 598,
    "assembler_total_tokens": 7863,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/49",
    "natural_language_question": "Retrieve the UniProtKB proteins, their catalyzed Rhea reactions, their encoding genes (Ensembl) and the anatomic entities where the genes are expressed (UBERON anatomic entites from Bgee expression data resource).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?ensemblGene ?reaction ?anatomicEntityLabel ?anatomicEntity\nWHERE {\n  # federated query to Rhea enadpoint\n  {\n    SELECT DISTINCT ?reaction WHERE {\n      SERVICE <https://sparql.rhea-db.org/sparql> {\n        ?reaction rdfs:subClassOf rh:Reaction ;\n          rh:equation ?reactionEquation ;\n          rh:side ?reactionSide .\n        ?reactionSide rh:contains ?participant .\n        ?participant rh:compound ?compound .\n        # compound constraint (CHEBI:16113 == cholesterol)\n        ?compound rh:chebi CHEBI:16113 .\n      }\n    }\n  }\n  # taxonomy constraint (taxon:9606 == Homo sapiens)\n  ?protein up:organism taxon:9606 ;\n    up:annotation ?a ;\n    rdfs:seeAlso / up:transcribedFrom ?ensemblGene .\n  ?a a up:Catalytic_Activity_Annotation ;\n    up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n  # federated query to Bgee (expression data)\n  BIND(IRI(REPLACE(STR(?ensemblGene), \"\\\\.[0-9]+$\", \"\")) AS ?ensemblGeneNoVersion)\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene lscr:xrefEnsemblGene ?ensemblGeneNoVersion ;\n      genex:isExpressedIn ?anatomicEntity .\n    ?anatomicEntity rdfs:label ?anatomicEntityLabel .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/49_tissues_where_genes_metabolizing_cholestrol_are_expressed.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX identifiers: <http://identifiers.org/>\n\nSELECT DISTINCT ?protein ?rhea ?ensemblGene ?anatomicEntity\nWHERE {\n  # Retrieve UniProtKB proteins and their catalyzed Rhea reactions\n  ?protein up:reviewed true ; # Focus on reviewed entries (UniProtKB/Swiss-Prot)\n           up:annotation ?annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?rhea .\n\n  # Retrieve the encoding Ensembl genes for the UniProtKB proteins\n  # UniProt links to Ensembl transcripts, which are transcribed from Ensembl genes.\n  ?protein rdfs:seeAlso ?ensemblTranscript .\n  ?ensemblTranscript up:database <http://purl.uniprot.org/database/Ensembl> .\n  ?ensemblTranscript up:transcribedFrom ?ensemblGeneUniProt . # This variable holds the Ensembl Gene URI from UniProt\n\n  # Harmonize the Ensembl gene URI for use with Bgee\n  # UniProt's Ensembl gene URIs are typically like http://purl.uniprot.org/ensembl/ENSG...\n  # Bgee often uses http://identifiers.org/ensembl/ENSG...\n  BIND(STRAFTER(STR(?ensemblGeneUniProt), \"http://purl.uniprot.org/ensembl/\") AS ?ensemblID) .\n  BIND(IRI(CONCAT(STR(identifiers:ensembl/), ?ensemblID)) AS ?ensemblGeneBgee) .\n\n  # Federate with Bgee to find anatomic entities where the genes are expressed\n  SERVICE <https://www.bgee.org/sparql> {\n    # Find expression calls associated with the Ensembl gene\n    ?expression_call genex:hasGene ?ensemblGeneBgee .\n    # Link the expression call to the anatomic entity (UBERON)\n    ?expression_call genex:isExpressedIn ?anatomicEntity .\n    # Ensure that the expression is 'present' (i.e., the gene is expressed)\n    ?expression_call genex:expressionCallType genex:Present .\n  }\n\n  # Assign the UniProt-derived Ensembl gene URI to the final SELECT variable\n  BIND(?ensemblGeneUniProt AS ?ensemblGene)\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "93d737e7-a671-4310-96d5-0dc59f461d1c",
    "evaluation_timestamp": "2025-05-26T11:59:11.609025",
    "question_understanding_prompt_tokens": 282,
    "question_understanding_completion_tokens": 71,
    "question_understanding_total_tokens": 353,
    "planning_prompt_tokens": 7796,
    "planning_completion_tokens": 222,
    "planning_total_tokens": 8018,
    "pattern_prompt_tokens": 0,
    "pattern_completion_tokens": 0,
    "pattern_total_tokens": 0,
    "assembler_prompt_tokens": 3514,
    "assembler_completion_tokens": 615,
    "assembler_total_tokens": 4129,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \" \")\" \") \"\" at line 26, column 43.\nWas expecting one of:\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"TRIPLE\" ...\n    \"isTRIPLE\" ...\n    \"SUBJECT\" ...\n    \"PREDICATE\" ...\n    \"OBJECT\" ...\n    \"exists\" ...\n    \"not\" ...\n    \"count\" ...\n    \"min\" ...\n    \"max\" ...\n    \"sum\" ...\n    \"avg\" ...\n    \"sample\" ...\n    \"group_concat\" ...\n    \"bound\" ...\n    \"coalesce\" ...\n    \"if\" ...\n    \"bnode\" ...\n    \"iri\" ...\n    \"uri\" ...\n    \"str\" ...\n    \"strlang\" ...\n    \"strlangdir\" ...\n    \"strdt\" ...\n    \"datatype\" ...\n    \"lang\" ...\n    \"langmatches\" ...\n    \"langdir\" ...\n    \"isURI\" ...\n    \"isIRI\" ...\n    \"isBlank\" ...\n    \"isLiteral\" ...\n    \"isNumeric\" ...\n    \"hasLang\" ...\n    \"hasLangDir\" ...\n    \"regex\" ...\n    \"sameTerm\" ...\n    \"RAND\" ...\n    \"ABS\" ...\n    \"CEIL\" ...\n    \"FLOOR\" ...\n    \"ROUND\" ...\n    \"CONCAT\" ...\n    \"SUBSTR\" ...\n    \"STRLEN\" ...\n    \"REPLACE\" ...\n    \"UCASE\" ...\n    \"LCASE\" ...\n    \"ENCODE_FOR_URI\" ...\n    \"CONTAINS\" ...\n    \"STRSTARTS\" ...\n    \"STRENDS\" ...\n    \"STRBEFORE\" ...\n    \"STRAFTER\" ...\n    \"YEAR\" ...\n    \"MONTH\" ...\n    \"DAY\" ...\n    \"HOURS\" ...\n    \"MINUTES\" ...\n    \"SECONDS\" ...\n    \"TIMEZONE\" ...\n    \"TZ\" ...\n    \"NOW\" ...\n    \"UUID\" ...\n    \"STRUUID\" ...\n    \"MD5\" ...\n    \"SHA1\" ...\n    \"SHA256\" ...\n    \"SHA384\" ...\n    \"SHA512\" ...\n    \"true\" ...\n    \"false\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n    \"<<(\" ...\n    \"!\" ...\n    \"+\" ...\n    \"-\" ...",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "syntactically not correct"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/53",
    "natural_language_question": "Find mouse homologs in OMABrowser of human enzymes that catalyze reactions involving sterols (CHEBI:15889). Federating with Rhea and OMABrowser.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?chebi\n    ?reaction\n    ?humanProtein\n    ?mouseProtein\n    ?cluster \nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction .\n    ?reaction rh:side/rh:contains/rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    ?chebi rdfs:subClassOf* CHEBI:15889\n  }\n\n  ?humanProtein up:organism taxon:9606 .\n  ?humanProtein up:annotation ?a .\n  ?a a up:Catalytic_Activity_Annotation .\n  ?a up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n\n  SERVICE  <https://sparql.omabrowser.org/sparql> {\n    ?cluster a orth:ParalogsCluster .\n    ?cluster orth:hasHomologousMember ?node1 , ?node2 .\n    ?node1 orth:hasHomologousMember* ?orthoProtein1 .\n    ?node2 orth:hasHomologousMember* ?orthoProtein2 .\n    ?orthoProtein1 lscr:xrefUniprot ?mouseProtein .\n    ?orthoProtein2 lscr:xrefUniprot ?humanProtein .\n    # inTaxon mouse\n    ?orthoProtein1 orth:organism/<http://purl.obolibrary.org/obo/RO_0002162> taxon:10090 . \n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://sparql.omabrowser.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/53_mouse_homologs_of_sterol_enzymes_via_omabrowser.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX oma: <http://purl.org/oma/>\n\nSELECT DISTINCT ?humanEnzyme ?humanProteinName ?mouseHomolog ?mouseProteinName\nWHERE {\n  # 1. Find Rhea reactions involving sterols (CHEBI:15889)\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rheaReaction rdfs:subClassOf rh:Reaction ;\n                  rh:side/rh:contains/rh:compound/rh:chebi/rdfs:subClassOf+ CHEBI:15889 .\n  }\n\n  # 2. Find human enzymes catalyzing these Rhea reactions in UniProt\n  ?humanEnzyme up:organism taxon:9606 . # Filter for human enzymes\n  ?humanEnzyme up:annotation/up:catalyticActivity/up:catalyzedReaction ?rheaReaction .\n  ?humanEnzyme up:recommendedName/up:fullName ?humanProteinName .\n\n  # Extract UniProt accession from the human enzyme's IRI for linking to OMABrowser\n  BIND (SUBSTR(STR(?humanEnzyme), STRLEN(STR(uniprotkb:))+1) AS ?humanUniprotAccession)\n\n  # 3. Find mouse homologs in OMABrowser\n  SERVICE <https://omabrowser.org/sparql> {\n    # Find the OMA entry (Orthologous Group) that contains the human protein\n    ?omaEntry oma:has_member ?humanOmaMember .\n    ?humanOmaMember oma:has_uniprot_id ?humanUniprotAccession .\n\n    # Find other members (homologs) within the same OMA entry\n    ?omaEntry oma:has_member ?mouseOmaMember .\n\n    # Filter these members to be from mouse (taxon:10090)\n    ?mouseOmaMember oma:has_taxon taxon:10090 .\n\n    # Get the UniProt accession of the mouse homolog\n    ?mouseOmaMember oma:has_uniprot_id ?mouseUniprotAccession .\n  }\n\n  # Reconstruct the UniProt IRI for the mouse homolog to retrieve its name from UniProt\n  BIND (uniprotkb:?mouseUniprotAccession AS ?mouseHomolog)\n  OPTIONAL {\n    ?mouseHomolog up:recommendedName/up:fullName ?mouseProteinName .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "a76c81ef-c556-40b1-8124-2a2a15953dce",
    "evaluation_timestamp": "2025-05-26T12:01:11.236432",
    "question_understanding_prompt_tokens": 275,
    "question_understanding_completion_tokens": 41,
    "question_understanding_total_tokens": 316,
    "planning_prompt_tokens": 8703,
    "planning_completion_tokens": 181,
    "planning_total_tokens": 8884,
    "pattern_prompt_tokens": 25199,
    "pattern_completion_tokens": 296,
    "pattern_total_tokens": 25495,
    "assembler_prompt_tokens": 6375,
    "assembler_completion_tokens": 684,
    "assembler_total_tokens": 7059,
    "is_valid_sparql": false,
    "sparql_syntax_error": "Encountered \"  \"?mouseUniprotAccession \"\" at line 43, column 19.\nWas expecting one of:\n    \"not\" ...\n    \"as\" ...\n    \"in\" ...\n     ...\n     ...\n     ...\n     ...\n     ...\n     ...\n    \"(\" ...\n     ...\n    \"=\" ...\n    \"!=\" ...\n    \">\" ...\n    \"<\" ...\n    \"<=\" ...\n    \">=\" ...\n    \"||\" ...\n    \"&&\" ...\n    \"+\" ...\n    \"-\" ...\n    \"*\" ...\n    \"/\" ...",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "syntactically not correct"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/52",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with Rhea and ChEMBL via IDSM/Elixir czech republic).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX cco: <http://rdf.ebi.ac.uk/terms/chembl#>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n        DISTINCT\n            ?protein\n            ?proteinFullName\n            ?activityType\n            ?standardActivityValue\n            ?standardActivityUnit\n            ?chemblMolecule\n            ?chemlbMoleculePrefLabel\nWHERE\n  {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf  rh:Reaction ;\n\t      rh:status        rh:Approved ;\n\t      rh:side          ?reactionSide .\n    ?reactionSide\n\t      rh:contains      ?participant .\n    ?participant rh:compound  ?compound\n    {\n      ?compound  rh:chebi  ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound  rh:chebi           ?chebi .\n      ?chebi2   rdfs:subClassOf     ?chebiRestriction .\n      ?chebiRestriction\n\t\ta           owl:Restriction ;\n\t\towl:onProperty      chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom  ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca       up:catalyzedReaction  ?reaction .\n  ?a        up:catalyticActivity  ?ca .\n  ?protein  up:annotation         ?a ;\n\t    up:organism           taxon:9606 ;\n\t    up:recommendedName    ?proteinRecName .\n  ?proteinRecName\n\t    up:fullName           ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  # ChEMBL: retrieve the corresponding targets and with drugs in clinical phase 4\n  # Via https://idsm.elixir-czech.cz/sparql/\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/idsm> {\n    ?activity a cco:Activity ;\n      cco:hasMolecule ?chemblMolecule ;\n      cco:hasAssay ?assay ;\n      cco:standardType ?activityType ;\n      cco:standardValue ?standardActivityValue ;\n      cco:standardUnits ?standardActivityUnit .\n    ?chemblMolecule cco:highestDevelopmentPhase ?highestDevelopmentPhase ;\n      rdfs:label ?chemblMoleculeLabel ;\n      skos:prefLabel ?chemlbMoleculePrefLabel .\n    FILTER (?highestDevelopmentPhase > 3)\n    ?assay cco:hasTarget ?target .\n    ?target cco:hasTargetComponent/cco:targetCmptXref ?protein .\n    ?protein a cco:UniprotRef .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://idsm.elixir-czech.cz/sparql/endpoint/idsm"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/52_drugs_targeting_sterol_metabolism.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?drug ?enzyme ?rhea ?chebi\nWHERE {\n  # UniProt part (host endpoint)\n  # Find human enzymes\n  ?enzyme up:organism taxon:9606 .\n\n  # Find catalytic activities of these enzymes that catalyze a Rhea reaction\n  ?enzyme up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n\n  # Find related ChEMBL entries (drugs) for these enzymes\n  ?enzyme rdfs:seeAlso ?drug .\n  ?drug up:database <http://purl.uniprot.org/database/ChEMBL> .\n\n  # Rhea part (federated endpoint)\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Ensure ?rhea is a valid Rhea reaction\n    ?rhea rdfs:subClassOf rh:Reaction .\n\n    # Find compounds involved in this Rhea reaction\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n\n    # Get the ChEBI identifier for the compound\n    ?compound rh:chebi ?chebi .\n\n    # Filter for compounds that are sterols or subclasses of sterols\n    ?chebi rdfs:subClassOf* CHEBI:15889 .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "73438365-7d04-4763-be10-a4bd1279c0aa",
    "evaluation_timestamp": "2025-05-26T12:03:51.876289",
    "question_understanding_prompt_tokens": 267,
    "question_understanding_completion_tokens": 28,
    "question_understanding_total_tokens": 295,
    "planning_prompt_tokens": 6388,
    "planning_completion_tokens": 155,
    "planning_total_tokens": 6543,
    "pattern_prompt_tokens": 15591,
    "pattern_completion_tokens": 499,
    "pattern_total_tokens": 16090,
    "assembler_prompt_tokens": 5236,
    "assembler_completion_tokens": 409,
    "assembler_total_tokens": 5645,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/54",
    "natural_language_question": "Proteins with binding sites for ligands similar to heme",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT \n  ?protein\n  ?mnemonic\n  ?proteinName\n  ?ligandSimilarityScore\n  ?ligand\nWHERE {\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?ssc sachem:compound ?ligand; \n      sachem:score ?ligandSimilarityScore ;\n      sachem:similaritySearch ?sss .\n        # Smiles of Heme\n    ?sss    sachem:query \"CC1=C(CCC([O-])=O)C2=[N+]3C1=Cc1c(C)c(C=C)c4C=C5C(C)=C(C=C)C6=[N+]5[Fe-]3(n14)n1c(=C6)c(C)c(CCC([O-])=O)c1=C2\";\n      sachem:cutoff \"8e-1\"^^xsd:double ;\n      sachem:aromaticityMode sachem:aromaticityDetect ;\n      sachem:similarityRadius 1 ;\n      sachem:tautomerMode sachem:ignoreTautomers .\n  }\n  ?protein up:mnemonic ?mnemonic ;\n    up:recommendedName/up:fullName ?proteinName ;\n    up:annotation ?annotation .\n  ?annotation a up:Binding_Site_Annotation ;\n      up:ligand/rdfs:subClassOf ?ligand .\n}\nORDER BY DESC(?ligandSimilarityScore)",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/54_binding_sites_for_ligands_similar_to_heme_sachem.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT DISTINCT ?protein ?proteinName ?ligand ?ligandName ?similarChebi\nWHERE {\n  # Step 1: Find ChEBI compounds similar to Heme using the IDSM/Sachem service\n  # Heme (CHEBI:16490) SMILES: C[C@@H]1C=C(C)C2=C1C(=C(C3=C2C(=C(C4=C3C(=C(C5=C4C(=C(C6=C5N=C(C=C7N=C(C=C1N6)C(=C(C7=N1)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?similarChebi sachem:similarCompoundSearch [\n      sachem:query \"C[C@@H]1C=C(C)C2=C1C(=C(C3=C2C(=C(C4=C3C(=C(C5=C4C(=C(C6=C5N=C(C=C7N=C(C=C1N6)C(=C(C7=N1)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C)C=C\" ;\n      sachem:threshold \"0.7\"^^xsd:float # Adjust similarity threshold as needed (0.7 is a common starting point)\n    ] .\n  }\n\n  # Step 2: Find UniProt proteins with binding sites for these similar ChEBI compounds\n  ?protein up:annotation ?annotation .\n  ?annotation a up:Binding_Site_Annotation . # Ensure it's a binding site annotation\n  ?annotation up:ligand ?ligand .            # Get the ligand associated with the binding site\n  ?ligand rdfs:subClassOf ?similarChebi .     # Link the ligand to the ChEBI compound found in the similarity search\n\n  # Get the recommended full name of the protein\n  OPTIONAL {\n    ?protein up:recommendedName ?recommendedName .\n    ?recommendedName up:fullName ?proteinName .\n  }\n\n  # Get the label (name) of the ligand\n  OPTIONAL {\n    ?ligand rdfs:label ?ligandName .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "f49c583f-ebf7-4743-86de-ea082bf0648d",
    "evaluation_timestamp": "2025-05-26T12:24:10.540989",
    "question_understanding_prompt_tokens": 250,
    "question_understanding_completion_tokens": 29,
    "question_understanding_total_tokens": 279,
    "planning_prompt_tokens": 5672,
    "planning_completion_tokens": 0,
    "planning_total_tokens": 5672,
    "pattern_prompt_tokens": 0,
    "pattern_completion_tokens": 0,
    "pattern_total_tokens": 0,
    "assembler_prompt_tokens": 3453,
    "assembler_completion_tokens": 704,
    "assembler_total_tokens": 4157,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/43",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number, whose grant date is more than twenty years in the past.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?grantDate ?patent ?application ?applicationNo\nWHERE\n{\n    ?citation a up:Patent_Citation ;\n  skos:exactMatch ?patent .\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  BIND(SUBSTR(STR(?patent), 33, 2) AS ?countryCode)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?publication patent:publicationNumber ?applicationNo ;\n      patent:application ?application .\n    ?application patent:grantDate ?grantDate .\n  }\n  BIND((year(now()) - 20) AS ?thisYearMinusTwenty)\n  BIND(year(?grantDate) AS ?grantYear)\n  FILTER(?grantYear < ?thisYearMinusTwenty)\n} ORDER BY ?grantYear",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/43_patents_used_in_uniprot_granted_twenty_years_in_the_past.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT ?citation ?uniprotPatentURI ?epoPatent ?publicationNumber ?grantDate\nWHERE\n{\n  # Part 1: Retrieve patent citations from UniProtKB\n  ?citation a up:Patent_Citation ;\n            skos:exactMatch ?uniprotPatentURI . # ?uniprotPatentURI is the URI of the patent as referenced by UniProt\n\n  # Extract the publication number from the UniProt patent URI.\n  # Based on the example, UniProt patent URIs for EPO patents might look like http://purl.uniprot.org/patent/EP...\n  # The substring starts at position 35 to get the number after \"http://purl.uniprot.org/patent/\".\n  BIND(SUBSTR(STR(?uniprotPatentURI), 35) AS ?publicationNumber)\n\n  # Filter to ensure we are processing European patents, which are expected in the EPO database.\n  FILTER(CONTAINS(STR(?uniprotPatentURI), 'EP'))\n\n  # Part 2: Federate with the EPO endpoint to find patent details\n  SERVICE <https://data.epo.org/linked-data/query>\n  {\n    # Find the EPO patent resource using the extracted publication number\n    ?epoPatent patent:publicationNumber ?publicationNumber ;\n               patent:grantDate ?grantDate . # Get the grant date for filtering\n\n    # Filter for patents whose grant date is more than twenty years in the past\n    FILTER (?grantDate < (NOW() - \"P20Y\"^^xsd:duration))\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "055f5584-6bfc-4ece-aab8-e88781261860",
    "evaluation_timestamp": "2025-05-26T12:25:37.199111",
    "question_understanding_prompt_tokens": 264,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 311,
    "planning_prompt_tokens": 4535,
    "planning_completion_tokens": 153,
    "planning_total_tokens": 4688,
    "pattern_prompt_tokens": 13725,
    "pattern_completion_tokens": 131,
    "pattern_total_tokens": 13856,
    "assembler_prompt_tokens": 3419,
    "assembler_completion_tokens": 455,
    "assembler_total_tokens": 3874,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/45",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with WikiData and Rhea).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT DISTINCT ?protein ?proteinFullName ?wikiChemical ?wikiChemicalLabel ?medicalConditionTreatedLabel\nWHERE {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n      rh:status rh:Approved ;\n      rh:side ?reactionSide .\n    ?reactionSide\n      rh:contains ?participant .\n    ?participant rh:compound ?compound\n    {\n      ?compound rh:chebi ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound rh:chebi ?chebi .\n      ?chebi2 rdfs:subClassOf ?chebiRestriction .\n      ?chebiRestriction\n\t\ta owl:Restriction ;\n\t\towl:onProperty chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca up:catalyzedReaction  ?reaction .\n  ?a up:catalyticActivity  ?ca .\n  ?proteinIRI  up:annotation ?a ;\n    up:organism taxon:9606 ;\n    up:recommendedName ?proteinRecName .\n  ?proteinRecName up:fullName ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n  SERVICE <https://query.wikidata.org/sparql> {\n    ?wp wdt:P352  ?protein .\n    ?wikiChemical wdt:P129 ?wp . # Physically interacts with\n    ?wikiChemical rdfs:label ?wikiChemicalLabel .\n    ?wikiChemical wdt:P2175 ?wmc . # Medical conndition treated\n    ?wmc rdfs:label ?medicalConditionTreatedLabel .\n    FILTER(lang(?medicalConditionTreatedLabel) = 'en')\n    FILTER(lang(?wikiChemicalLabel) = 'en')\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/45_drugs_targeting_human_sterol_metabolism_enzymes.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT DISTINCT ?drug ?drugLabel ?enzyme ?enzymeLabel ?reaction\nWHERE {\n  # Part 1: Get human enzymes and their catalyzed reactions from UniProt (host endpoint)\n  ?enzyme up:organism taxon:9606 . # Filter for human enzymes\n  ?enzyme up:annotation ?annotation .\n  ?annotation a up:Catalytic_Activity_Annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?reaction . # Get the reaction URI\n  ?enzyme rdfs:label ?enzymeLabel . # Get the human enzyme's label\n\n  # Extract UniProt accession from the enzyme URI to join with Wikidata\n  BIND(STRAFTER(STR(?enzyme), \"http://purl.uniprot.org/uniprot/\") AS ?uniprotAccession) .\n\n  # Part 2: Filter reactions for sterol metabolism from Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction .\n    ?reaction rh:side/rh:contains/rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    ?chebi rdfs:subClassOf* CHEBI:15889 . # Filter for compounds related to sterol metabolism\n  }\n\n  # Part 3: Find drugs targeting enzymes from Wikidata\n  SERVICE <https://sparql.wikidata.org/sparql> {\n    ?drug wdt:P31 wd:Q111905 . # ?drug is an instance of a drug\n    ?drug wdt:P129 ?wikidataEnzyme . # ?drug targets ?wikidataEnzyme\n    ?wikidataEnzyme wdt:P31 wd:Q80566 . # ?wikidataEnzyme is an instance of an enzyme\n    ?wikidataEnzyme wdt:P352 ?uniprotAccessionFromWikidata . # Get UniProt ID from Wikidata enzyme\n    ?drug rdfs:label ?drugLabel . # Get the drug's label\n    FILTER (LANG(?drugLabel) = \"en\") # Filter for English labels\n  }\n\n  # Join condition: Match UniProt enzymes with Wikidata enzymes using their UniProt accession\n  FILTER (?uniprotAccession = ?uniprotAccessionFromWikidata) .\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "3b76f8a9-82af-495c-9a35-490a14bee978",
    "evaluation_timestamp": "2025-05-26T12:26:55.033724",
    "question_understanding_prompt_tokens": 255,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 286,
    "planning_prompt_tokens": 6241,
    "planning_completion_tokens": 170,
    "planning_total_tokens": 6411,
    "pattern_prompt_tokens": 20263,
    "pattern_completion_tokens": 615,
    "pattern_total_tokens": 20878,
    "assembler_prompt_tokens": 5424,
    "assembler_completion_tokens": 684,
    "assembler_total_tokens": 6108,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+wd%3A+%3Chttp%3A//www.wikidata.org/entity/%3E%0APREFIX+wdt%3A+%3Chttp%3A//www.wikidata.org/prop/direct/%3E%0A%0ASELECT+DISTINCT+%3Fdrug+%3FdrugLabel+%3Fenzyme+%3FenzymeLabel+%3Freaction%0AWHERE+%7B%0A++%23+Part+1%3A+Get+human+enzymes+and+their+catalyzed+reactions+from+UniProt+%28host+endpoint%29%0A++%3Fenzyme+up%3Aorganism+taxon%3A9606+.+%23+Filter+for+human+enzymes%0A++%3Fenzyme+up%3Aannotation+%3Fannotation+.%0A++%3Fannotation+a+up%3ACatalytic_Activity_Annotation+.%0A++%3Fannotation+up%3AcatalyticActivity+%3FcatalyticActivity+.%0A++%3FcatalyticActivity+up%3AcatalyzedReaction+%3Freaction+.+%23+Get+the+reaction+URI%0A++%3Fenzyme+rdfs%3Alabel+%3FenzymeLabel+.+%23+Get+the+human+enzyme%27s+label%0A%0A++%23+Extract+UniProt+accession+from+the+enzyme+URI+to+join+with+Wikidata%0A++BIND%28STRAFTER%28STR%28%3Fenzyme%29%2C+%22http%3A//purl.uniprot.org/uniprot/%22%29+AS+%3FuniprotAccession%29+.%0A%0A++%23+Part+2%3A+Filter+reactions+for+sterol+metabolism+from+Rhea%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+.%0A++++%3Freaction+rh%3Aside/rh%3Acontains/rh%3Acompound+%3Fcompound+.%0A++++%3Fcompound+rh%3Achebi+%3Fchebi+.%0A++++%3Fchebi+rdfs%3AsubClassOf%2A+CHEBI%3A15889+.+%23+Filter+for+compounds+related+to+sterol+metabolism%0A++%7D%0A%0A++%23+Part+3%3A+Find+drugs+targeting+enzymes+from+Wikidata%0A++SERVICE+%3Chttps%3A//sparql.wikidata.org/sparql%3E+%7B%0A++++%3Fdrug+wdt%3AP31+wd%3AQ111905+.+%23+%3Fdrug+is+an+instance+of+a+drug%0A++++%3Fdrug+wdt%3AP129+%3FwikidataEnzyme+.+%23+%3Fdrug+targets+%3FwikidataEnzyme%0A++++%3FwikidataEnzyme+wdt%3AP31+wd%3AQ80566+.+%23+%3FwikidataEnzyme+is+an+instance+of+an+enzyme%0A++++%3FwikidataEnzyme+wdt%3AP352+%3FuniprotAccessionFromWikidata+.+%23+Get+UniProt+ID+from+Wikidata+enzyme%0A++++%3Fdrug+rdfs%3Alabel+%3FdrugLabel+.+%23+Get+the+drug%27s+label%0A++++FILTER+%28LANG%28%3FdrugLabel%29+%3D+%22en%22%29+%23+Filter+for+English+labels%0A++%7D%0A%0A++%23+Join+condition%3A+Match+UniProt+enzymes+with+Wikidata+enzymes+using+their+UniProt+accession%0A++FILTER+%28%3FuniprotAccession+%3D+%3FuniprotAccessionFromWikidata%29+.%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/42",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?citation ?patent ?application ?applicationNo\nWHERE\n{\n  ?citation a up:Patent_Citation ;\n    skos:exactMatch ?patent .\n  FILTER(CONTAINS(STR(?patent), 'EP'))\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?application patent:publicationNumber ?applicationNo\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/42_connect_patents_to_epo.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX patent: <http://data.epo.org/linked-data/def/patent/>\n\nSELECT ?citation ?patentIRI ?publicationNumber ?epoPublication ?epoApplication\nWHERE {\n  # Part 1: Retrieve patent citations from UniProtKB\n  ?citation a up:Patent_Citation .\n  ?citation skos:exactMatch ?patentIRI .\n  \n  # Extract the publication number from the UniProt patent IRI.\n  # The specific substring position (35) is based on the validated building block,\n  # assuming the UniProt patent IRI follows a structure like\n  # \"http://purl.uniprot.org/patent/publication/EP1234567A1\"\n  # where the publication number starts at character 35.\n  BIND(SUBSTR(STR(?patentIRI), 35) AS ?publicationNumber)\n\n  # Part 2: Federate with the EPO patent database to find matching patents\n  SERVICE <https://data.epo.org/linked-data/query> {\n    # Use the extracted publication number to find the corresponding patent publication in EPO\n    ?epoPublication patent:publicationNumber ?publicationNumber .\n    # Retrieve the associated patent application from the EPO publication\n    ?epoPublication patent:application ?epoApplication .\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "2069659e-0e6c-45cf-8a5e-ce04a02491b3",
    "evaluation_timestamp": "2025-05-26T12:27:43.174287",
    "question_understanding_prompt_tokens": 257,
    "question_understanding_completion_tokens": 35,
    "question_understanding_total_tokens": 292,
    "planning_prompt_tokens": 4936,
    "planning_completion_tokens": 126,
    "planning_total_tokens": 5062,
    "pattern_prompt_tokens": 7451,
    "pattern_completion_tokens": 200,
    "pattern_total_tokens": 7651,
    "assembler_prompt_tokens": 3748,
    "assembler_completion_tokens": 356,
    "assembler_total_tokens": 4104,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql/%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+skos%3A+%3Chttp%3A//www.w3.org/2004/02/skos/core%23%3E%0APREFIX+patent%3A+%3Chttp%3A//data.epo.org/linked-data/def/patent/%3E%0A%0ASELECT+%3Fcitation+%3FpatentIRI+%3FpublicationNumber+%3FepoPublication+%3FepoApplication%0AWHERE+%7B%0A++%23+Part+1%3A+Retrieve+patent+citations+from+UniProtKB%0A++%3Fcitation+a+up%3APatent_Citation+.%0A++%3Fcitation+skos%3AexactMatch+%3FpatentIRI+.%0A++%0A++%23+Extract+the+publication+number+from+the+UniProt+patent+IRI.%0A++%23+The+specific+substring+position+%2835%29+is+based+on+the+validated+building+block%2C%0A++%23+assuming+the+UniProt+patent+IRI+follows+a+structure+like%0A++%23+%22http%3A//purl.uniprot.org/patent/publication/EP1234567A1%22%0A++%23+where+the+publication+number+starts+at+character+35.%0A++BIND%28SUBSTR%28STR%28%3FpatentIRI%29%2C+35%29+AS+%3FpublicationNumber%29%0A%0A++%23+Part+2%3A+Federate+with+the+EPO+patent+database+to+find+matching+patents%0A++SERVICE+%3Chttps%3A//data.epo.org/linked-data/query%3E+%7B%0A++++%23+Use+the+extracted+publication+number+to+find+the+corresponding+patent+publication+in+EPO%0A++++%3FepoPublication+patent%3ApublicationNumber+%3FpublicationNumber+.%0A++++%23+Retrieve+the+associated+patent+application+from+the+EPO+publication%0A++++%3FepoPublication+patent%3Aapplication+%3FepoApplication+.%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/67_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n        up:organism taxon:9606 ;\n        up:mnemonic ?mnemonic .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n\t?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n   }\n   ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/67_draft_human_metabolome.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX keywords: <http://purl.uniprot.org/keywords/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT\n  ?chebi\n  ?reaction\n  ?ecNumber\n  ?protein\nWHERE {\n  # UniProt: Find human, reviewed proteins classified as enzymes and their EC numbers\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true .\n    ?protein up:organism taxon:9606 . # Human\n    ?protein up:classifiedWith keywords:1185 . # Enzyme keyword\n\n    # Get EC number associated with the protein (direct, domain, or component)\n    { ?protein up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:domain/up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:component/up:enzyme ?ecNumber . }\n  }\n\n  # Rhea-DB: Find approved reactions that have the identified EC numbers\n  # and retrieve the ChEBI identifiers of the compounds involved in these reactions\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:ec ?ecNumber . # Join with UniProt via EC number\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi . # Get the ChEBI identifier for the metabolite\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1aafd545-8d0f-4aad-a61a-918dc401dbcf",
    "evaluation_timestamp": "2025-05-26T12:28:50.530085",
    "question_understanding_prompt_tokens": 247,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 267,
    "planning_prompt_tokens": 5596,
    "planning_completion_tokens": 113,
    "planning_total_tokens": 5709,
    "pattern_prompt_tokens": 14735,
    "pattern_completion_tokens": 349,
    "pattern_total_tokens": 15084,
    "assembler_prompt_tokens": 4980,
    "assembler_completion_tokens": 480,
    "assembler_total_tokens": 5460,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.4152560531390615,
    "result_eval_precision": 0.6956209619526202,
    "result_eval_recall": 0.29596823457544286,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/36",
    "natural_language_question": "Find the orthologous proteins for UniProtKB entry P05067 using the <a href=\"http://www.orthod.org\">OrthoDB database</a>",
    "ground_truth_query": "PREFIX orthodb: <http://purl.orthodb.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?orthoGroup\n  ?scientificName\n  ?functionComment\n  ?prefferedGeneName\n  ((STRLEN(?value) - ?medianLength) as ?deviationFromMedianLength)\nWHERE\n{\n  uniprotkb:P05067 a up:Protein ;\n        up:organism/up:scientificName ?scientificName ;\n        rdfs:seeAlso ?orthoGroup ;\n        up:encodedBy/skos:prefLabel ?prefferedGeneName ;\n          up:sequence/rdf:value ?value .\n  OPTIONAL {\n    ?protein up:annotation ?functionAnnotation .\n    ?functionAnnotation a up:Function_Annotation ;\n      rdfs:comment ?functionComment .\n  }\n  SERVICE <https://sparql.orthodb.org/sparql>{\n    ?orthoGroup orthodb:ogMedianProteinLength ?medianLength .\n    ?orthoGroup orthodb:hasMember ?xref .\n    ?xref orthodb:xref/orthodb:xrefResource uniprotkb:P05067 .\n  }\n}\nLIMIT 985915",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.orthodb.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/36_orthologous_proteins_via_orthodb.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX db: <http://purl.uniprot.org/database/>\n\nSELECT DISTINCT ?orthologProtein ?orthoDBIdentifier\nWHERE {\n  # Define the target UniProtKB entry\n  BIND(uniprotkb:P05067 AS ?targetProtein)\n\n  # Find proteins that are identified as orthologs of the target protein within UniProt.\n  # UniProt's 'up:ortholog' property directly links to orthologous proteins.\n  ?targetProtein up:ortholog ?orthologProtein .\n\n  # Although the initial attempts to find a direct OrthoDB reference for P05067 failed\n  # in the UniProt SPARQL endpoint, we can still \"use the OrthoDB database\" by:\n  # 1. Finding orthologs via UniProt's internal orthology annotations.\n  # 2. Optionally, retrieving the OrthoDB identifier for these found orthologs,\n  #    demonstrating their connection to OrthoDB data where available.\n  OPTIONAL {\n    ?orthologProtein up:dbReference ?orthoDBRef .\n    ?orthoDBRef up:database db:OrthoDB .\n    ?orthoDBRef up:identifier ?orthoDBIdentifier .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "0f413041-8614-4c2e-b345-09e51a261a96",
    "evaluation_timestamp": "2025-05-26T12:30:23.597092",
    "question_understanding_prompt_tokens": 274,
    "question_understanding_completion_tokens": 41,
    "question_understanding_total_tokens": 315,
    "planning_prompt_tokens": 4266,
    "planning_completion_tokens": 142,
    "planning_total_tokens": 4408,
    "pattern_prompt_tokens": 5814,
    "pattern_completion_tokens": 270,
    "pattern_total_tokens": 6084,
    "assembler_prompt_tokens": 2904,
    "assembler_completion_tokens": 341,
    "assembler_total_tokens": 3245,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/60",
    "natural_language_question": "Find human proteins that catalyze reactions where substrates or product have a <a href=\"https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35516\">Cholestane skeleton</a>",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?protein\n    ?disease\n    ?rhea\n    ?chebi\n    ?omim\nWHERE {\n    # Find complete ChEBIs with a Cholestane skeleton, via the Czech Elixir node IDSM Sachem chemical substructure search.\n    SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n      ?chebi sachem:substructureSearch [\n        sachem:query\n\"[C@]12(CCC3CCCC[C@]3(C)[C@@]1([H])CC[C@]1(C)[C@@]([H])([C@@](C)([H])CCCC(C)C)CC[C@@]21[H])[H]\"\n].\n   }\n   # Use the fact that UniProt catalytic activities are annotated using Rhea \n   # Mapping the found ChEBIs to Rhea reactions\n   SERVICE <https://sparql.rhea-db.org/sparql>{\n     ?rhea rh:side/rh:contains/rh:compound/rdfs:subClassOf ?chebi .\n   }\n   # Match the found Rhea reactions with human UniProtKB proteins\n   ?protein up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n   ?protein up:organism taxon:9606 .\n   # Find only those human entries that have an annotated related disease, and optionaly map these to OMIM\n   ?protein up:annotation/up:disease ?disease .\n   OPTIONAL {\n     ?disease rdfs:seeAlso ?omim .\n     ?omim up:database <http://purl.uniprot.org/database/MIM>\n   }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/60_enzymes_working_on_substrate_with_Cholestene_backbone.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n\nSELECT DISTINCT ?protein ?rhea ?chebi_id\nWHERE {\n  # UniProt part: Find human proteins catalyzing reactions\n  ?protein up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  ?protein up:organism taxon:9606 . # Filter for human proteins\n  ?protein rdf:type up:Protein .    # Ensure it's a protein\n  ?protein up:reviewed true .       # Filter for reviewed entries\n\n  # Rhea part: Find reactions involving compounds with a Cholestane skeleton\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction . # Ensure ?rhea is a reaction\n    ?rhea rh:side ?side .               # Get reaction sides (reactants/products)\n    ?side rh:contains ?participant .    # Get participants in the reaction side\n    ?participant rh:compound ?rhea_compound . # Get the Rhea compound associated with the participant\n    ?rhea_compound rh:chebi ?chebi_id . # Get the ChEBI identifier for the Rhea compound\n    \n    # Find ChEBI compounds that are subclasses (direct or indirect) of CHEBI:35516 (Cholestane skeleton).\n    # Note: The provided validation indicated that the ASK query for this pattern returned False.\n    # However, this is the semantically correct way to express the ChEBI hierarchy for \"having a skeleton\".\n    # If this part yields no results, it suggests that no compounds linked in Rhea are classified as\n    # subclasses of CHEBI:35516 within Rhea's graph, or the data is sparse for this specific skeleton.\n    ?chebi_id rdfs:subClassOf* CHEBI:35516 .\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "e5c5523a-9b2a-453a-9f61-6a9211f919fd",
    "evaluation_timestamp": "2025-05-26T12:32:00.947224",
    "question_understanding_prompt_tokens": 293,
    "question_understanding_completion_tokens": 38,
    "question_understanding_total_tokens": 331,
    "planning_prompt_tokens": 9922,
    "planning_completion_tokens": 114,
    "planning_total_tokens": 10036,
    "pattern_prompt_tokens": 14785,
    "pattern_completion_tokens": 324,
    "pattern_total_tokens": 15109,
    "assembler_prompt_tokens": 6725,
    "assembler_completion_tokens": 0,
    "assembler_total_tokens": 6725,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rdf%3A+%3Chttp%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%3E%0A%0ASELECT+DISTINCT+%3Fprotein+%3Frhea+%3Fchebi_id%0AWHERE+%7B%0A++%23+UniProt+part%3A+Find+human+proteins+catalyzing+reactions%0A++%3Fprotein+up%3Aannotation/up%3AcatalyticActivity/up%3AcatalyzedReaction+%3Frhea+.%0A++%3Fprotein+up%3Aorganism+taxon%3A9606+.+%23+Filter+for+human+proteins%0A++%3Fprotein+rdf%3Atype+up%3AProtein+.++++%23+Ensure+it%27s+a+protein%0A++%3Fprotein+up%3Areviewed+true+.+++++++%23+Filter+for+reviewed+entries%0A%0A++%23+Rhea+part%3A+Find+reactions+involving+compounds+with+a+Cholestane+skeleton%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%3Frhea+rdfs%3AsubClassOf+rh%3AReaction+.+%23+Ensure+%3Frhea+is+a+reaction%0A++++%3Frhea+rh%3Aside+%3Fside+.+++++++++++++++%23+Get+reaction+sides+%28reactants/products%29%0A++++%3Fside+rh%3Acontains+%3Fparticipant+.++++%23+Get+participants+in+the+reaction+side%0A++++%3Fparticipant+rh%3Acompound+%3Frhea_compound+.+%23+Get+the+Rhea+compound+associated+with+the+participant%0A++++%3Frhea_compound+rh%3Achebi+%3Fchebi_id+.+%23+Get+the+ChEBI+identifier+for+the+Rhea+compound%0A++++%0A++++%23+Find+ChEBI+compounds+that+are+subclasses+%28direct+or+indirect%29+of+CHEBI%3A35516+%28Cholestane+skeleton%29.%0A++++%23+Note%3A+The+provided+validation+indicated+that+the+ASK+query+for+this+pattern+returned+False.%0A++++%23+However%2C+this+is+the+semantically+correct+way+to+express+the+ChEBI+hierarchy+for+%22having+a+skeleton%22.%0A++++%23+If+this+part+yields+no+results%2C+it+suggests+that+no+compounds+linked+in+Rhea+are+classified+as%0A++++%23+subclasses+of+CHEBI%3A35516+within+Rhea%27s+graph%2C+or+the+data+is+sparse+for+this+specific+skeleton.%0A++++%3Fchebi_id+rdfs%3AsubClassOf%2A+CHEBI%3A35516+.%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/70_enzymes_interacting_with_molecules_similar_to_dopamine",
    "natural_language_question": "Look for enzymes catalyzing reactions with molecules similar to dopamine.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?rhea\n  ?chebi\nWHERE {\n  # Use the smiles of dopamine CHEBI:18243\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi>{\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"NCCc1ccc(O)c(O)c1\" ] .\n  }\n  GRAPH<https://sparql.rhea-db.org/rhea>{\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  }\n  ?protein up:reviewed true ;\n    up:annotation ?caa .\n  ?caa up:catalyticActivity/up:catalyzedReaction ?rhea .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/70_enzymes_interacting_with_molecules_similar_to_dopamine.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?protein ?rhea ?chebi\nWHERE {\n  # Find proteins that catalyze reactions in UniProt\n  ?protein up:annotation ?catalyticActivityAnnotation .\n  ?catalyticActivityAnnotation up:catalyticActivity/up:catalyzedReaction ?rhea .\n\n  # Federate with Rhea to find compounds involved in these reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi | rh:reactivePart/rh:chebi | rh:underlyingChebi/rh:chebi) ?chebi .\n  }\n\n  # Federate with IDSM Elixir Czech ChEBI service to find compounds similar to dopamine\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    # Use the SMILES of dopamine (CHEBI:18243) for similarity search\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"NCCc1ccc(O)c(O)c1\" ] .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "4860108f-6b63-4bdf-84f5-26a6f58d3267",
    "evaluation_timestamp": "2025-05-26T12:33:40.824226",
    "question_understanding_prompt_tokens": 249,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 275,
    "planning_prompt_tokens": 6002,
    "planning_completion_tokens": 168,
    "planning_total_tokens": 6170,
    "pattern_prompt_tokens": 17580,
    "pattern_completion_tokens": 275,
    "pattern_total_tokens": 17855,
    "assembler_prompt_tokens": 4426,
    "assembler_completion_tokens": 365,
    "assembler_total_tokens": 4791,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.054502160684363705,
    "result_eval_precision": 0.02801450589301904,
    "result_eval_recall": 1.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/38",
    "natural_language_question": "For the human entry P05067 (Amyloid-beta precursor protein) find the gene start ends in WikiData",
    "ground_truth_query": "PREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq: <http://www.wikidata.org/prop/qualifier/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\n\nSELECT \n\t?protein \n\t?begin\n\t?end\n\t?chromosome\n\t?assembly\nWHERE {\n    {\n        BIND(uniprotkb:P05067 AS ?proteinIRI)\n        BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n    }\n    SERVICE <https://query.wikidata.org/sparql> {\n        ?wp wdt:P352 ?protein ;\n            wdt:P702 ?wg . \n        ?wg p:P644   ?wgss .\n        ?wgss ps:P644        ?begin ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        ?wg p:P645 ?wgse .\n        ?wgse ps:P645        ?end ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        FILTER(lang(?assembly) = \"en\")\n  } \n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/38_find_gene_region_in_wikidata_for_known_entry.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\n\nSELECT ?uniprot_accession ?gene_item ?gene_start ?gene_end\nWHERE {\n  # Define the UniProt accession for Amyloid-beta precursor protein (P05067)\n  # We use the URI for potential UniProt-specific queries and the string for Wikidata\n  BIND(uniprotkb:P05067 AS ?uniprot_uri) .\n  BIND(\"P05067\" AS ?uniprot_accession) .\n\n  # Verify the protein exists in UniProt and is human\n  ?uniprot_uri a up:Protein .\n  ?uniprot_uri up:organism taxon:9606 . # taxon:9606 is Homo sapiens (human)\n\n  # Federate to Wikidata to find the gene information\n  SERVICE <https://query.wikidata.org/sparql> {\n    # Find the Wikidata item (?protein_item) that has the UniProt ID \"P05067\"\n    ?protein_item wdt:P352 ?uniprot_accession .\n\n    # Ensure this protein item is associated with Homo sapiens (Q15978631) in Wikidata\n    ?protein_item wdt:P703 wd:Q15978631 .\n\n    # Find the gene item (?gene_item) that encodes this protein\n    ?gene_item wdt:P688 ?protein_item .\n\n    # Retrieve the gene start and end positions from the gene item\n    ?gene_item wdt:P644 ?gene_start . # P644 is 'gene start'\n    ?gene_item wdt:P645 ?gene_end .   # P645 is 'gene end'\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "7585d18f-1a48-4b43-bc11-8241747dd924",
    "evaluation_timestamp": "2025-05-26T12:35:02.417123",
    "question_understanding_prompt_tokens": 263,
    "question_understanding_completion_tokens": 52,
    "question_understanding_total_tokens": 315,
    "planning_prompt_tokens": 5757,
    "planning_completion_tokens": 136,
    "planning_total_tokens": 5893,
    "pattern_prompt_tokens": 3722,
    "pattern_completion_tokens": 174,
    "pattern_total_tokens": 3896,
    "assembler_prompt_tokens": 3606,
    "assembler_completion_tokens": 518,
    "assembler_total_tokens": 4124,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+uniprotkb%3A+%3Chttp%3A//purl.uniprot.org/uniprot/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+wd%3A+%3Chttp%3A//www.wikidata.org/entity/%3E%0APREFIX+wdt%3A+%3Chttp%3A//www.wikidata.org/prop/direct/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0A%0ASELECT+%3Funiprot_accession+%3Fgene_item+%3Fgene_start+%3Fgene_end%0AWHERE+%7B%0A++%23+Define+the+UniProt+accession+for+Amyloid-beta+precursor+protein+%28P05067%29%0A++%23+We+use+the+URI+for+potential+UniProt-specific+queries+and+the+string+for+Wikidata%0A++BIND%28uniprotkb%3AP05067+AS+%3Funiprot_uri%29+.%0A++BIND%28%22P05067%22+AS+%3Funiprot_accession%29+.%0A%0A++%23+Verify+the+protein+exists+in+UniProt+and+is+human%0A++%3Funiprot_uri+a+up%3AProtein+.%0A++%3Funiprot_uri+up%3Aorganism+taxon%3A9606+.+%23+taxon%3A9606+is+Homo+sapiens+%28human%29%0A%0A++%23+Federate+to+Wikidata+to+find+the+gene+information%0A++SERVICE+%3Chttps%3A//query.wikidata.org/sparql%3E+%7B%0A++++%23+Find+the+Wikidata+item+%28%3Fprotein_item%29+that+has+the+UniProt+ID+%22P05067%22%0A++++%3Fprotein_item+wdt%3AP352+%3Funiprot_accession+.%0A%0A++++%23+Ensure+this+protein+item+is+associated+with+Homo+sapiens+%28Q15978631%29+in+Wikidata%0A++++%3Fprotein_item+wdt%3AP703+wd%3AQ15978631+.%0A%0A++++%23+Find+the+gene+item+%28%3Fgene_item%29+that+encodes+this+protein%0A++++%3Fgene_item+wdt%3AP688+%3Fprotein_item+.%0A%0A++++%23+Retrieve+the+gene+start+and+end+positions+from+the+gene+item%0A++++%3Fgene_item+wdt%3AP644+%3Fgene_start+.+%23+P644+is+%27gene+start%27%0A++++%3Fgene_item+wdt%3AP645+%3Fgene_end+.+++%23+P645+is+%27gene+end%27%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/117_biosodafrontend_glioblastoma_orthologs_rat",
    "natural_language_question": "Which are the proteins associated with glioblastoma and the orthologs expressed in the rat brain?",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX sio: <http://semanticscience.org/resource/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX genex: <http://purl.org/genex#>\nSELECT DISTINCT ?protein ?orthologous_protein ?gene ?annotation_text WHERE {\n  {\n  \tSELECT ?protein ?annotation_text WHERE {\n      ?protein a up:Protein ;\n          up:organism taxon:9606 ;\n          up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text .\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"glioblastoma\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein ?protein ?gene WHERE {\n    ?protein_OMA a orth:Protein .\n    ?orthologous_protein a orth:Protein .\n    ?cluster a orth:OrthologsCluster .\n    ?cluster orth:hasHomologousMember ?node1 .\n    ?cluster\n    orth:hasHomologousMember ?node2 .\n    ?node2 orth:hasHomologousMember* ?protein_OMA .\n    ?node1 orth:hasHomologousMember* ?orthologous_protein .\n    ?orthologous_protein orth:organism/obo:RO_0002162 taxon:10116 . # rattus norvegicus\n    ?orthologous_protein sio:SIO_010079 ?gene .\n    ?protein_OMA lscr:xrefUniprot ?protein .\n    FILTER(?node1 != ?node2)\n\t\t}\n\t}\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?a .\n    ?a rdfs:label \"brain\" .\n    ?gene orth:organism ?s . \n    ?s obo:RO_0002162 taxon:10116.\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/117_biosodafrontend_glioblastoma_orthologs_rat.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX orthodb: <http://purl.orthodb.org/>\n\nSELECT DISTINCT ?protein ?proteinGeneName ?ortholog ?orthologGeneName ?organismName ?tissueLabel\nWHERE {\n  # 1. Find proteins associated with glioblastoma in UniProt\n  ?protein a up:Protein .\n  ?protein up:annotation ?diseaseAnnotation .\n  ?diseaseAnnotation up:disease <http://purl.uniprot.org/diseases/2566> . # Glioblastoma\n  OPTIONAL { ?protein up:encodedBy/skos:prefLabel ?proteinGeneName . }\n\n  # 2. Link the UniProt protein to its OrthoDB orthogroup\n  # The rdfs:seeAlso predicate links UniProt entries to external database identifiers,\n  # including OrthoDB orthogroup URIs.\n  ?protein rdfs:seeAlso ?orthoGroup .\n\n  # 3. Find other members (orthologs) of the same orthogroup in OrthoDB\n  SERVICE <https://sparql.orthodb.org/sparql> {\n    ?orthoGroup orthodb:hasMember ?orthologMember .\n    # The orthodb:xref/orthodb:xrefResource path leads to the UniProt ID of the ortholog.\n    ?orthologMember orthodb:xref/orthodb:xrefResource ?ortholog .\n  }\n\n  # 4. Ensure the found ortholog is different from the original protein\n  FILTER (?protein != ?ortholog)\n\n  # 5. Filter the orthologs: must be from rat and expressed in brain (back in UniProt)\n  ?ortholog a up:Protein . # Confirm ?ortholog is a UniProt protein\n  ?ortholog up:organism ?organism .\n  ?organism up:scientificName ?organismName .\n  FILTER (?organism = <http://purl.uniprot.org/taxonomy/10116>) # Filter for Rat (Rattus norvegicus)\n\n  OPTIONAL { ?ortholog up:encodedBy/skos:prefLabel ?orthologGeneName . }\n\n  ?ortholog up:annotation ?expressionAnnotation .\n  ?expressionAnnotation a up:Expression_Annotation .\n  ?expressionAnnotation up:tissue ?tissue .\n  ?tissue skos:prefLabel ?tissueLabel .\n  FILTER (REGEX(?tissueLabel, \"brain\", \"i\")) # Case-insensitive match for \"brain\" in tissue label\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "3c51b6a7-b961-450d-9b73-0d314072920e",
    "evaluation_timestamp": "2025-05-26T12:37:09.087374",
    "question_understanding_prompt_tokens": 258,
    "question_understanding_completion_tokens": 40,
    "question_understanding_total_tokens": 298,
    "planning_prompt_tokens": 6025,
    "planning_completion_tokens": 163,
    "planning_total_tokens": 6188,
    "pattern_prompt_tokens": 12978,
    "pattern_completion_tokens": 741,
    "pattern_total_tokens": 13719,
    "assembler_prompt_tokens": 4725,
    "assembler_completion_tokens": 641,
    "assembler_total_tokens": 5366,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/116_biosodafrontend_rabit_mouse_orthologs",
    "natural_language_question": "Rabbit's proteins encoded by genes that are orthologous to Mouse's HBB-Y gene and their cross reference links to Uniprot",
    "ground_truth_query": "PREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT DISTINCT ?PROTEIN_1 ?PROTEIN_2 ?UNIPROT_XREF_1 ?UNIPROT_XREF_2 WHERE {\n\t?taxon_1 up:commonName 'Mouse' .\n\t?taxon_2 up:commonName 'Rabbit' .\n\tSERVICE <https://sparql.omabrowser.org/sparql/> {\n\t\t?cluster a orth:OrthologsCluster .\n\t\t?cluster orth:hasHomologousMember ?node1 .\n\t\t?cluster orth:hasHomologousMember ?node2 .\n\t\t?node2 orth:hasHomologousMember* ?PROTEIN_2 .\n\t\t?node1 orth:hasHomologousMember* ?PROTEIN_1 .\n\t\t?PROTEIN_1 a orth:Protein .\n\t\t?PROTEIN_1 orth:organism/obo:RO_0002162 ?taxon_1 ;\n\t\t\trdfs:label 'HBB-Y' ;\n\t\t\tlscr:xrefUniprot ?UNIPROT_XREF_1 .\n\t\t?PROTEIN_2 a orth:Protein .\n\t\t?PROTEIN_2 orth:organism/obo:RO_0002162 ?taxon_2 .\n\t\t?PROTEIN_2 lscr:xrefUniprot ?UNIPROT_XREF_2 .\n\t\tFILTER ( ?node1 != ?node2 )\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/116_biosodafrontend_rabit_mouse_orthologs.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?rabbitProtein ?rabbitGene ?crossRef\nWHERE {\n  # 1. Find the Mouse HBB-Y gene and its encoded protein\n  ?mouseGene a up:Gene ;\n             up:organism taxon:10090 . # Mouse taxonomy ID (Mus musculus)\n\n  # Try to match the gene name \"HBB-Y\" using various gene name properties, case-insensitively\n  { ?mouseGene skos:prefLabel ?mouseGeneLabel . }\n  UNION\n  { ?mouseGene skos:altLabel ?mouseGeneLabel . }\n  UNION\n  { ?mouseGene up:orfName ?mouseGeneLabel . }\n  FILTER (LCASE(STR(?mouseGeneLabel)) = \"hbb-y\")\n\n  # Find the protein encoded by the identified Mouse gene\n  ?mouseProtein a up:Protein ;\n                up:encodedBy ?mouseGene .\n\n  # 2. Find the orthologous group for the Mouse protein\n  # UniProt entries often link to external orthology databases like OrthoDB via rdfs:seeAlso\n  ?mouseProtein rdfs:seeAlso ?orthoGroup .\n  # Ensure the linked resource is indeed an OrthoDB group URI\n  FILTER (STRSTARTS(STR(?orthoGroup), \"http://purl.orthodb.org/\"))\n\n  # 3. Find Rabbit proteins that belong to the same orthologous group\n  ?rabbitProtein a up:Protein ;\n                 up:organism taxon:9986 ; # Rabbit taxonomy ID (Oryctolagus cuniculus)\n                 rdfs:seeAlso ?orthoGroup . # Link to the same orthologous group as the mouse protein\n\n  # 4. Ensure these Rabbit proteins are encoded by a gene\n  ?rabbitProtein up:encodedBy ?rabbitGene .\n\n  # 5. Find general cross-reference links for these Rabbit proteins\n  # rdfs:seeAlso is used for various cross-references in UniProt\n  ?rabbitProtein rdfs:seeAlso ?crossRef .\n  # Exclude the orthologous group URI itself from the general cross-references,\n  # as it's already handled as the orthology link.\n  FILTER (?crossRef != ?orthoGroup)\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "86d4fd7e-f0f8-4ff6-928b-ffb40f77588c",
    "evaluation_timestamp": "2025-05-26T12:39:16.359597",
    "question_understanding_prompt_tokens": 267,
    "question_understanding_completion_tokens": 49,
    "question_understanding_total_tokens": 316,
    "planning_prompt_tokens": 6017,
    "planning_completion_tokens": 151,
    "planning_total_tokens": 6168,
    "pattern_prompt_tokens": 6941,
    "pattern_completion_tokens": 730,
    "pattern_total_tokens": 7671,
    "assembler_prompt_tokens": 3422,
    "assembler_completion_tokens": 0,
    "assembler_total_tokens": 3422,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+skos%3A+%3Chttp%3A//www.w3.org/2004/02/skos/core%23%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+DISTINCT+%3FrabbitProtein+%3FrabbitGene+%3FcrossRef%0AWHERE+%7B%0A++%23+1.+Find+the+Mouse+HBB-Y+gene+and+its+encoded+protein%0A++%3FmouseGene+a+up%3AGene+%3B%0A+++++++++++++up%3Aorganism+taxon%3A10090+.+%23+Mouse+taxonomy+ID+%28Mus+musculus%29%0A%0A++%23+Try+to+match+the+gene+name+%22HBB-Y%22+using+various+gene+name+properties%2C+case-insensitively%0A++%7B+%3FmouseGene+skos%3AprefLabel+%3FmouseGeneLabel+.+%7D%0A++UNION%0A++%7B+%3FmouseGene+skos%3AaltLabel+%3FmouseGeneLabel+.+%7D%0A++UNION%0A++%7B+%3FmouseGene+up%3AorfName+%3FmouseGeneLabel+.+%7D%0A++FILTER+%28LCASE%28STR%28%3FmouseGeneLabel%29%29+%3D+%22hbb-y%22%29%0A%0A++%23+Find+the+protein+encoded+by+the+identified+Mouse+gene%0A++%3FmouseProtein+a+up%3AProtein+%3B%0A++++++++++++++++up%3AencodedBy+%3FmouseGene+.%0A%0A++%23+2.+Find+the+orthologous+group+for+the+Mouse+protein%0A++%23+UniProt+entries+often+link+to+external+orthology+databases+like+OrthoDB+via+rdfs%3AseeAlso%0A++%3FmouseProtein+rdfs%3AseeAlso+%3ForthoGroup+.%0A++%23+Ensure+the+linked+resource+is+indeed+an+OrthoDB+group+URI%0A++FILTER+%28STRSTARTS%28STR%28%3ForthoGroup%29%2C+%22http%3A//purl.orthodb.org/%22%29%29%0A%0A++%23+3.+Find+Rabbit+proteins+that+belong+to+the+same+orthologous+group%0A++%3FrabbitProtein+a+up%3AProtein+%3B%0A+++++++++++++++++up%3Aorganism+taxon%3A9986+%3B+%23+Rabbit+taxonomy+ID+%28Oryctolagus+cuniculus%29%0A+++++++++++++++++rdfs%3AseeAlso+%3ForthoGroup+.+%23+Link+to+the+same+orthologous+group+as+the+mouse+protein%0A%0A++%23+4.+Ensure+these+Rabbit+proteins+are+encoded+by+a+gene%0A++%3FrabbitProtein+up%3AencodedBy+%3FrabbitGene+.%0A%0A++%23+5.+Find+general+cross-reference+links+for+these+Rabbit+proteins%0A++%23+rdfs%3AseeAlso+is+used+for+various+cross-references+in+UniProt%0A++%3FrabbitProtein+rdfs%3AseeAlso+%3FcrossRef+.%0A++%23+Exclude+the+orthologous+group+URI+itself+from+the+general+cross-references%2C%0A++%23+as+it%27s+already+handled+as+the+orthology+link.%0A++FILTER+%28%3FcrossRef+%21%3D+%3ForthoGroup%29%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/29",
    "natural_language_question": "Use <a href=\"http://allie.dbcls.jp/\">ALLIE</a> a service for Abbreviation / Long Form in Japanese and English to search in UniProt using Japanese.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?protein ?englishLabelStr\nWHERE {\n    SERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"アミロイド前駆体タンパク質\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n    BIND (STR(?englishLabel) AS ?englishLabelStr)\n    ?protein a up:Protein .\n    {\n        ?protein (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    UNION\n    {\n        VALUES(?partType){(up:domain) (up:component)}\n            ?protein ?partType ?part .\n        ?part (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    ?structuredName ?anyKindOfName  ?englishLabelStr .\n    ?anyKindOfName rdfs:subPropertyOf up:structuredNameType .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/29_search_uniprot_in_japanese_with_allie.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?protein ?fullName ?englishTermFromAllie\nWHERE {\n  # Step 1: Use ALLIE to translate a Japanese term to English\n  SERVICE <https://data.allie.dbcls.jp/sparql> {\n    # For demonstration, we use \"タンパク質\" (protein) as the Japanese term.\n    # The ALLIE service will find entities labeled with this Japanese term\n    # and also provide their English labels.\n    ?allieEntity rdfs:label \"タンパク質\"@ja ;\n                 rdfs:label ?englishTermFromAllie .\n    FILTER(lang(?englishTermFromAllie) = \"en\")\n  }\n\n  # Step 2: Use the English translation from ALLIE to search UniProt\n  # Find proteins in UniProt\n  ?protein a up:Protein .\n  \n  # Get the recommended full name of the protein\n  ?protein up:recommendedName ?recommendedName .\n  ?recommendedName up:fullName ?fullName .\n\n  # Join condition: Filter UniProt proteins whose full name contains\n  # the English term obtained from ALLIE.\n  # Using LCASE and STR for case-insensitive string comparison.\n  FILTER (CONTAINS(LCASE(STR(?fullName)), LCASE(STR(?englishTermFromAllie))))\n}\nLIMIT 10",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "98f15647-a093-4d93-93bb-351b1c56c681",
    "evaluation_timestamp": "2025-05-26T12:41:09.065532",
    "question_understanding_prompt_tokens": 279,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 310,
    "planning_prompt_tokens": 6380,
    "planning_completion_tokens": 193,
    "planning_total_tokens": 6573,
    "pattern_prompt_tokens": 10828,
    "pattern_completion_tokens": 317,
    "pattern_total_tokens": 11145,
    "assembler_prompt_tokens": 3284,
    "assembler_completion_tokens": 0,
    "assembler_total_tokens": 3284,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC",
    "natural_language_question": "Select all approved reactions with CHEBI:17815 (a 1,2-diacyl-sn-glycerol) or one of its descendant. Display links to UniProtKB/Swiss-Prot entries via EC numbers if the link rhea-ec exists.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX CHEBI:<http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  distinct\n    ?reaction\n    ?enzyme\n    (count(distinct ?protein) as ?proteinCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:side ?reactionSide .\n\n  OPTIONAL {?reaction rh:ec ?enzyme .\n    SERVICE <https://sparql.uniprot.org/sparql> {\n      ?protein up:reviewed true .\n      ?protein up:enzyme ?enzyme.\n    }\n  } .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  ?chebi rdfs:subClassOf* CHEBI:17815 .\n}\nGROUP BY ?reaction ?enzyme\nORDER BY ?reaction\nLIMIT 985915",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?reaction ?ecNumber ?uniprotEntry\nWHERE {\n  # Part 1: Find approved reactions in Rhea involving CHEBI:17815 or its descendants\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  ?chebi rdfs:subClassOf* CHEBI:17815 .\n\n  # Part 2: Optionally get EC numbers from Rhea and link to UniProt\n  OPTIONAL {\n    ?reaction rh:ec ?ecNumber . # Get the EC number string from Rhea\n\n    # Federate with UniProt to find corresponding UniProt entries\n    SERVICE <https://sparql.uniprot.org/sparql> {\n      # Link UniProt entries to the EC number string\n      ?uniprotEntry up:ec ?ecNumber .\n    }\n  }\n}\nORDER BY ?reaction ?ecNumber ?uniprotEntry",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "a620dec7-6c64-4700-affc-f7569ad7380e",
    "evaluation_timestamp": "2025-05-26T12:42:21.099350",
    "question_understanding_prompt_tokens": 295,
    "question_understanding_completion_tokens": 97,
    "question_understanding_total_tokens": 392,
    "planning_prompt_tokens": 5824,
    "planning_completion_tokens": 143,
    "planning_total_tokens": 5967,
    "pattern_prompt_tokens": 11060,
    "pattern_completion_tokens": 257,
    "pattern_total_tokens": 11317,
    "assembler_prompt_tokens": 3728,
    "assembler_completion_tokens": 360,
    "assembler_total_tokens": 4088,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0A%0ASELECT+DISTINCT+%3Freaction+%3FecNumber+%3FuniprotEntry%0AWHERE+%7B%0A++%23+Part+1%3A+Find+approved+reactions+in+Rhea+involving+CHEBI%3A17815+or+its+descendants%0A++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+.%0A++%3Freaction+rh%3Astatus+rh%3AApproved+.%0A++%3Freaction+rh%3Aside+%3FreactionSide+.%0A++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A++%3Fcompound+rh%3Achebi+%3Fchebi+.%0A++%3Fchebi+rdfs%3AsubClassOf%2A+CHEBI%3A17815+.%0A%0A++%23+Part+2%3A+Optionally+get+EC+numbers+from+Rhea+and+link+to+UniProt%0A++OPTIONAL+%7B%0A++++%3Freaction+rh%3Aec+%3FecNumber+.+%23+Get+the+EC+number+string+from+Rhea%0A%0A++++%23+Federate+with+UniProt+to+find+corresponding+UniProt+entries%0A++++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++++%23+Link+UniProt+entries+to+the+EC+number+string%0A++++++%3FuniprotEntry+up%3Aec+%3FecNumber+.%0A++++%7D%0A++%7D%0A%7D%0AORDER+BY+%3Freaction+%3FecNumber+%3FuniprotEntry&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/11",
    "natural_language_question": "Distribution of reactions according to the first class of the enzyme classification (federated query)",
    "ground_truth_query": "PREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\n# Query 11\n# Retrieve the count of reactions mapped to each level (main class) of the enzyme classification\n#\n# This query mimics the Filter section of the Rhea website (Browse all reactions)\n# https://www.rhea-db.org/rhea?query=\nSELECT ?ecClass (STR(?ecName) AS ?ecClassName) (COUNT(?rhea) AS ?rheaCount)\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-)}\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?rhea rdfs:subClassOf rh:Reaction .\n  ?rhea rh:ec ?ecNumber .\n} GROUP BY ?ecClass ?ecName",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/11.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\nSELECT\n  ?ecClass\n  (str(?ecName) as ?ecClassName)\n  (count(?reaction) as ?reactionCount)\nWHERE\n{\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-) }\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?ecNumber .\n}\nGROUP BY ?ecClass ?ecName\nORDER BY ?ecClass",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "5017eb05-5586-4afa-9f56-bc179df7e6c2",
    "evaluation_timestamp": "2025-05-26T12:43:13.166318",
    "question_understanding_prompt_tokens": 252,
    "question_understanding_completion_tokens": 24,
    "question_understanding_total_tokens": 276,
    "planning_prompt_tokens": 5156,
    "planning_completion_tokens": 124,
    "planning_total_tokens": 5280,
    "pattern_prompt_tokens": 13188,
    "pattern_completion_tokens": 255,
    "pattern_total_tokens": 13443,
    "assembler_prompt_tokens": 3999,
    "assembler_completion_tokens": 0,
    "assembler_total_tokens": 3999,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+ec%3A+%3Chttp%3A//purl.uniprot.org/enzyme/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+skos%3A+%3Chttp%3A//www.w3.org/2004/02/skos/core%23%3E%0A%0ASELECT%0A++%3FecClass%0A++%28str%28%3FecName%29+as+%3FecClassName%29%0A++%28count%28%3Freaction%29+as+%3FreactionCount%29%0AWHERE%0A%7B%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++VALUES+%28%3FecClass%29+%7B+%28ec%3A1.-.-.-%29%28ec%3A2.-.-.-%29%28ec%3A3.-.-.-%29%28ec%3A4.-.-.-%29%28ec%3A5.-.-.-%29+%28ec%3A6.-.-.-%29+%28ec%3A7.-.-.-%29+%7D%0A++++%3FecNumber+rdfs%3AsubClassOf+%3FecClass+.%0A++++%3FecClass+skos%3AprefLabel+%3FecName+.%0A++%7D%0A++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+.%0A++%3Freaction+rh%3Aec+%3FecNumber+.%0A%7D%0AGROUP+BY+%3FecClass+%3FecName%0AORDER+BY+%3FecClass&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification",
    "natural_language_question": "Distribution of reactions according to the first level of enzyme classification",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos:<http://www.w3.org/2004/02/skos/core#>\n\nSELECT\n  ?ecClass\n  (str(?ecName) as ?ecClassName)\n  (count(?reaction) as ?reactionCount)\nWHERE\n{\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-) }\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?ecNumber .\n}\nGROUP BY ?ecClass ?ecName\n",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\nSELECT ?ecClass (STR(?ecName) AS ?ecClassName) (COUNT(?rhea) AS ?rheaCount)\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-)}\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?rhea rdfs:subClassOf rh:Reaction .\n  ?rhea rh:ec ?ecNumber .\n}\nGROUP BY ?ecClass ?ecName\nORDER BY ?ecClass",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "d9099780-c137-4dd0-a330-86b7c934e52f",
    "evaluation_timestamp": "2025-05-26T12:44:02.682719",
    "question_understanding_prompt_tokens": 247,
    "question_understanding_completion_tokens": 24,
    "question_understanding_total_tokens": 271,
    "planning_prompt_tokens": 4685,
    "planning_completion_tokens": 125,
    "planning_total_tokens": 4810,
    "pattern_prompt_tokens": 15865,
    "pattern_completion_tokens": 86,
    "pattern_total_tokens": 15951,
    "assembler_prompt_tokens": 3811,
    "assembler_completion_tokens": 296,
    "assembler_total_tokens": 4107,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 1.0,
    "result_eval_precision": 1.0,
    "result_eval_recall": 1.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/12",
    "natural_language_question": "Select all Rhea reactions linked to protein sequences (enzymes and transporters) in UniProtKB",
    "ground_truth_query": "PREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Query 12\n# Select all Rhea reactions used to annotate enzyme sequences in UniProtKB\n# return the number of UniProtKB entries\n# Federated query using a service to UniProt SPARQL endpoint\n#\n# This query corresponds to the Rhea website query:\n# https://www.rhea-db.org/rhea?query=uniprot:*\n#\nSELECT ?uniprotCount ?rhea ?accession ?equation \nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> { \n  \tSELECT ?rhea (count(?uniprot) as ?uniprotCount) {\n      ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea . \n  \t}\n  \tGROUP BY ?rhea\n  }\n  ?rhea rh:accession ?accession .\n  ?rhea rh:equation ?equation .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/12.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?rhea ?rheaAccession ?rheaEquation ?protein ?proteinAccession\nWHERE {\n  # Part 1: Retrieve Rhea reactions and their basic details from the host endpoint (Rhea-DB)\n  ?rhea rdfs:subClassOf rh:Reaction .\n  ?rhea rh:accession ?rheaAccession .\n  OPTIONAL { ?rhea rh:equation ?rheaEquation . } # The equation might not be present for all Rhea reactions\n\n  # Part 2: Federate to the UniProt SPARQL endpoint to find linked protein sequences\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    GRAPH <http://sparql.uniprot.org/uniprot> {\n      # Filter for reviewed UniProt entries to improve performance and focus on high-quality data\n      ?protein up:reviewed true .\n      # Get the UniProt accession for the protein\n      ?protein up:accession ?proteinAccession .\n\n      {\n        # Link proteins to Rhea reactions via catalytic activity (for enzymes)\n        ?protein up:annotation ?annotation .\n        ?annotation up:catalyticActivity ?catalyticActivity .\n        ?catalyticActivity up:catalyzedReaction ?rhea .\n      }\n      UNION\n      {\n        # Link proteins to Rhea reactions via transport activity (for transporters)\n        ?protein up:annotation ?annotation .\n        ?annotation up:catalyticActivity ?catalyticActivity .\n        ?catalyticActivity up:transports ?rhea .\n      }\n    }\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "27d7238e-9997-4aec-b0bc-a6b3eceef62b",
    "evaluation_timestamp": "2025-05-26T12:47:52.839309",
    "question_understanding_prompt_tokens": 258,
    "question_understanding_completion_tokens": 30,
    "question_understanding_total_tokens": 288,
    "planning_prompt_tokens": 5303,
    "planning_completion_tokens": 122,
    "planning_total_tokens": 5425,
    "pattern_prompt_tokens": 16434,
    "pattern_completion_tokens": 361,
    "pattern_total_tokens": 16795,
    "assembler_prompt_tokens": 4153,
    "assembler_completion_tokens": 429,
    "assembler_total_tokens": 4582,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/112_Total_number_of_reaction_ec_protein_links",
    "natural_language_question": "Total number of <reaction> <ec> <protein> links",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  (count(?reaction) as ?reactionEcProteinLinkCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?enzyme\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    ?protein up:reviewed true .\n    ?protein up:enzyme ?enzyme.\n  }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/112_Total_number_of_reaction_ec_protein_links.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\n\nSELECT\n  (COUNT(?reaction) AS ?reactionEcProteinLinkCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?enzyme .\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein up:reviewed true .\n    ?protein up:enzyme ?enzyme .\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1af92d54-8fed-43ba-bf14-3ce3e2d1061d",
    "evaluation_timestamp": "2025-05-26T12:48:45.009756",
    "question_understanding_prompt_tokens": 248,
    "question_understanding_completion_tokens": 21,
    "question_understanding_total_tokens": 269,
    "planning_prompt_tokens": 5209,
    "planning_completion_tokens": 142,
    "planning_total_tokens": 5351,
    "pattern_prompt_tokens": 15525,
    "pattern_completion_tokens": 102,
    "pattern_total_tokens": 15627,
    "assembler_prompt_tokens": 3752,
    "assembler_completion_tokens": 187,
    "assembler_total_tokens": 3939,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/19_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?rhea rh:side/rh:contains/rh:compound ?compound .\n  ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n  SERVICE <https://sparql.uniprot.org/sparql> {\n     ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n                                             up:organism taxon:9606 ;\n                                             up:mnemonic ?mnemonic .\n\n   }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/19_draft_human_metabolome.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX keywords: <http://purl.uniprot.org/keywords/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?chebi ?compound ?reaction ?ecNumber ?protein\nWHERE {\n  # UniProt part: Find human enzymes and the Rhea reactions they catalyze\n  ?protein a up:Protein .\n  ?protein up:reviewed true .\n  ?protein up:organism taxon:9606 . # Filter for human proteins\n  ?protein up:classifiedWith keywords:1185 . # Filter for enzymes\n  ?protein up:annotation ?annotation .\n  ?annotation a up:Catalytic_Activity_Annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?reaction . # This variable joins with Rhea\n\n  # Rhea part: Get details about the reactions and the compounds involved\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction .\n    ?reaction rh:status rh:Approved . # Ensure only approved reactions are considered\n    ?reaction rh:ec ?ecNumber . # Get the EC number for the reaction\n    ?reaction rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound . # Get the Rhea compound URI\n    ?compound rh:chebi ?chebi . # Get the ChEBI identifier for the compound (metabolite)\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "67143b91-98e7-4d87-87c7-69c9c7095fb7",
    "evaluation_timestamp": "2025-05-26T12:49:52.093926",
    "question_understanding_prompt_tokens": 244,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 264,
    "planning_prompt_tokens": 5596,
    "planning_completion_tokens": 127,
    "planning_total_tokens": 5723,
    "pattern_prompt_tokens": 9845,
    "pattern_completion_tokens": 367,
    "pattern_total_tokens": 10212,
    "assembler_prompt_tokens": 5023,
    "assembler_completion_tokens": 444,
    "assembler_total_tokens": 5467,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.4278519816071819,
    "result_eval_precision": 0.7556071152358855,
    "result_eval_recall": 0.29841172877214417,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/20_search_chemical_names_in_japanese",
    "natural_language_question": "Search for Chemical names starting in Japanese, translated to english using allie",
    "ground_truth_query": "PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT\n*\nWHERE {\nSERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"1,2,4-トリクロロベンゼン\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n  BIND(STR(?englishLabel) AS ?englishLabelStr)\n  ?chebi rdfs:label|oboInOwl:hasSynonym ?englishLabelStr .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/20_search_chemical_names_in_japanese.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT ?rheaCompound ?rheaCompoundName ?japaneseName ?englishName\nWHERE {\n  # Step 1: Query Allie to find chemical entities with both Japanese and English labels\n  SERVICE <https://data.allie.dbcls.jp/sparql> {\n    ?chemical rdfs:label ?japaneseName .\n    ?chemical rdfs:label ?englishName .\n    FILTER (lang(?japaneseName) = \"ja\")\n    FILTER (lang(?englishName) = \"en\")\n    # The user asked for \"Chemical names starting in Japanese\".\n    # This is interpreted as finding names whose original form is in Japanese.\n    # If a specific starting string for the Japanese name was intended,\n    # a STRSTARTS or REGEX filter on ?japaneseName would be added here.\n  }\n\n  # Step 2: Join with Rhea-DB using the chemical URI (assuming Allie's ?chemical corresponds to a ChEBI identifier)\n  # Find Rhea-DB compounds that are linked to the chemical found in Allie via their ChEBI identifier.\n  ?rheaCompound rh:chebi ?chemical .\n  ?rheaCompound rh:name ?rheaCompoundName .\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "d8f45245-b80f-4379-a2b9-f329f345c3aa",
    "evaluation_timestamp": "2025-05-26T12:52:47.331127",
    "question_understanding_prompt_tokens": 251,
    "question_understanding_completion_tokens": 23,
    "question_understanding_total_tokens": 274,
    "planning_prompt_tokens": 4476,
    "planning_completion_tokens": 108,
    "planning_total_tokens": 4584,
    "pattern_prompt_tokens": 11228,
    "pattern_completion_tokens": 170,
    "pattern_total_tokens": 11398,
    "assembler_prompt_tokens": 3684,
    "assembler_completion_tokens": 352,
    "assembler_total_tokens": 4036,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0A%0ASELECT+%3FrheaCompound+%3FrheaCompoundName+%3FjapaneseName+%3FenglishName%0AWHERE+%7B%0A++%23+Step+1%3A+Query+Allie+to+find+chemical+entities+with+both+Japanese+and+English+labels%0A++SERVICE+%3Chttps%3A//data.allie.dbcls.jp/sparql%3E+%7B%0A++++%3Fchemical+rdfs%3Alabel+%3FjapaneseName+.%0A++++%3Fchemical+rdfs%3Alabel+%3FenglishName+.%0A++++FILTER+%28lang%28%3FjapaneseName%29+%3D+%22ja%22%29%0A++++FILTER+%28lang%28%3FenglishName%29+%3D+%22en%22%29%0A++++%23+The+user+asked+for+%22Chemical+names+starting+in+Japanese%22.%0A++++%23+This+is+interpreted+as+finding+names+whose+original+form+is+in+Japanese.%0A++++%23+If+a+specific+starting+string+for+the+Japanese+name+was+intended%2C%0A++++%23+a+STRSTARTS+or+REGEX+filter+on+%3FjapaneseName+would+be+added+here.%0A++%7D%0A%0A++%23+Step+2%3A+Join+with+Rhea-DB+using+the+chemical+URI+%28assuming+Allie%27s+%3Fchemical+corresponds+to+a+ChEBI+identifier%29%0A++%23+Find+Rhea-DB+compounds+that+are+linked+to+the+chemical+found+in+Allie+via+their+ChEBI+identifier.%0A++%3FrheaCompound+rh%3Achebi+%3Fchemical+.%0A++%3FrheaCompound+rh%3Aname+%3FrheaCompoundName+.%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction",
    "natural_language_question": "Retrieve parent reactions (and their catalyzing enzymes) for a metabolite that is not directly involved in a reaction (ex: CHEBI:83137).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?ecNumber\n  (count(?protein) as ?proteinCount)\n  ?reaction\n  ?equation\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:equation ?equation .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  CHEBI:83137 rdfs:subClassOf+ ?chebi.\n\n  SERVICE <https://sparql.uniprot.org/sparql> {\n  ?protein a up:Protein .\n  ?protein up:reviewed true .\n    {?protein up:enzyme ?ecNumber}\n  UNION\n    {?protein up:domain/up:enzyme ?ecNumber}\n  UNION\n    {?protein up:component/up:enzyme ?ecNumber} .\n  }\n} \nGROUP BY ?chebi ?ecNumber ?reaction ?equation",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\n\nSELECT DISTINCT ?parentReaction ?parentEquation ?ecNumber ?protein\nWHERE {\n  # Define the target metabolite (CHEBI:83137)\n  BIND (obo:CHEBI_83137 AS ?targetChebi)\n\n  # Find metabolites that are descendants of CHEBI:83137 but not CHEBI:83137 itself.\n  # This addresses the \"metabolite that is not directly involved\" constraint,\n  # by looking for reactions involving a more specific form of the target metabolite.\n  ?involvedChebi rdfs:subClassOf+ ?targetChebi .\n  FILTER (?involvedChebi != ?targetChebi)\n\n  # Find reactions (?reactionChild) where these descendant metabolites are participants\n  ?reactionChild rdfs:subClassOf rh:Reaction .\n  ?reactionChild rh:status rh:Approved .\n  ?reactionChild rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?involvedChebi .\n\n  # Find the parent reactions (?parentReaction) of these child reactions\n  ?reactionChild rdfs:subClassOf ?parentReaction .\n  ?parentReaction rdfs:subClassOf rh:Reaction .\n  ?parentReaction rh:status rh:Approved .\n  OPTIONAL { ?parentReaction rh:equation ?parentEquation . } # Get the equation for the parent reaction\n\n  # Find the EC numbers associated with the parent reactions\n  ?parentReaction rh:ec ?ecNumber .\n\n  # Federate with UniProt to find proteins catalyzing these EC numbers\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true . # Filter for reviewed proteins to reduce results and improve performance\n    { ?protein up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:domain/up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:component/up:enzyme ?ecNumber . }\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "d7b3b917-7128-403e-a601-2e8fd533c5f7",
    "evaluation_timestamp": "2025-05-26T12:56:39.310671",
    "question_understanding_prompt_tokens": 270,
    "question_understanding_completion_tokens": 42,
    "question_understanding_total_tokens": 312,
    "planning_prompt_tokens": 5871,
    "planning_completion_tokens": 184,
    "planning_total_tokens": 6055,
    "pattern_prompt_tokens": 17154,
    "pattern_completion_tokens": 364,
    "pattern_total_tokens": 17518,
    "assembler_prompt_tokens": 4368,
    "assembler_completion_tokens": 586,
    "assembler_total_tokens": 4954,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+obo%3A+%3Chttp%3A//purl.obolibrary.org/obo/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+ec%3A+%3Chttp%3A//purl.uniprot.org/enzyme/%3E%0A%0ASELECT+DISTINCT+%3FparentReaction+%3FparentEquation+%3FecNumber+%3Fprotein%0AWHERE+%7B%0A++%23+Define+the+target+metabolite+%28CHEBI%3A83137%29%0A++BIND+%28obo%3ACHEBI_83137+AS+%3FtargetChebi%29%0A%0A++%23+Find+metabolites+that+are+descendants+of+CHEBI%3A83137+but+not+CHEBI%3A83137+itself.%0A++%23+This+addresses+the+%22metabolite+that+is+not+directly+involved%22+constraint%2C%0A++%23+by+looking+for+reactions+involving+a+more+specific+form+of+the+target+metabolite.%0A++%3FinvolvedChebi+rdfs%3AsubClassOf%2B+%3FtargetChebi+.%0A++FILTER+%28%3FinvolvedChebi+%21%3D+%3FtargetChebi%29%0A%0A++%23+Find+reactions+%28%3FreactionChild%29+where+these+descendant+metabolites+are+participants%0A++%3FreactionChild+rdfs%3AsubClassOf+rh%3AReaction+.%0A++%3FreactionChild+rh%3Astatus+rh%3AApproved+.%0A++%3FreactionChild+rh%3Aside+%3FreactionSide+.%0A++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A++%3Fcompound+rh%3Achebi+%3FinvolvedChebi+.%0A%0A++%23+Find+the+parent+reactions+%28%3FparentReaction%29+of+these+child+reactions%0A++%3FreactionChild+rdfs%3AsubClassOf+%3FparentReaction+.%0A++%3FparentReaction+rdfs%3AsubClassOf+rh%3AReaction+.%0A++%3FparentReaction+rh%3Astatus+rh%3AApproved+.%0A++OPTIONAL+%7B+%3FparentReaction+rh%3Aequation+%3FparentEquation+.+%7D+%23+Get+the+equation+for+the+parent+reaction%0A%0A++%23+Find+the+EC+numbers+associated+with+the+parent+reactions%0A++%3FparentReaction+rh%3Aec+%3FecNumber+.%0A%0A++%23+Federate+with+UniProt+to+find+proteins+catalyzing+these+EC+numbers%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++%3Fprotein+a+up%3AProtein+.%0A++++%3Fprotein+up%3Areviewed+true+.+%23+Filter+for+reviewed+proteins+to+reduce+results+and+improve+performance%0A++++%7B+%3Fprotein+up%3Aenzyme+%3FecNumber+.+%7D%0A++++UNION%0A++++%7B+%3Fprotein+up%3Adomain/up%3Aenzyme+%3FecNumber+.+%7D%0A++++UNION%0A++++%7B+%3Fprotein+up%3Acomponent/up%3Aenzyme+%3FecNumber+.+%7D%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/18",
    "natural_language_question": "Use <a href=\"https://idsm.elixir-czech.cz/sparql\">IDSM Sachem</a> to find ChEBIs with a a <a href=\"https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35516\">Cholestane</a> skeleton (in SMILES). Then match returned ChEBIs to Rhea undirected reactions.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\n\n\nSELECT \n  ?rhea \n  ?chebi\nWHERE {\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?chebi sachem:substructureSearch [\n        sachem:query \"[C@]12(CCC3CCCC[C@]3(C)[C@@]1([H])CC[C@]1(C)[C@@]([H])([C@@](C)([H])CCCC(C)C)CC[C@@]21[H])[H]\" ].\n  }\n  ?rhea rh:side/rh:contains/rh:compound/rdfs:subClassOf ?chebi .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/18.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX sachem: <http://bio2rdf.org/sachem:>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?chebi ?chebiName ?reaction ?reactionEquation\nWHERE {\n  # Part 1: Find ChEBIs with a Cholestane skeleton using IDSM Sachem\n  SERVICE <https://idsm.elixir-czech.cz/sparql> {\n    # SMILES for Cholestane (CHEBI:35516)\n    BIND(\"CC(C)CCCC(C)C1CCC2C3CCC4CC(C)CCC4(C)C3CCC12\" AS ?cholestaneSMILES)\n    ?chebi sachem:smiles ?compoundSMILES .\n    FILTER (sachem:substructureSearch(?compoundSMILES, ?cholestaneSMILES))\n    # The ?chebi variable here will be the ChEBI URI (e.g., http://purl.obolibrary.org/obo/CHEBI_XXXXX)\n  }\n\n  # Part 2: Match the found ChEBIs to Rhea undirected reactions\n  # Identify undirected reactions by checking if they are of type rh:BidirectionalReaction\n  ?reaction a rh:BidirectionalReaction .\n  ?reaction rh:status rh:Approved . # Filter for approved reactions for better data quality\n  ?reaction rh:equation ?reactionEquation . # Get the reaction equation for context\n\n  # Traverse the reaction graph to find participating compounds and their ChEBI IDs\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  # Link the compound to its ChEBI identifier, considering different linking predicates\n  ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n\n  # Optionally retrieve the ChEBI name\n  OPTIONAL { ?chebi up:name ?chebiName . }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "9ab26ada-831c-45e2-bc4c-f69ec6892a87",
    "evaluation_timestamp": "2025-05-26T12:57:41.418751",
    "question_understanding_prompt_tokens": 333,
    "question_understanding_completion_tokens": 52,
    "question_understanding_total_tokens": 385,
    "planning_prompt_tokens": 6374,
    "planning_completion_tokens": 119,
    "planning_total_tokens": 6493,
    "pattern_prompt_tokens": 9310,
    "pattern_completion_tokens": 269,
    "pattern_total_tokens": 9579,
    "assembler_prompt_tokens": 4649,
    "assembler_completion_tokens": 547,
    "assembler_total_tokens": 5196,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+sachem%3A+%3Chttp%3A//bio2rdf.org/sachem%3A%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0A%0ASELECT+DISTINCT+%3Fchebi+%3FchebiName+%3Freaction+%3FreactionEquation%0AWHERE+%7B%0A++%23+Part+1%3A+Find+ChEBIs+with+a+Cholestane+skeleton+using+IDSM+Sachem%0A++SERVICE+%3Chttps%3A//idsm.elixir-czech.cz/sparql%3E+%7B%0A++++%23+SMILES+for+Cholestane+%28CHEBI%3A35516%29%0A++++BIND%28%22CC%28C%29CCCC%28C%29C1CCC2C3CCC4CC%28C%29CCC4%28C%29C3CCC12%22+AS+%3FcholestaneSMILES%29%0A++++%3Fchebi+sachem%3Asmiles+%3FcompoundSMILES+.%0A++++FILTER+%28sachem%3AsubstructureSearch%28%3FcompoundSMILES%2C+%3FcholestaneSMILES%29%29%0A++++%23+The+%3Fchebi+variable+here+will+be+the+ChEBI+URI+%28e.g.%2C+http%3A//purl.obolibrary.org/obo/CHEBI_XXXXX%29%0A++%7D%0A%0A++%23+Part+2%3A+Match+the+found+ChEBIs+to+Rhea+undirected+reactions%0A++%23+Identify+undirected+reactions+by+checking+if+they+are+of+type+rh%3ABidirectionalReaction%0A++%3Freaction+a+rh%3ABidirectionalReaction+.%0A++%3Freaction+rh%3Astatus+rh%3AApproved+.+%23+Filter+for+approved+reactions+for+better+data+quality%0A++%3Freaction+rh%3Aequation+%3FreactionEquation+.+%23+Get+the+reaction+equation+for+context%0A%0A++%23+Traverse+the+reaction+graph+to+find+participating+compounds+and+their+ChEBI+IDs%0A++%3Freaction+rh%3Aside+%3FreactionSide+.%0A++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A++%23+Link+the+compound+to+its+ChEBI+identifier%2C+considering+different+linking+predicates%0A++%3Fcompound+%28rh%3Achebi%7C%28rh%3AreactivePart/rh%3Achebi%29%7C%28rh%3AunderlyingChebi/rh%3Achebi%29%29+%3Fchebi+.%0A%0A++%23+Optionally+retrieve+the+ChEBI+name%0A++OPTIONAL+%7B+%3Fchebi+up%3Aname+%3FchebiName+.+%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome",
    "natural_language_question": "Retrieve the set of metabolites involved in reactions catalyzed by human genes (HUMAN reference proteome)",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?reaction\n  ?ecNumber\n  ?protein\n  ?ensemblTranscript\n  ?ensemblGene\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true .\n    ?protein up:organism taxon:9606 .\n    ?protein up:classifiedWith keywords:1185 .\n\n    ?protein rdfs:seeAlso ?ensemblTranscript .\n    ?ensemblTranscript a up:Transcript_Resource .\n    ?ensemblTranscript up:database <http://purl.uniprot.org/database/Ensembl> .\n    ?ensemblTranscript up:transcribedFrom ?ensemblGene .\n\n      {?protein up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:domain/up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:component/up:enzyme ?ecNumber .}\n  }\n\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi . # only considering small molecules participants\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?chebi ?protein ?reaction\nWHERE {\n  # UniProt part: Find human proteins and the reactions they catalyze\n  ?protein a up:Protein ;\n           up:organism taxon:9606 ; # Filter for human proteins\n           up:annotation/up:catalyticActivity/up:catalyzedReaction ?reaction .\n\n  # Rhea part: Find metabolites involved in these reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n              rh:status rh:Approved ; # Ensure the reaction is approved\n              rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n    # Get the ChEBI identifier for the metabolite, considering various Rhea properties\n    ?compound (rh:chebi | rh:reactivePart/rh:chebi | rh:underlyingChebi/rh:chebi) ?chebi .\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "50924b6b-0a68-497b-a30f-91e6b8b13959",
    "evaluation_timestamp": "2025-05-26T12:58:38.501225",
    "question_understanding_prompt_tokens": 257,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 283,
    "planning_prompt_tokens": 6743,
    "planning_completion_tokens": 160,
    "planning_total_tokens": 6903,
    "pattern_prompt_tokens": 10305,
    "pattern_completion_tokens": 313,
    "pattern_total_tokens": 10618,
    "assembler_prompt_tokens": 5200,
    "assembler_completion_tokens": 348,
    "assembler_total_tokens": 5548,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+DISTINCT+%3Fchebi+%3Fprotein+%3Freaction%0AWHERE+%7B%0A++%23+UniProt+part%3A+Find+human+proteins+and+the+reactions+they+catalyze%0A++%3Fprotein+a+up%3AProtein+%3B%0A+++++++++++up%3Aorganism+taxon%3A9606+%3B+%23+Filter+for+human+proteins%0A+++++++++++up%3Aannotation/up%3AcatalyticActivity/up%3AcatalyzedReaction+%3Freaction+.%0A%0A++%23+Rhea+part%3A+Find+metabolites+involved+in+these+reactions%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+%3B%0A++++++++++++++rh%3Astatus+rh%3AApproved+%3B+%23+Ensure+the+reaction+is+approved%0A++++++++++++++rh%3Aside+%3FreactionSide+.%0A++++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A++++%23+Get+the+ChEBI+identifier+for+the+metabolite%2C+considering+various+Rhea+properties%0A++++%3Fcompound+%28rh%3Achebi+%7C+rh%3AreactivePart/rh%3Achebi+%7C+rh%3AunderlyingChebi/rh%3Achebi%29+%3Fchebi+.%0A++%7D%0A%7D&format=json&output=json&results=json'"
  }
]