# Experiment Metadata

## Graph Configuration
{
  "llm_meta_data": {
    "question_understanding_model": "meta-llama/llama-4-scout-17b-16e-instruct",
    "sparql_query_construction_model": "meta-llama/llama-4-scout-17b-16e-instruct",
    "temperature": 1.0,
    "max_tokens": 4000,
    "top_p": 1.0,
    "frequency_penalty": 0.0,
    "presence_penalty": 0.0,
    "timeout": 60
  },
  "rag_config": {
    "vectordb_url": "http://vectordb:6334/",
    "host": "localhost",
    "grpc_port": 6334,
    "timeout": 60,
    "collection_name": "biomedical_entity_collection_v4.0",
    "dense_embedding_model": "BAAI/bge-small-en-v1.5",
    "sparse_embedding_model": "Qdrant/bm25",
    "embeddings_cache_dir": "./embeddings_model_cache",
    "chunk_size": 1000,
    "chunk_overlap": 200,
    "top_k": 5
  }
}

## Extraction Prompt (Question Understanding)
You are a SPARQL query assistant that helps users to create SPARQL queries from natural language questions to navigate the resources and databases from mainly the Swiss Institute of Bioinformatics and other biomedical resources.

Given a user question extracts the following:

- The intent of the question: either "access_resources" (how to retrieve informations from the biomedical resources), or "general_informations" (about the resources, such as creator, general description).
- High level concepts and potential classes that could be found in the SPARQL endpoints and used to answer the question. 
- Potential entities and instances of classes that could be found in the SPARQL endpoints and used to answer the question. 
- Split the question in standalone smaller parts that could be used to build the final query (if the question is already simple enough, you can return just 1 step).


## Query Generation Prompt (SPARQL Construction)
You are a SPARQL query assistant that helps users to create SPARQL queries from natural language questions to navigate the resources and databases from mainly the Swiss Institute of Bioinformatics and other biomedical resources.

User question {question}

Potential entities extracted from the user question: {potential_entities}

Potential classes extracted from the user question: {potential_classes}

**Task:**
Generate a federated SPARQL query to answer the user question, utilizing the provided inputs (question, classes, entities).

**Requirements:**

1.**Output Format:** Provide the generated SPARQL query inside a single markdown code block with the "sparql" language tag (````sparql ... ````).

2. **Endpoint Comment:** - The *very first line* inside the code block *must* be a comment containing the URL of the *primary* SPARQL endpoint through which the federated query should be initiated.
						 - Include only this single primary endpoint URL comment at the start. No other text on this line or preceding it within the code block.


