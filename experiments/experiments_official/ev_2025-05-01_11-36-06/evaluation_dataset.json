[
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/16",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all enzymes in UniProtKB/Swiss-Prot annotated to catalyze reactions involving that lipid.\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 16\nSELECT ?startId ?startName ?uniprot\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/16.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?uniprot ?uniprotName\nWHERE\n{\n  # Specify the input SwissLipids identifier\n  VALUES ?swissLipidId { SWISSLIPID:000399814 }\n\n  # Find the equivalent ChEBI identifier for the given SwissLipids ID\n  ?swissLipidId owl:equivalentClass ?chebi .\n\n  # Federated query to Rhea to find reactions involving the ChEBI compound\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find Rhea reactions where the ChEBI compound is a participant\n    ?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n    # Ensure the reaction is approved (optional but good practice)\n    ?rhea rh:status rh:Approved .\n  }\n\n  # Federated query to UniProt to find enzymes catalyzing these Rhea reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries (reviewed, i.e., Swiss-Prot)\n    ?uniprot up:reviewed true .\n    # Find the catalytic activity annotation linking to the Rhea reaction\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n    # Get the recommended full name of the protein\n    ?uniprot up:recommendedName/up:fullName ?uniprotName .\n  }\n}",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "d0bd1811-9209-4194-9b51-492939dd003a",
    "evaluation_timestamp": "2025-05-01T11:36:41.247113",
    "question_understanding_prompt_tokens": 303,
    "question_understanding_completion_tokens": 72,
    "question_understanding_total_tokens": 375,
    "sparql_query_construction_prompt_tokens": 7904,
    "sparql_query_construction_completion_tokens": 454,
    "sparql_query_construction_total_tokens": 8358,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 1.0,
    "result_eval_precision": 1.0,
    "result_eval_recall": 1.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/6",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation), as well as their enzymes as annotated in UniProtKB/Swiss-Prot) enzymes themselves (ID and protein name).\nThis query does not consider the hierarchy: it looks for reactions and enzymes only for the specified lipid.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Example 6\nSELECT ?startId ?startName ?chebi ?rhea ?rheaEquation ?uniprot ?uniprotName\nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # ChEBI x-ref\n  ?startId owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n  # federated query to UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?uniprot up:reviewed true .\n    ?uniprot up:recommendedName/up:fullName ?uniprotName .\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  }\n} \nORDER BY ?startId",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/6.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?rheaID ?rheaEquation ?uniprot ?uniprotName\nWHERE\n{\n  # Specify the starting lipid by its SwissLipids identifier\n  VALUES ?lipidId { SWISSLIPID:000399814 }\n\n  # Find the equivalent ChEBI identifier for the lipid\n  ?lipidId owl:equivalentClass ?chebi .\n\n  # Ensure the equivalent class is a ChEBI entity\n  FILTER(STRSTARTS(STR(?chebi), STR(CHEBI:)))\n\n  # Federated query to Rhea to find reactions involving the ChEBI compound\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find reactions where the ChEBI compound is on either side\n    ?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n\n    # Get the Rhea accession (ID) and equation for the reaction\n    ?rhea rh:accession ?rheaID .\n    ?rhea rh:equation ?rheaEquation .\n  }\n\n  # Federated query to UniProt to find enzymes annotated with these Rhea reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find UniProt entries annotated with the Rhea reaction\n    ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n\n    # Filter for reviewed entries (Swiss-Prot)\n    ?uniprot up:reviewed true .\n\n    # Get the protein name\n    OPTIONAL { ?uniprot up:recommendedName/up:fullName/rdfs:label ?uniprotName . }\n    OPTIONAL { ?uniprot up:proteinName/up:fullName/rdfs:label ?uniprotName . }\n    # Fallback to label if specific name properties are not available\n    FILTER(bound(?uniprotName)) # Ensure we get a name\n  }\n}",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "683d7d0b-43a4-47bc-90ce-868b26faf228",
    "evaluation_timestamp": "2025-05-01T11:37:25.252846",
    "question_understanding_prompt_tokens": 320,
    "question_understanding_completion_tokens": 89,
    "question_understanding_total_tokens": 409,
    "sparql_query_construction_prompt_tokens": 5940,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5940,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/5",
    "natural_language_question": "For a given lipid (SWISSLIPID:000399814, Ceramide), return a list of all corresponding reactions (Rhea IDs and equation).\nThis query does consider the hierarchy: it looks for reactions involving the specified lipid and/or its more specific forms.",
    "ground_truth_query": "PREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\n\n# Example 5\nSELECT ?startId ?startName ?id ?name ?chebi ?rhea ?rheaEquation \nWHERE\n{\n  # SwissLipids query (list of) identifier(s)\n  VALUES ?startId { SWISSLIPID:000399814 }\n  # name\n  ?startId rdfs:label ?startName .\n  # Retrieve children lipids \n  ?id rdfs:subClassOf* ?startId .\n  ?id rdfs:label ?name .\n  # ChEBI x-ref\n  ?id owl:equivalentClass ?chebi .\n  # federated query to Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n  \t?rhea rh:equation ?rheaEquation .\n  \t?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebi .\n  }    \n} \nORDER BY  ?startId ?id",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/5.ttl",
    "predicted_query": "# https://sparql.swisslipids.org/sparql/\nPREFIX SWISSLIPID: <https://swisslipids.org/rdf/SLM_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?accession ?equation\nWHERE\n{\n  # Start with the given SwissLipids identifier\n  VALUES ?swisslipidsId { SWISSLIPID:000399814 }\n\n  # Find the equivalent ChEBI identifier for the lipid in SwissLipids\n  ?swisslipidsId owl:equivalentClass ?chebiId .\n\n  # Federate to the Rhea SPARQL endpoint\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find all ChEBI entities that are the target ChEBI or its descendants\n    # This considers the hierarchy as requested\n    ?chebiDescendant rdfs:subClassOf* ?chebiId .\n\n    # Find Rhea reactions that involve the target ChEBI or any of its descendants\n    # Reactions involve compounds on their sides (left or right)\n    ?rhea rh:side/rh:contains/rh:compound/rh:chebi ?chebiDescendant .\n\n    # Retrieve the Rhea accession (ID) and the chemical equation for the reaction\n    ?rhea rh:accession ?accession .\n    ?rhea rh:equation ?equation .\n  }\n}",
    "predicted_endpoint": "https://sparql.swisslipids.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "2bb0094c-1376-4afd-8a2d-cde6ac2278cf",
    "evaluation_timestamp": "2025-05-01T11:38:12.559968",
    "question_understanding_prompt_tokens": 299,
    "question_understanding_completion_tokens": 66,
    "question_understanding_total_tokens": 365,
    "sparql_query_construction_prompt_tokens": 5426,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5426,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.swisslipids.org/.well-known/sparql-examples/34",
    "natural_language_question": "Lipids affected by human enzymes",
    "ground_truth_query": "PREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?swisslipid  {\n  ?swisslipid owl:equivalentClass ?chebi .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n\t?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?metabolite . \n  }\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?catalyticActivityAnnotation up:catalyticActivity/up:catalyzedReaction ?rhea .\n    ?protein up:annotation ?catalyticActivityAnnotation ;\n             up:organism taxon:9606 .\n  }\n}\nLIMIT 1",
    "target_endpoint": "https://sparql.swisslipids.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "SwissLipids",
    "file_path": "SwissLipids/34.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?swisslipid ?swisslipidName\nWHERE {\n  # Find human proteins (enzymes) in UniProt\n  ?protein up:organism taxon:9606 ;\n           up:annotation ?annotation .\n  ?annotation a up:Catalytic_Activity_Annotation ;\n              up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?rheaReaction .\n\n  # Federate to Rhea to find compounds involved in these reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rheaReaction rdfs:subClassOf rh:Reaction ;\n                  rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n    # Get the ChEBI identifier for the compound\n    ?compound rh:chebi ?chebi .\n  }\n\n  # Federate to SwissLipids to find lipids equivalent to the ChEBI compounds\n  SERVICE <https://beta.sparql.swisslipids.org/sparql/> {\n    ?swisslipid owl:equivalentClass ?chebi ;\n                rdfs:label ?swisslipidName .\n    # Optional: Filter for entities that are specifically classified as lipids in ChEBI\n    # This might help narrow down results if needed, but owl:equivalentClass should ideally link to lipid ChEBIs\n    # ?chebi rdfs:subClassOf* CHEBI:18059 . # CHEBI:18059 is 'lipid'\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "aa7dfb8f-fae8-4bc8-80d6-1f1700ba2f74",
    "evaluation_timestamp": "2025-05-01T11:38:31.709454",
    "question_understanding_prompt_tokens": 245,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 265,
    "sparql_query_construction_prompt_tokens": 6986,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 6986,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/118_biosodafrontend_rat_brain_human_cancer",
    "natural_language_question": "What are the Homo sapiens genes associated with cancer and their orthologs expressed in the Rattus norvegicus brain?",
    "ground_truth_query": "PREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX orth:<http://purl.org/net/orth#>\nPREFIX dcterms:<http://purl.org/dc/terms/>\nPREFIX obo:<http://purl.obolibrary.org/obo/>\nPREFIX lscr:<http://purl.org/lscr#>\nPREFIX genex:<http://purl.org/genex#>\nPREFIX sio: <http://semanticscience.org/resource/>\nSELECT ?gene ?orthologous_protein2 WHERE {\n  {\n    SELECT ?protein1 WHERE {\n      ?protein1 a up:Protein;\n        up:organism/up:scientificName 'Homo sapiens' ;\n        up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text.\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"cancer\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein2 ?protein1 ?gene WHERE {\n      ?protein_OMA a orth:Protein .\n      ?orthologous_protein2 a orth:Protein .\n      ?cluster a orth:OrthologsCluster .\n      ?cluster orth:hasHomologousMember ?node1 .\n      ?cluster orth:hasHomologousMember ?node2 .\n      ?node2 orth:hasHomologousMember* ?protein_OMA .\n      ?node1 orth:hasHomologousMember* ?orthologous_protein2 \n      .?orthologous_protein2 orth:organism/obo:RO_0002162/up:scientificName 'Rattus norvegicus' .\n      ?orthologous_protein2 sio:SIO_010079 ?gene .\n      ?protein_OMA lscr:xrefUniprot ?protein1 .\n      FILTER(?node1 != ?node2)\n    }\n  }\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?anatEntity .\n    ?anatEntity rdfs:label 'brain' .\n    ?gene orth:organism ?org . \n    ?org obo:RO_0002162 taxon:10116 .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/118_biosodafrontend_rat_brain_human_cancer.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX meshv: <http://id.nlm.nih.gov/mesh/vocab#>\nPREFIX mesh: <http://id.nlm.nih.gov/mesh/>\nPREFIX orthodb: <http://purl.orthodb.org/>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX lscr: <http://purl.org/lscr#>\n\nSELECT DISTINCT ?humanGeneName ?ratGeneName ?anatomicEntityLabel\nWHERE {\n  # Find human proteins associated with cancer\n  GRAPH <http://sparql.uniprot.org/uniprot> {\n    ?humanProtein a up:Protein ;\n                  up:organism taxon:9606 ; # Homo sapiens\n                  up:annotation ?diseaseAnnotation .\n    ?diseaseAnnotation a up:Disease_Annotation ;\n                       up:disease ?disease .\n    # Get the human gene name\n    ?humanProtein up:encodedBy ?humanGene .\n    ?humanGene skos:prefLabel ?humanGeneName .\n  }\n\n  # Link UniProt disease to MeSH and check if related to Cancer (Neoplasms D009369)\n  GRAPH <http://sparql.uniprot.org/diseases> {\n    ?disease rdfs:seeAlso ?meshDisease .\n    ?meshDisease up:database <http://purl.uniprot.org/database/MeSH> .\n  }\n  SERVICE <https://id.nlm.nih.gov/mesh/sparql> {\n    GRAPH <http://id.nlm.nih.gov/mesh> {\n      # Check if the MeSH disease is a descendant of Neoplasms (D009369)\n      ?meshDisease meshv:broaderDescriptor* mesh:D009369 .\n    }\n  }\n\n  # Find orthologs in Rattus norvegicus using OrthoDB\n  # Link human protein to OrthoDB group (assuming rdfs:seeAlso links to the group URI)\n  ?humanProtein rdfs:seeAlso ?orthoGroup .\n  SERVICE <https://sparql.orthodb.org/sparql> {\n    # Validate that the OrthoDB group contains the human protein\n    ?orthoGroup orthodb:hasMember ?orthoProteinHuman .\n    ?orthoProteinHuman orthodb:xref ?xrefHuman .\n    ?xrefHuman orthodb:xrefResource ?humanProtein .\n\n    # Find members of the same group in Rattus norvegicus\n    ?orthoGroup orthodb:hasMember ?orthoProteinRat .\n    ?orthoProteinRat orthodb:organism/orthodb:taxon taxon:10116 . # Rattus norvegicus\n    ?orthoProteinRat orthodb:xref ?xrefRat .\n    ?xrefRat orthodb:xrefResource ?ratProtein . # Get the UniProt URI for the rat ortholog protein\n  }\n\n  # Get the Rattus norvegicus gene from the ortholog protein\n  GRAPH <http://sparql.uniprot.org/uniprot> {\n     ?ratProtein a up:Protein ;\n                 up:organism taxon:10116 ; # Ensure it's Rattus norvegicus\n                 up:encodedBy ?ratGene .\n     ?ratGene skos:prefLabel ?ratGeneName .\n     # Get the Ensembl gene ID for linking to Bgee\n     ?ratProtein rdfs:seeAlso ?ensemblProtein .\n     ?ensemblProtein up:transcribedFrom ?ratEnsemblGene .\n     FILTER(STRSTARTS(STR(?ensemblProtein), \"http://purl.uniprot.org/ensembl/\")) # Filter for Ensembl xref\n  }\n\n  # Check expression in Rattus norvegicus brain using Bgee\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?bgeeGene lscr:xrefEnsemblGene ?ratEnsemblGene . # Link Bgee gene to Ensembl gene using Ensembl ID\n    ?bgeeGene genex:isExpressedIn ?anatomicEntity . # Find where the gene is expressed\n    ?anatomicEntity genex:inTaxon taxon:10116 . # Ensure the anatomical entity is in Rattus norvegicus\n    ?anatomicEntity rdfs:label ?anatomicEntityLabel . # Get the label of the anatomical entity\n    FILTER(CONTAINS(LCASE(?anatomicEntityLabel), \"brain\")) # Filter for anatomical entities containing \"brain\" in their label\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "5792ad99-9d86-4151-8ed3-39b53f2d3df9",
    "evaluation_timestamp": "2025-05-01T11:51:22.837190",
    "question_understanding_prompt_tokens": 262,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 309,
    "sparql_query_construction_prompt_tokens": 6619,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 6619,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed. \n\nResponse:\nb'<!DOCTYPE html SYSTEM \"about:legacy-compat\">\\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\"><head><title>UniProt</title><meta content=\"text/html; charset=UTF-8\" http-equiv=\"Content-Type\"/><link href=\"/\" rel=\"home\"/><link href=\"/base.css\" type=\"text/css\" rel=\"stylesheet\"/><link type=\"image/vnd.microsoft.icon\" href=\"/uniprot-favicon.ico\" rel=\"shortcut icon\"/><link href=\"/uniprot-sparql.css\" type=\"text/css\" rel=\"stylesheet\"/><link href=\"http://creativecommons.org/licenses/by/4.0/\" rel=\"license\"/><script src=\"https://cdn.jsdelivr.net/npm/yasgui-yasqe@2.11.22/dist/yasqe.bundled.min.js\"></script><link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/yasqe/2.2/yasqe.min.css\"/><meta content=\"width=device-width, initial-scale=1\" name=\"viewport\"/><meta content=\"no-referrer\" name=\"referrer\"/></head><body typeof=\"schema:WebPage\"><nav id=\"nav-header\"><a accesskey=\"1\" href=\"https://www.uniprot.org/\" id=\"www\"><img alt=\"\" src=\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNjQwIDI5MyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGQ9Ik0xOTkuNjU5LDEwNi4xMDMgQzE5OS42NTksMTEyLjM5OCAxOTQuNTU2LDExNy41MDEgMTg4LjI2LDExNy41MDEgQzE4MS45NjQsMTE3LjUwMSAxNzYuODYxLDExMi4zOTcgMTc2Ljg2MSwxMDYuMTAzIEMxNzYuODYxLDk5LjgwNyAxODEuOTY1LDk0LjcwNCAxODguMjYsOTQuNzA0IEMxOTQuNTU1LDk0LjcwNCAxOTkuNjU5LDk5LjgwNyAxOTkuNjU5LDEwNi4xMDMgWiI+PC9wYXRoPjxwYXRoIGQ9Ik0zMzQuMzgzLDE0NC40NTkgQzMyNS4yNDIsMTQ0LjQ1OSAzMTcuODI5LDE1MS44NzIgMzE3LjgyOSwxNjEuMDE1IEwzMTcuNzk3LDE2NS4xODUgTDMxNy43OTcsMTk0LjIxIEMzMTcuNzk3LDIwMC4zMTYgMzEyLjg0OCwyMDUuMjY1IDMwNi43NDIsMjA1LjI2NSBDMzAwLjYzOCwyMDUuMjY1IDI5NS42ODksMjAwLjMxNyAyOTUuNjg5LDE5NC4yMSBMMjk1LjY4OSwxNjUuMTg1IEwyOTUuNzIsMTYxLjAxNSBDMjk1LjcyLDEzOS42NjEgMzEzLjAzLDEyMi4zNTEgMzM0LjM4MywxMjIuMzUxIEwzNDEuMjg1LDEyMi4zNTEgQzM0Ny4zOSwxMjIuMzUxIDM1Mi4zNCwxMjcuMyAzNTIuMzQsMTMzLjQwNSBDMzUyLjM0LDEzOS41MDkgMzQ3LjM5MSwxNDQuNDU5IDM0MS4yODUsMTQ0LjQ1OSBMMzM0LjM4MywxNDQuNDU5IFoiPjwvcGF0aD48cGF0aCBkPSJNNDMzLjg2MSwxNjMuODEzIEM0MzMuODYxLDE4Ny40MTcgNDE0LjcyNCwyMDYuNTU1IDM5MS4xMTksMjA2LjU1NSBDMzY3LjUxNCwyMDYuNTU1IDM0OC4zNzUsMTg3LjQxNyAzNDguMzc1LDE2My44MTMgQzM0OC4zNzUsMTQwLjIwNiAzNjcuNTE0LDEyMS4wNyAzOTEuMTE5LDEyMS4wNyBDNDE0LjcyNCwxMjEuMDcgNDMzLjg2MSwxNDAuMjA2IDQzMy44NjEsMTYzLjgxMyBaIE0zOTEuMDI5LDE0MS42OTQgQzM3OC44MTgsMTQxLjY5NCAzNjguOTIsMTUxLjU5MiAzNjguOTIsMTYzLjgwMSBDMzY4LjkyLDE3Ni4wMTEgMzc4LjgxOCwxODUuOTA5IDM5MS4wMjksMTg1LjkwOSBDNDAzLjIzOCwxODUuOTA5IDQxMy4xMzYsMTc2LjAxMSA0MTMuMTM2LDE2My44MDEgQzQxMy4xMzcsMTUxLjU5MyA0MDMuMjM4LDE0MS42OTQgMzkxLjAyOSwxNDEuNjk0IFoiPjwvcGF0aD48cGF0aCBkPSJNNDgzLjcwMywxODMuMTU2IEw0NzkuNDY3LDE4My4xNTUgQzQ3MC4zMjIsMTgzLjE1NSA0NjIuOTEsMTc1Ljc0MyA0NjIuOTEsMTY2LjU5OCBMNDYyLjg3NywxNjIuNDMgTDQ2Mi44NzcsMTQ0LjQ1NyBMNDgyLjIyMSwxNDQuNDU4IEM0ODguMzI2LDE0NC40NTggNDkzLjI3NiwxMzkuNTEgNDkzLjI3NiwxMzMuNDA0IEM0OTMuMjc2LDEyNy4yOTggNDg4LjMyNywxMjIuMzQ5IDQ4Mi4yMjEsMTIyLjM0OSBMNDYyLjg3NywxMjIuMzQ5IEw0NjIuODc3LDExNi44MjQgQzQ2Mi44NzcsMTEwLjcxOSA0NTcuOTMsMTA1Ljc2OSA0NTEuODI0LDEwNS43NjkgQzQ0NS43MTgsMTA1Ljc2OSA0NDAuNzY5LDExMC43MTggNDQwLjc2OSwxMTYuODI0IEw0NDAuNzY5LDE2Mi40MjkgTDQ0MC44LDE2Ni41OTkgQzQ0MC44LDE4Ny45NTIgNDU4LjExMywyMDUuMjYyIDQ3OS40NjYsMjA1LjI2MiBMNDgzLjcwMiwyMDUuMjYzIEM0ODkuODA3LDIwNS4yNjMgNDk0Ljc1NywyMDAuMzE1IDQ5NC43NTcsMTk0LjIwOCBDNDk0Ljc1OCwxODguMTA1IDQ4OS44MDksMTgzLjE1NiA0ODMuNzAzLDE4My4xNTYgWiI+PC9wYXRoPjxwYXRoIGQ9Ik0yOTIuOTgxLDEzNS4wNDIgQzI5Mi45ODEsMTEzLjY4OCAyNzUuNjcsOTYuMzc4IDI1NC4zMTcsOTYuMzc4IEwyNTAuMTQ3LDk2LjM0NiBMMjIyLjQ1OCw5Ni4zNDYgQzIxNi4zNTMsOTYuMzQ2IDIxMS40MDQsMTAxLjI5NSAyMTEuNDA0LDEwNy40IEwyMTEuNDA0LDE5NC4yIEMyMTEuNDA0LDIwMC4zMDYgMjE2LjM1MywyMDUuMjU2IDIyMi40NTgsMjA1LjI1NiBDMjI4LjU2MiwyMDUuMjU2IDIzMy41MTIsMjAwLjMwNyAyMzMuNTEyLDE5NC4yIEwyMzMuNTEyLDExOC40NTUgTDI1MC4xNDgsMTE4LjQ1NSBMMjU0LjMxNywxMTguNDg3IEMyNjMuNDYxLDExOC40ODcgMjcwLjg3NCwxMjUuODk5IDI3MC44NzQsMTM1LjA0MyBDMjcwLjg3NCwxNDQuMTg3IDI2My40NjEsMTUxLjYgMjU0LjMxNywxNTEuNiBMMjU1LjY3NCwxNTEuNjE2IEwyNTEuNTIsMTUxLjYxNiBDMjQ1LjQxNiwxNTEuNjE2IDI0MC40NjYsMTU2LjU2MyAyNDAuNDY2LDE2Mi42NyBDMjQwLjQ2NiwxNjguNzc0IDI0NS40MTUsMTczLjcyNCAyNTEuNTIsMTczLjcyNCBMMjU1LjY3NCwxNzMuNzI0IEwyNTQuMzE4LDE3My43MDggQzI3NS42NzEsMTczLjcwNiAyOTIuOTgxLDE1Ni4zOTYgMjkyLjk4MSwxMzUuMDQyIFoiPjwvcGF0aD48cGF0aCBkPSJNNDYyLjYwNywyNi4zMTkgQzQ2Mi42MDcsMzEuNDk0IDQ1OC40MSwzNS42ODkgNDUzLjIzNiwzNS42ODkgQzQ0OC4wNiwzNS42ODkgNDQzLjg2NSwzMS40OTQgNDQzLjg2NSwyNi4zMTkgQzQ0My44NjUsMjEuMTQ0IDQ0OC4wNiwxNi45NDggNDUzLjIzNiwxNi45NDggQzQ1OC40MSwxNi45NDggNDYyLjYwNywyMS4xNDUgNDYyLjYwNywyNi4zMTkgWiI+PC9wYXRoPjxwYXRoIGQ9Ik00MzAuNTE0LDU0LjY4OCBDNDMwLjUxNCw1OC44MjggNDI3LjE1Nyw2Mi4xODUgNDIzLjAxNiw2Mi4xODUgQzQxOC44NzcsNjIuMTg1IDQxNS41Miw1OC44MjggNDE1LjUyLDU0LjY4OCBDNDE1LjUyLDUwLjU0OCA0MTguODc3LDQ3LjE5MDk5OTggNDIzLjAxNiw0Ny4xOTA5OTk4IEM0MjcuMTU2LDQ3LjE5IDQzMC41MTQsNTAuNTQ4IDQzMC41MTQsNTQuNjg4IFoiPjwvcGF0aD48cGF0aCBkPSJNNTA1LjU1NywxMS43MTMgQzUwNS41NTcsMTguMTgzIDUwMC4zMTEsMjMuNDI2IDQ5My44NDIsMjMuNDI2IEM0ODcuMzczLDIzLjQyNiA0ODIuMTI5LDE4LjE4MyA0ODIuMTI5LDExLjcxMyBDNDgyLjEyOSw1LjI0MyA0ODcuMzczLDAgNDkzLjg0MiwwIEM1MDAuMzExLDAgNTA1LjU1Nyw1LjI0MyA1MDUuNTU3LDExLjcxMyBaIj48L3BhdGg+PHBhdGggZD0iTTU1NS4xMTksMTYuMzE4IEM1NTUuMTE5LDI0LjQwNCA1NDguNTY0LDMwLjk2IDU0MC40NzYsMzAuOTYgQzUzMi4zOTIsMzAuOTYgNTI1LjgzNSwyNC40MDQgNTI1LjgzNSwxNi4zMTggQzUyNS44MzUsOC4yMzEgNTMyLjM5MiwxLjY3NiA1NDAuNDc2LDEuNjc2IEM1NDguNTY0LDEuNjc3IDU1NS4xMTksOC4yMzEgNTU1LjExOSwxNi4zMTggWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MDIuMTAyLDQyLjA0NiBDNjAyLjEwMiw1Mi4xNTMgNTkzLjkwOSw2MC4zNDcgNTgzLjgwMSw2MC4zNDcgQzU3My42OTIsNjAuMzQ3IDU2NS40OTgsNTIuMTU0IDU2NS40OTgsNDIuMDQ2IEM1NjUuNDk4LDMxLjkzNyA1NzMuNjkxLDIzLjc0NCA1ODMuODAxLDIzLjc0NCBDNTkzLjkwOCwyMy43NDQgNjAyLjEwMiwzMS45MzcgNjAyLjEwMiw0Mi4wNDYgWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MzUuNDM2LDkwLjI4MiBDNjM1LjQzNiwxMDEuOTA3IDYyNi4wMTIsMTExLjMyOSA2MTQuMzg5LDExMS4zMjkgQzYwMi43NjYsMTExLjMyOSA1OTMuMzQyLDEwMS45MDcgNTkzLjM0Miw5MC4yODIgQzU5My4zNDIsNzguNjU3IDYwMi43NjYsNjkuMjM1IDYxNC4zODksNjkuMjM1IEM2MjYuMDEyLDY5LjIzNSA2MzUuNDM2LDc4LjY1NyA2MzUuNDM2LDkwLjI4MiBaIj48L3BhdGg+PHBhdGggZD0iTTYzOS4zODcsMTUzLjU5NSBDNjM5LjM4NywxNjYuOTYgNjI4LjU1MSwxNzcuNzk2IDYxNS4xODQsMTc3Ljc5NiBDNjAxLjgxNSwxNzcuNzk2IDU5MC45NzksMTY2Ljk2IDU5MC45NzksMTUzLjU5NSBDNTkwLjk3OSwxNDAuMjMgNjAxLjgxNSwxMjkuMzk1IDYxNS4xODQsMTI5LjM5NSBDNjI4LjU1MSwxMjkuMzk1IDYzOS4zODcsMTQwLjIyOSA2MzkuMzg3LDE1My41OTUgWiI+PC9wYXRoPjxwYXRoIGQ9Ik02MTIuNzY2LDIxNS44ODYgQzYxMi43NjYsMjMxLjMyNiA2MDAuMjUsMjQzLjg0MSA1ODQuODExLDI0My44NDEgQzU2OS4zNzIsMjQzLjg0MSA1NTYuODU2LDIzMS4zMjYgNTU2Ljg1NiwyMTUuODg2IEM1NTYuODU2LDIwMC40NDUgNTY5LjM3MiwxODcuOTMxIDU4NC44MTEsMTg3LjkzMSBDNjAwLjI1LDE4Ny45MzEgNjEyLjc2NiwyMDAuNDQ0IDYxMi43NjYsMjE1Ljg4NiBaIj48L3BhdGg+PHBhdGggZD0iTTU1MS43NzMsMjU5LjE5NCBDNTUxLjc3MywyNzYuNTAyIDUzNy43NDQsMjkwLjUzMSA1MjAuNDM3LDI5MC41MzEgQzUwMy4xMywyOTAuNTMxIDQ4OS4xMDEsMjc2LjUwMiA0ODkuMTAxLDI1OS4xOTQgQzQ4OS4xMDEsMjQxLjg4NiA1MDMuMTMsMjI3Ljg1OCA1MjAuNDM3LDIyNy44NTggQzUzNy43NDQsMjI3Ljg1OCA1NTEuNzczLDI0MS44ODcgNTUxLjc3MywyNTkuMTk0IFoiPjwvcGF0aD48cGF0aCBkPSJNNDcyLjEwNywyNTcuMzggQzQ3Mi4xMDcsMjc2Ljc3NCA0NTYuMzg0LDI5Mi40OTUgNDM2Ljk5MiwyOTIuNDk1IEM0MTcuNiwyOTIuNDk1IDQwMS44NzcsMjc2Ljc3MyA0MDEuODc3LDI1Ny4zOCBDNDAxLjg3NywyMzcuOTg0IDQxNy42LDIyMi4yNjcgNDM2Ljk5MiwyMjIuMjY3IEM0NTYuMzg0LDIyMi4yNjcgNDcyLjEwNywyMzcuOTg0IDQ3Mi4xMDcsMjU3LjM4IFoiPjwvcGF0aD48cGF0aCBkPSJNMTY1LjgwNSwxNTkuNjU4IEwxNjUuODA1LDE5NC4yMSBDMTY1LjgwNSwyMDAuMzE2IDE2MC44NTYsMjA1LjI2NSAxNTQuNzUxLDIwNS4yNjUgQzE0OC42NDcsMjA1LjI2NSAxNDMuNjk3LDIwMC4zMTcgMTQzLjY5NywxOTQuMjEgTDE0My42OTcsMTU5LjY1OCBMMTQzLjY4MSwxNjEuMDE0IEMxNDMuNjgxLDE1MS44NzEgMTM2LjI2OSwxNDQuNDU4IDEyNy4xMjUsMTQ0LjQ1OCBDMTE3Ljk4MSwxNDQuNDU4IDExMC41NjksMTUxLjg3MSAxMTAuNTY5LDE2MS4wMTQgTDExMC41MzYsMTY1LjE4NCBMMTEwLjUzNiwxOTQuMjA5IEMxMTAuNTM2LDIwMC4zMTUgMTA1LjU4NywyMDUuMjY0IDk5LjQ4MiwyMDUuMjY0IEM5My4zNzcsMjA1LjI2NCA4OC40MjgsMjAwLjMxNiA4OC40MjgsMTk0LjIwOSBMODguNDI4LDE2NS4xODQgTDg4LjQ2LDE2MS4wMTQgQzg4LjQ2LDEzOS42NiAxMDUuNzcsMTIyLjM1IDEyNy4xMjQsMTIyLjM1IEMxNDguNDc4LDEyMi4zNSAxNjUuNzg4LDEzOS42NjEgMTY1Ljc4OCwxNjEuMDE0IEwxNjUuODA1LDE1OS42NTggWiI+PC9wYXRoPjxwYXRoIGQ9Ik0wLDE2Ny45NTcgTDAsMTA3LjM5OSBDMCwxMDEuMjk1IDQuOTQ5LDk2LjM0NSAxMS4wNTQsOTYuMzQ1IEMxNy4xNTksOTYuMzQ1IDIyLjEwOCwxMDEuMjk0IDIyLjEwOCwxMDcuMzk5IEwyMi4xMDgsMTY3Ljk1NyBMMjIuMTIzLDE2Ni42MDEgQzIyLjEyMywxNzUuNzQ0IDI5LjUzNiwxODMuMTU3IDM4LjY3OSwxODMuMTU3IEM0Ny44MjIsMTgzLjE1NyA1NS4yMzUsMTc1Ljc0NCA1NS4yMzUsMTY2LjYwMSBMNTUuMjY4LDE2Mi40MzEgTDU1LjI2OCwxMD'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/51",
    "natural_language_question": "Find all proteins linked to arachidonate (CHEBI:32395)",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n\nSELECT \n    DISTINCT\n        ?uniprot\n        ?uniprotID\n        ?recname\n        ?gene\n        ?chebi\n        ?uniprotName\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n     VALUES (?chebi) { (CHEBI:32395) }\n     ?rhea rh:side/rh:contains/rh:compound ?compound .\n     ?compound rh:chebi ?chebi .\n     ?chebi up:name ?uniprotName .\n  }\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n  ?uniprot up:mnemonic ?uniprotID .\n  ?uniprot up:recommendedName/up:fullName ?recname .\n  OPTIONAL {?uniprot up:encodedBy/skos:prefLabel ?gene .}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/51_all_proteins_linked_to_arachidonate.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?protein\nWHERE {\n  # Find reactions in Rhea that involve arachidonate (CHEBI:32395)\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction .\n    ?rhea rh:side ?side .\n    ?side rh:contains ?participant .\n    ?participant rh:compound ?compound .\n    # Link to the specific ChEBI identifier for arachidonate\n    ?compound rh:chebi CHEBI:32395 .\n  }\n\n  # Find proteins in UniProt that catalyze these reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein up:annotation ?annotation .\n    ?annotation a up:Catalytic_Activity_Annotation .\n    ?annotation up:catalyzedReaction ?rhea .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1200c3c3-fd2e-4483-8310-23594e440ddf",
    "evaluation_timestamp": "2025-05-01T11:51:48.962913",
    "question_understanding_prompt_tokens": 258,
    "question_understanding_completion_tokens": 31,
    "question_understanding_total_tokens": 289,
    "sparql_query_construction_prompt_tokens": 5177,
    "sparql_query_construction_completion_tokens": 308,
    "sparql_query_construction_total_tokens": 5485,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/40",
    "natural_language_question": "Retrieve human enzymes that metabolize sphingolipids and are annotated in ChEMBL",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?chemblEntry\nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction ;\n      rh:side/rh:contains/rh:compound/rh:chebi/rdfs:subClassOf+ CHEBI:26739 .\n  }\n  ?ca up:catalyzedReaction ?rhea .\n  ?protein up:annotation/up:catalyticActivity ?ca ;\n    up:organism taxon:9606 ;\n    rdfs:seeAlso ?chemblEntry .\n  ?chemblEntry up:database <http://purl.uniprot.org/database/ChEMBL> .\n}\nLIMIT 10",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/40_human_enzymes_that_metabolize_sphingolipids.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\n\nSELECT DISTINCT ?protein ?proteinName ?chemblTarget\nWHERE {\n  # Find human proteins\n  ?protein a up:Protein ;\n           up:organism taxon:9606 ; # Human taxonomy ID\n           up:annotation ?activityAnnotation .\n\n  # Filter for proteins with catalytic activity annotations (enzymes)\n  ?activityAnnotation a up:Catalytic_Activity_Annotation ;\n                      up:catalyticActivity ?catalyticActivity .\n\n  # Get the Rhea reaction catalyzed by the enzyme\n  ?catalyticActivity up:catalyzedReaction ?rheaReaction .\n\n  # Get protein name (optional, but useful for identification)\n  OPTIONAL { ?protein up:recommendedName/up:fullName ?proteinName . }\n  OPTIONAL { ?protein up:submittedName/up:fullName ?proteinName . }\n\n  # Check if the protein has a cross-reference to ChEMBL\n  ?protein rdfs:seeAlso ?chemblTarget .\n  ?chemblTarget up:database <http://purl.uniprot.org/database/ChEMBL> .\n\n  # Federate to Rhea to check if the reaction involves sphingolipids\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Find participants in the reaction\n    ?rheaReaction rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n\n    # Link the compound to its ChEBI identifier\n    ?compound rh:chebi ?chebi .\n\n    # Check if the ChEBI compound is a sphingolipid or a subclass of sphingolipid (CHEBI:16377)\n    # Use rdfs:subClassOf* to traverse the hierarchy\n    ?chebi (rdfs:subClassOf|owl:equivalentClass)* CHEBI:16377 . # CHEBI:16377 is the term for 'sphingolipid'\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "f5c85e2f-2046-4c6c-9f48-3f1b2a1f6382",
    "evaluation_timestamp": "2025-05-01T11:52:23.655929",
    "question_understanding_prompt_tokens": 250,
    "question_understanding_completion_tokens": 33,
    "question_understanding_total_tokens": 283,
    "sparql_query_construction_prompt_tokens": 7570,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 7570,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/49",
    "natural_language_question": "Retrieve the UniProtKB proteins, their catalyzed Rhea reactions, their encoding genes (Ensembl) and the anatomic entities where the genes are expressed (UBERON anatomic entites from Bgee expression data resource).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein ?ensemblGene ?reaction ?anatomicEntityLabel ?anatomicEntity\nWHERE {\n  # federated query to Rhea enadpoint\n  {\n    SELECT DISTINCT ?reaction WHERE {\n      SERVICE <https://sparql.rhea-db.org/sparql> {\n        ?reaction rdfs:subClassOf rh:Reaction ;\n          rh:equation ?reactionEquation ;\n          rh:side ?reactionSide .\n        ?reactionSide rh:contains ?participant .\n        ?participant rh:compound ?compound .\n        # compound constraint (CHEBI:16113 == cholesterol)\n        ?compound rh:chebi CHEBI:16113 .\n      }\n    }\n  }\n  # taxonomy constraint (taxon:9606 == Homo sapiens)\n  ?protein up:organism taxon:9606 ;\n    up:annotation ?a ;\n    rdfs:seeAlso / up:transcribedFrom ?ensemblGene .\n  ?a a up:Catalytic_Activity_Annotation ;\n    up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n  # federated query to Bgee (expression data)\n  BIND(IRI(REPLACE(STR(?ensemblGene), \"\\\\.[0-9]+$\", \"\")) AS ?ensemblGeneNoVersion)\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene lscr:xrefEnsemblGene ?ensemblGeneNoVersion ;\n      genex:isExpressedIn ?anatomicEntity .\n    ?anatomicEntity rdfs:label ?anatomicEntityLabel .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/49_tissues_where_genes_metabolizing_cholestrol_are_expressed.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX genex: <http://purl.org/genex#>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\n\nSELECT DISTINCT ?protein ?rhea ?ensemblGene ?anat\nWHERE {\n  # Find reviewed UniProtKB proteins\n  ?protein a up:Protein ;\n           up:reviewed true .\n\n  # Link protein to catalyzed Rhea reaction\n  ?protein up:annotation ?annotation .\n  ?annotation up:catalyticActivity ?catalyticActivity .\n  ?catalyticActivity up:catalyzedReaction ?rhea .\n\n  # Link protein to its organism (needed for Bgee federation)\n  ?protein up:organism ?organism .\n\n  # Link protein to Ensembl gene via Ensembl transcript\n  # UniProt links to Ensembl transcripts via rdfs:seeAlso, which are then linked to genes\n  ?protein rdfs:seeAlso ?ensemblTranscript .\n  ?ensemblTranscript up:database <http://purl.uniprot.org/database/Ensembl> .\n  ?ensemblTranscript up:transcribedFrom ?ensemblGene .\n\n  # Federate with Bgee to find expression locations (anatomic entities)\n  # The Bgee endpoint URL is inferred from the provided example queries.\n  SERVICE <https://www.bgee.org/sparql> {\n    # Find the Bgee sequence corresponding to the UniProt protein\n    ?seq lscr:xrefUniprot ?protein .\n\n    # Ensure the Bgee sequence is from the same organism as the UniProt protein\n    # Bgee uses orth:organism linked to OBO organism, which can be mapped to UniProt taxonomy\n    ?seq orth:organism ?bgeeOrganism .\n    ?bgeeOrganism obo:RO_0002162 ?organism .\n\n    # Find the anatomic entity (UBERON) where the sequence is expressed\n    ?seq genex:isExpressedIn ?anat .\n\n    # Optional: Filter for presence expression calls in Bgee if only expressed locations are desired\n    # ?seq genex:expression ?expressionCall .\n    # ?expressionCall a genex:ExpressionCall ;\n    #                 genex:expressionLevel genex:Present .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "5cda5350-5120-4ea9-8dd8-f1313c1a4495",
    "evaluation_timestamp": "2025-05-01T11:56:04.041464",
    "question_understanding_prompt_tokens": 281,
    "question_understanding_completion_tokens": 72,
    "question_understanding_total_tokens": 353,
    "sparql_query_construction_prompt_tokens": 7473,
    "sparql_query_construction_completion_tokens": 611,
    "sparql_query_construction_total_tokens": 8084,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Expecting property name enclosed in double quotes: line 110604 column 8 (char 3031040)"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/53",
    "natural_language_question": "Find mouse homologs in OMABrowser of human enzymes that catalyze reactions involving sterols (CHEBI:15889). Federating with Rhea and OMABrowser.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?chebi\n    ?reaction\n    ?humanProtein\n    ?mouseProtein\n    ?cluster \nWHERE {\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction .\n    ?reaction rh:side/rh:contains/rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    ?chebi rdfs:subClassOf* CHEBI:15889\n  }\n\n  ?humanProtein up:organism taxon:9606 .\n  ?humanProtein up:annotation ?a .\n  ?a a up:Catalytic_Activity_Annotation .\n  ?a up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction .\n\n  SERVICE  <https://sparql.omabrowser.org/sparql> {\n    ?cluster a orth:ParalogsCluster .\n    ?cluster orth:hasHomologousMember ?node1 , ?node2 .\n    ?node1 orth:hasHomologousMember* ?orthoProtein1 .\n    ?node2 orth:hasHomologousMember* ?orthoProtein2 .\n    ?orthoProtein1 lscr:xrefUniprot ?mouseProtein .\n    ?orthoProtein2 lscr:xrefUniprot ?humanProtein .\n    # inTaxon mouse\n    ?orthoProtein1 orth:organism/<http://purl.obolibrary.org/obo/RO_0002162> taxon:10090 . \n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://sparql.omabrowser.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/53_mouse_homologs_of_sterol_enzymes_via_omabrowser.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX oma: <http://omabrowser.org/ontology/oma#>\n\nSELECT DISTINCT ?humanProtein ?humanProteinName ?mouseHomolog ?mouseHomologName\nWHERE {\n  # 1. Find reactions involving sterols (CHEBI:15889) in Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n              rh:status rh:Approved ; # Filter for approved reactions\n              rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    # Check if the compound is CHEBI:15889 (sterol) or a subclass\n    ?chebi (rdfs:subClassOf)+ CHEBI:15889 .\n  }\n\n  # 2. Find human proteins catalyzing these reactions in UniProt\n  ?humanProtein up:annotation/up:catalyticActivity/up:catalyzedReaction ?reaction ;\n                up:organism taxon:9606 ; # Filter for human proteins\n                up:reviewed true ; # Filter for reviewed entries\n                up:recommendedName/up:fullName ?humanProteinName .\n\n  # Get the UniProt accession for the human protein to link to OMA\n  BIND(SUBSTR(STR(?humanProtein), STRLEN(STR(uniprotkb:))+1) AS ?humanProteinAccession)\n\n  # 3. Find mouse homologs in OMABrowser\n  SERVICE <https://sparql.omabrowser.org/sparql> {\n    # Find the OMA member corresponding to the human protein accession\n    ?humanOmaMember oma:member ?humanProteinAccession ;\n                    oma:organism taxon:9606 . # Ensure it's the human member\n\n    # Find the orthologous group this human member belongs to\n    ?orthologousGroup oma:hasMember ?humanOmaMember .\n\n    # Find other members in the same group that are from mouse\n    ?orthologousGroup oma:hasMember ?mouseOmaMember .\n    ?mouseOmaMember oma:organism taxon:10090 ; # Filter for mouse members\n                    oma:member ?mouseHomologAccession . # Get the mouse UniProt accession\n  }\n\n  # 4. Get details for the mouse homolog from UniProt using the accession found in OMA\n  # This part queries the primary UniProt endpoint using the accession found in the OMA service\n  ?mouseHomolog up:reviewed true ;\n                up:organism taxon:10090 ; # Ensure it's a mouse protein\n                up:accession ?mouseHomologAccession ;\n                up:recommendedName/up:fullName ?mouseHomologName .\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "48705e7b-4bb4-4db5-877e-0214650e03bf",
    "evaluation_timestamp": "2025-05-01T11:59:00.515968",
    "question_understanding_prompt_tokens": 275,
    "question_understanding_completion_tokens": 41,
    "question_understanding_total_tokens": 316,
    "sparql_query_construction_prompt_tokens": 7811,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 7811,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+taxon%3A+%3Chttp%3A//purl.uniprot.org/taxonomy/%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+uniprotkb%3A+%3Chttp%3A//purl.uniprot.org/uniprot/%3E%0APREFIX+oma%3A+%3Chttp%3A//omabrowser.org/ontology/oma%23%3E%0A%0ASELECT+DISTINCT+%3FhumanProtein+%3FhumanProteinName+%3FmouseHomolog+%3FmouseHomologName%0AWHERE+%7B%0A++%23+1.+Find+reactions+involving+sterols+%28CHEBI%3A15889%29+in+Rhea%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+%3B%0A++++++++++++++rh%3Astatus+rh%3AApproved+%3B+%23+Filter+for+approved+reactions%0A++++++++++++++rh%3Aside+%3FreactionSide+.%0A++++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A++++%3Fcompound+rh%3Achebi+%3Fchebi+.%0A++++%23+Check+if+the+compound+is+CHEBI%3A15889+%28sterol%29+or+a+subclass%0A++++%3Fchebi+%28rdfs%3AsubClassOf%29%2B+CHEBI%3A15889+.%0A++%7D%0A%0A++%23+2.+Find+human+proteins+catalyzing+these+reactions+in+UniProt%0A++%3FhumanProtein+up%3Aannotation/up%3AcatalyticActivity/up%3AcatalyzedReaction+%3Freaction+%3B%0A++++++++++++++++up%3Aorganism+taxon%3A9606+%3B+%23+Filter+for+human+proteins%0A++++++++++++++++up%3Areviewed+true+%3B+%23+Filter+for+reviewed+entries%0A++++++++++++++++up%3ArecommendedName/up%3AfullName+%3FhumanProteinName+.%0A%0A++%23+Get+the+UniProt+accession+for+the+human+protein+to+link+to+OMA%0A++BIND%28SUBSTR%28STR%28%3FhumanProtein%29%2C+STRLEN%28STR%28uniprotkb%3A%29%29%2B1%29+AS+%3FhumanProteinAccession%29%0A%0A++%23+3.+Find+mouse+homologs+in+OMABrowser%0A++SERVICE+%3Chttps%3A//sparql.omabrowser.org/sparql%3E+%7B%0A++++%23+Find+the+OMA+member+corresponding+to+the+human+protein+accession%0A++++%3FhumanOmaMember+oma%3Amember+%3FhumanProteinAccession+%3B%0A++++++++++++++++++++oma%3Aorganism+taxon%3A9606+.+%23+Ensure+it%27s+the+human+member%0A%0A++++%23+Find+the+orthologous+group+this+human+member+belongs+to%0A++++%3ForthologousGroup+oma%3AhasMember+%3FhumanOmaMember+.%0A%0A++++%23+Find+other+members+in+the+same+group+that+are+from+mouse%0A++++%3ForthologousGroup+oma%3AhasMember+%3FmouseOmaMember+.%0A++++%3FmouseOmaMember+oma%3Aorganism+taxon%3A10090+%3B+%23+Filter+for+mouse+members%0A++++++++++++++++++++oma%3Amember+%3FmouseHomologAccession+.+%23+Get+the+mouse+UniProt+accession%0A++%7D%0A%0A++%23+4.+Get+details+for+the+mouse+homolog+from+UniProt+using+the+accession+found+in+OMA%0A++%23+This+part+queries+the+primary+UniProt+endpoint+using+the+accession+found+in+the+OMA+service%0A++%3FmouseHomolog+up%3Areviewed+true+%3B%0A++++++++++++++++up%3Aorganism+taxon%3A10090+%3B+%23+Ensure+it%27s+a+mouse+protein%0A++++++++++++++++up%3Aaccession+%3FmouseHomologAccession+%3B%0A++++++++++++++++up%3ArecommendedName/up%3AfullName+%3FmouseHomologName+.%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/52",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with Rhea and ChEMBL via IDSM/Elixir czech republic).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX cco: <http://rdf.ebi.ac.uk/terms/chembl#>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n        DISTINCT\n            ?protein\n            ?proteinFullName\n            ?activityType\n            ?standardActivityValue\n            ?standardActivityUnit\n            ?chemblMolecule\n            ?chemlbMoleculePrefLabel\nWHERE\n  {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf  rh:Reaction ;\n\t      rh:status        rh:Approved ;\n\t      rh:side          ?reactionSide .\n    ?reactionSide\n\t      rh:contains      ?participant .\n    ?participant rh:compound  ?compound\n    {\n      ?compound  rh:chebi  ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound  rh:chebi           ?chebi .\n      ?chebi2   rdfs:subClassOf     ?chebiRestriction .\n      ?chebiRestriction\n\t\ta           owl:Restriction ;\n\t\towl:onProperty      chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom  ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca       up:catalyzedReaction  ?reaction .\n  ?a        up:catalyticActivity  ?ca .\n  ?protein  up:annotation         ?a ;\n\t    up:organism           taxon:9606 ;\n\t    up:recommendedName    ?proteinRecName .\n  ?proteinRecName\n\t    up:fullName           ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  # ChEMBL: retrieve the corresponding targets and with drugs in clinical phase 4\n  # Via https://idsm.elixir-czech.cz/sparql/\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/idsm> {\n    ?activity a cco:Activity ;\n      cco:hasMolecule ?chemblMolecule ;\n      cco:hasAssay ?assay ;\n      cco:standardType ?activityType ;\n      cco:standardValue ?standardActivityValue ;\n      cco:standardUnits ?standardActivityUnit .\n    ?chemblMolecule cco:highestDevelopmentPhase ?highestDevelopmentPhase ;\n      rdfs:label ?chemblMoleculeLabel ;\n      skos:prefLabel ?chemlbMoleculePrefLabel .\n    FILTER (?highestDevelopmentPhase > 3)\n    ?assay cco:hasTarget ?target .\n    ?target cco:hasTargetComponent/cco:targetCmptXref ?protein .\n    ?protein a cco:UniprotRef .\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql",
      "https://idsm.elixir-czech.cz/sparql/endpoint/idsm"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/52_drugs_targeting_sterol_metabolism.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?chemblEntry ?protein ?rhea\nWHERE {\n  # Find human proteins\n  ?protein up:organism taxon:9606 .\n\n  # Find proteins with catalytic activity annotations\n  ?protein up:annotation ?a .\n  ?a a up:Catalytic_Activity_Annotation .\n  ?a up:catalyticActivity ?ca .\n\n  # Link catalytic activity to a Rhea reaction\n  ?ca up:catalyzedReaction ?rhea .\n\n  # Find ChEMBL cross-references for these proteins (representing potential drug targets)\n  # ChEMBL entries are linked via rdfs:seeAlso from UniProt proteins\n  ?protein rdfs:seeAlso ?chemblEntry .\n  ?chemblEntry up:database <http://purl.uniprot.org/database/ChEMBL> .\n\n  # Federate to Rhea to check if the reaction involves sterols\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Ensure it's a Rhea reaction\n    ?rhea rdfs:subClassOf rh:Reaction .\n\n    # Find compounds involved in the reaction (either as reactant or product)\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n\n    # Link the compound to its ChEBI identifier\n    ?compound rh:chebi ?chebi .\n\n    # Check if the ChEBI compound is a sterol (CHEBI:15889) or a subclass thereof\n    # CHEBI:15889 is the ChEBI identifier for 'sterol'\n    ?chebi rdfs:subClassOf* CHEBI:15889 .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "02ca9f84-69df-4a3f-8f87-12380e60f6e9",
    "evaluation_timestamp": "2025-05-01T11:59:38.498792",
    "question_understanding_prompt_tokens": 265,
    "question_understanding_completion_tokens": 33,
    "question_understanding_total_tokens": 298,
    "sparql_query_construction_prompt_tokens": 6800,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 6800,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": false,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/54",
    "natural_language_question": "Proteins with binding sites for ligands similar to heme",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT \n  ?protein\n  ?mnemonic\n  ?proteinName\n  ?ligandSimilarityScore\n  ?ligand\nWHERE {\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?ssc sachem:compound ?ligand; \n      sachem:score ?ligandSimilarityScore ;\n      sachem:similaritySearch ?sss .\n        # Smiles of Heme\n    ?sss    sachem:query \"CC1=C(CCC([O-])=O)C2=[N+]3C1=Cc1c(C)c(C=C)c4C=C5C(C)=C(C=C)C6=[N+]5[Fe-]3(n14)n1c(=C6)c(C)c(CCC([O-])=O)c1=C2\";\n      sachem:cutoff \"8e-1\"^^xsd:double ;\n      sachem:aromaticityMode sachem:aromaticityDetect ;\n      sachem:similarityRadius 1 ;\n      sachem:tautomerMode sachem:ignoreTautomers .\n  }\n  ?protein up:mnemonic ?mnemonic ;\n    up:recommendedName/up:fullName ?proteinName ;\n    up:annotation ?annotation .\n  ?annotation a up:Binding_Site_Annotation ;\n      up:ligand/rdfs:subClassOf ?ligand .\n}\nORDER BY DESC(?ligandSimilarityScore)",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/54_binding_sites_for_ligands_similar_to_heme_sachem.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\n\nSELECT DISTINCT ?protein ?ligand ?ligandName ?chebi\nWHERE {\n  # Use the IDSM service to find ChEBI IDs similar to Heme (CHEBI:16172)\n  # The SMILES string for Heme (CHEBI:16172) is used for the similarity search.\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    # SMILES for Heme (CHEBI:16172): C[C@@H]1C=C(C)C2=C(C=C3C(C)=C(C=C4C(C)=C(C=C1N24)C(C)=O)N3)N\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"C[C@@H]1C=C(C)C2=C(C=C3C(C)=C(C=C4C(C)=C(C=C1N24)C(C)=O)N3)N\" ;\n      sachem:threshold \"0.8\" # Tanimoto coefficient threshold for similarity (adjust as needed)\n    ] .\n  }\n\n  # Find proteins in UniProt that have binding site annotations\n  ?protein a up:Protein ;\n           up:annotation ?annotation .\n\n  ?annotation a up:Binding_Site_Annotation .\n\n  # Link the binding site annotation to a ligand\n  ?annotation up:ligand ?ligand .\n\n  # Link the ligand to a ChEBI ID and get its label from UniProt data\n  # UniProt links ligands to ChEBI classes using rdfs:subClassOf\n  ?ligand rdfs:subClassOf ?chebi ;\n          rdfs:label ?ligandName .\n\n  # The ?chebi variable from the UniProt data must match one of the ChEBI IDs\n  # found by the similarity search in the IDSM service. This is implicitly handled\n  # by using the same variable name ?chebi in both parts of the query.\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "bfa7e996-cb81-4289-be3d-9e508dce92c3",
    "evaluation_timestamp": "2025-05-01T12:03:53.277651",
    "question_understanding_prompt_tokens": 245,
    "question_understanding_completion_tokens": 29,
    "question_understanding_total_tokens": 274,
    "sparql_query_construction_prompt_tokens": 5068,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5068,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/43",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number, whose grant date is more than twenty years in the past.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?grantDate ?patent ?application ?applicationNo\nWHERE\n{\n    ?citation a up:Patent_Citation ;\n  skos:exactMatch ?patent .\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  BIND(SUBSTR(STR(?patent), 33, 2) AS ?countryCode)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?publication patent:publicationNumber ?applicationNo ;\n      patent:application ?application .\n    ?application patent:grantDate ?grantDate .\n  }\n  BIND((year(now()) - 20) AS ?thisYearMinusTwenty)\n  BIND(year(?grantDate) AS ?grantYear)\n  FILTER(?grantYear < ?thisYearMinusTwenty)\n} ORDER BY ?grantYear",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/43_patents_used_in_uniprot_granted_twenty_years_in_the_past.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nPREFIX fn: <http://www.w3.org/2005/xpath-functions#>\n\nSELECT ?uniprotEntry ?patentURI ?publicationNumber ?grantDate\nWHERE\n{\n  # Find UniProt entries that have patent citations\n  ?uniprotEntry up:annotation ?citation .\n  ?citation a up:Patent_Citation ;\n            skos:exactMatch ?patentURI . # Link the citation to the patent URI\n\n  # Extract the publication number from the patent URI\n  # This assumes a specific URI structure used by UniProt for EPO patents\n  BIND(SUBSTR(STR(?patentURI), 35) AS ?publicationNumber)\n\n  # Calculate the date 20 years ago from the current date\n  BIND(NOW() AS ?now)\n  # Adjust to UTC to avoid timezone issues during date calculation\n  BIND(fn:adjust-date-to-timezone(?now, \"PT0H\") AS ?nowUTC)\n  # Subtract 20 years duration from the current date\n  BIND(fn:subtract-dateTimes-yielding-date(?nowUTC, fn:yearsDuration(\"P20Y\")) AS ?date20YearsAgo)\n\n  # Query the EPO patent database using a SERVICE clause\n  SERVICE <https://data.epo.org/linked-data/query>\n  {\n    # Find the patent application resource using the publication number\n    ?patentApplication patent:publicationNumber ?publicationNumber .\n\n    # Retrieve the grant date for the found patent application\n    ?patentApplication patent:grantDate ?grantDate .\n\n    # Ensure the grant date is treated as a date for comparison\n    BIND(xsd:date(?grantDate) AS ?grantDateAsDate)\n\n    # Filter the results to include only patents granted before the date 20 years ago\n    FILTER(?grantDateAsDate < ?date20YearsAgo)\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "4ca7bc66-eba6-48bc-a78c-cdadd62772f0",
    "evaluation_timestamp": "2025-05-01T12:04:46.214684",
    "question_understanding_prompt_tokens": 267,
    "question_understanding_completion_tokens": 47,
    "question_understanding_total_tokens": 314,
    "sparql_query_construction_prompt_tokens": 4010,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4010,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/45",
    "natural_language_question": "Retrieve drugs that target human enzymes involved in sterol metabolism (federated query with WikiData and Rhea).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX chebihash: <http://purl.obolibrary.org/obo/chebi#>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT DISTINCT ?protein ?proteinFullName ?wikiChemical ?wikiChemicalLabel ?medicalConditionTreatedLabel\nWHERE {\n  # ChEBI: retrieve members of the ChEBI class ChEBI:15889 (sterol)\n  # Rhea: retrieve the reactions involving these ChEBI as participants\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n      rh:status rh:Approved ;\n      rh:side ?reactionSide .\n    ?reactionSide\n      rh:contains ?participant .\n    ?participant rh:compound ?compound\n    {\n      ?compound rh:chebi ?chebi .\n      ?chebi (rdfs:subClassOf)+ CHEBI:15889\n    } UNION {\n      ?compound rh:chebi ?chebi .\n      ?chebi2 rdfs:subClassOf ?chebiRestriction .\n      ?chebiRestriction\n\t\ta owl:Restriction ;\n\t\towl:onProperty chebihash:has_major_microspecies_at_pH_7_3 ;\n\t\towl:someValuesFrom ?chebi .\n      ?chebi2 (rdfs:subClassOf)+ CHEBI:15889\n    }\n  }\n  # UniProt: retrieve the human (taxid:9606) enzymes catalyzing these Rhea reactions\n  ?ca up:catalyzedReaction  ?reaction .\n  ?a up:catalyticActivity  ?ca .\n  ?proteinIRI  up:annotation ?a ;\n    up:organism taxon:9606 ;\n    up:recommendedName ?proteinRecName .\n  ?proteinRecName up:fullName ?proteinFullName .\n  # Find drugs in wikidata that interact with the UniProt Proteins\n  BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n  SERVICE <https://query.wikidata.org/sparql> {\n    ?wp wdt:P352  ?protein .\n    ?wikiChemical wdt:P129 ?wp . # Physically interacts with\n    ?wikiChemical rdfs:label ?wikiChemicalLabel .\n    ?wikiChemical wdt:P2175 ?wmc . # Medical conndition treated\n    ?wmc rdfs:label ?medicalConditionTreatedLabel .\n    FILTER(lang(?medicalConditionTreatedLabel) = 'en')\n    FILTER(lang(?wikiChemicalLabel) = 'en')\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/45_drugs_targeting_human_sterol_metabolism_enzymes.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wd: <http://www.wikidata.org/entity/>\n\nSELECT DISTINCT ?drug ?drugLabel ?protein ?proteinName\nWHERE {\n  # Find human enzymes in UniProt\n  ?protein a up:Protein ;\n           up:organism taxon:9606 ; # Filter for human proteins\n           up:annotation ?a .\n  ?a a up:Catalytic_Activity_Annotation ;\n     up:catalyticActivity ?ca .\n  ?ca up:catalyzedReaction ?reaction . # Link to the catalyzed reaction (expected to be a Rhea reaction)\n\n  # Get the protein recommended name if available\n  OPTIONAL { ?protein up:recommendedName/up:fullName ?proteinName . }\n\n  # Check if the reaction involves sterols in Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction . # Ensure the linked resource is a Rhea reaction\n    ?reaction rh:side/rh:contains/rh:compound ?compound .\n    ?compound rh:chebi ?chebi .\n    # Check if the compound is a sterol (CHEBI:15889) or a subclass of sterol\n    ?chebi rdfs:subClassOf* CHEBI:15889 .\n  }\n\n  # Find drugs in WikiData that target these human enzymes\n  SERVICE <https://query.wikidata.org/sparql> {\n    ?drug wdt:P31 wd:Q793 . # Filter for items that are instances of 'drug' (Q793)\n    ?drug wdt:P129 ?wdTarget . # Find the target of the drug (P129: targets)\n\n    # Link the WikiData target item to the UniProt protein using the UniProt accession (P352)\n    ?wdTarget wdt:P352 ?uniprotAccession .\n\n    # Get the English label for the drug\n    ?drug rdfs:label ?drugLabel .\n    FILTER (lang(?drugLabel) = \"en\")\n  }\n\n  # Match the UniProt protein URI with the UniProt accession found in WikiData\n  # Extract the accession from the UniProt URI\n  BIND(STRAFTER(STR(?protein), \"http://purl.uniprot.org/proteins/\") AS ?uniprotAccessionFromUri)\n  FILTER (?uniprotAccessionFromUri = ?uniprotAccession)\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "9a3b4e61-5a94-4b08-bc61-067bc9c2e469",
    "evaluation_timestamp": "2025-05-01T12:05:30.149266",
    "question_understanding_prompt_tokens": 259,
    "question_understanding_completion_tokens": 28,
    "question_understanding_total_tokens": 287,
    "sparql_query_construction_prompt_tokens": 5957,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5957,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/42",
    "natural_language_question": "Connect patents cited in UniProtKB with those in the patent database at EPO via publication number.",
    "ground_truth_query": "PREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?citation ?patent ?application ?applicationNo\nWHERE\n{\n  ?citation a up:Patent_Citation ;\n    skos:exactMatch ?patent .\n  FILTER(CONTAINS(STR(?patent), 'EP'))\n  BIND(SUBSTR(STR(?patent), 35) AS ?applicationNo)\n  SERVICE <https://data.epo.org/linked-data/query>{\n    ?application patent:publicationNumber ?applicationNo\n  }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.epo.org/linked-data/query"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/42_connect_patents_to_epo.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX patent: <http://data.epo.org/linked-data/def/patent/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?protein ?uniprotAccession ?patentURI ?epoPublication ?epoApplication ?publicationNumber ?grantDate\nWHERE\n{\n    # Find UniProt entries that cite patents\n    ?protein a up:Protein ;\n             up:citation ?citation ;\n             up:accession ?uniprotAccession . # Get UniProt accession for clarity\n\n    # Ensure the citation is a patent citation\n    ?citation a up:Patent_Citation ;\n              skos:exactMatch ?patentURI . # Link to the EPO patent URI\n\n    # Extract the publication number from the EPO patent URI\n    # Assumes the URI structure is like http://data.epo.org/linked-data/publication/COUNTRYCODE/PUBLICATIONNUMBER/KINDCODE\n    # The SUBSTR(STR(?patentURI), 35) extracts the part after the country code and slash\n    BIND(SUBSTR(STR(?patentURI), 35) AS ?publicationNumber)\n\n    # Query the EPO endpoint to find the corresponding patent publication\n    SERVICE <https://data.epo.org/linked-data/query>\n    {\n        ?epoPublication patent:publicationNumber ?publicationNumber ; # Match by publication number\n                        patent:application ?epoApplication . # Link to the patent application\n        ?epoApplication patent:grantDate ?grantDate . # Get the grant date from the application\n    }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "1964d3b9-6e31-4e4f-af12-f6fabf902be2",
    "evaluation_timestamp": "2025-05-01T12:10:58.530483",
    "question_understanding_prompt_tokens": 257,
    "question_understanding_completion_tokens": 35,
    "question_understanding_total_tokens": 292,
    "sparql_query_construction_prompt_tokens": 4390,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4390,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/67_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n        up:organism taxon:9606 ;\n        up:mnemonic ?mnemonic .\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n\t?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n   }\n   ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/67_draft_human_metabolome.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?chebi\nWHERE {\n  # Find human proteins in UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:organism taxon:9606 . # Filter for human proteins\n    # Find catalytic activity annotations for these proteins\n    ?protein up:annotation ?annotation .\n    ?annotation a up:Catalytic_Activity_Annotation .\n    # Get the catalytic activity which links to the reaction\n    ?annotation up:catalyticActivity ?catalyticActivity .\n    # Get the Rhea reaction URI catalyzed by this protein\n    ?catalyticActivity up:catalyzedReaction ?reaction .\n  }\n\n  # Use the reaction URI to query Rhea for involved compounds\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Ensure the reaction is a valid Rhea reaction (optional, but good practice)\n    ?reaction rdfs:subClassOf rh:Reaction .\n    # Find the sides of the reaction (left/right)\n    ?reaction rh:side ?reactionSide .\n    # Find the participants (compounds) on the reaction side\n    ?reactionSide rh:contains ?participant .\n    # Get the compound involved\n    ?participant rh:compound ?compound .\n    # Get the ChEBI identifier for the compound\n    ?compound rh:chebi ?chebi .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "a1ca118f-1d90-4207-9563-ebe36797551c",
    "evaluation_timestamp": "2025-05-01T12:11:16.758853",
    "question_understanding_prompt_tokens": 248,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 268,
    "sparql_query_construction_prompt_tokens": 5109,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5109,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/36",
    "natural_language_question": "Find the orthologous proteins for UniProtKB entry P05067 using the <a href=\"http://www.orthod.org\">OrthoDB database</a>",
    "ground_truth_query": "PREFIX orthodb: <http://purl.orthodb.org/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?orthoGroup\n  ?scientificName\n  ?functionComment\n  ?prefferedGeneName\n  ((STRLEN(?value) - ?medianLength) as ?deviationFromMedianLength)\nWHERE\n{\n  uniprotkb:P05067 a up:Protein ;\n        up:organism/up:scientificName ?scientificName ;\n        rdfs:seeAlso ?orthoGroup ;\n        up:encodedBy/skos:prefLabel ?prefferedGeneName ;\n          up:sequence/rdf:value ?value .\n  OPTIONAL {\n    ?protein up:annotation ?functionAnnotation .\n    ?functionAnnotation a up:Function_Annotation ;\n      rdfs:comment ?functionComment .\n  }\n  SERVICE <https://sparql.orthodb.org/sparql>{\n    ?orthoGroup orthodb:ogMedianProteinLength ?medianLength .\n    ?orthoGroup orthodb:hasMember ?xref .\n    ?xref orthodb:xref/orthodb:xrefResource uniprotkb:P05067 .\n  }\n}\nLIMIT 985915",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://sparql.orthodb.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/36_orthologous_proteins_via_orthodb.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\nSELECT ?orthoDB_accession\nWHERE\n{\n  # Query the UniProt endpoint\n  SERVICE <https://sparql.uniprot.org/sparql/> {\n    # Define the UniProt protein entry\n    BIND (uniprotkb:P05067 AS ?protein) .\n\n    # Find database cross-references for the protein\n    ?protein up:dbReference ?dbRef .\n\n    # Filter for references specifically to OrthoDB\n    ?dbRef up:database <http://purl.uniprot.org/database/OrthoDB> .\n\n    # Get the OrthoDB accession (which is typically the OrthoDB group ID)\n    ?dbRef up:accession ?orthoDB_accession .\n  }\n  # Note: This query retrieves the OrthoDB group ID associated with the UniProt entry P05067.\n  # To list all orthologous proteins within this group, a query to the OrthoDB SPARQL endpoint would be required.\n  # The OrthoDB SPARQL endpoint was not provided in the list of available endpoints,\n  # so a federated query to retrieve the full list of orthologs is not possible with the given context.\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "00112641-1aa7-438d-bf97-8330fd35ec01",
    "evaluation_timestamp": "2025-05-01T12:11:51.377264",
    "question_understanding_prompt_tokens": 277,
    "question_understanding_completion_tokens": 43,
    "question_understanding_total_tokens": 320,
    "sparql_query_construction_prompt_tokens": 4092,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4092,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/60",
    "natural_language_question": "Find human proteins that catalyze reactions where substrates or product have a <a href=\"https://www.ebi.ac.uk/chebi/searchId.do?chebiId=CHEBI:35516\">Cholestane skeleton</a>",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  DISTINCT\n    ?protein\n    ?disease\n    ?rhea\n    ?chebi\n    ?omim\nWHERE {\n    # Find complete ChEBIs with a Cholestane skeleton, via the Czech Elixir node IDSM Sachem chemical substructure search.\n    SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n      ?chebi sachem:substructureSearch [\n        sachem:query\n\"[C@]12(CCC3CCCC[C@]3(C)[C@@]1([H])CC[C@]1(C)[C@@]([H])([C@@](C)([H])CCCC(C)C)CC[C@@]21[H])[H]\"\n].\n   }\n   # Use the fact that UniProt catalytic activities are annotated using Rhea \n   # Mapping the found ChEBIs to Rhea reactions\n   SERVICE <https://sparql.rhea-db.org/sparql>{\n     ?rhea rh:side/rh:contains/rh:compound/rdfs:subClassOf ?chebi .\n   }\n   # Match the found Rhea reactions with human UniProtKB proteins\n   ?protein up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea .\n   ?protein up:organism taxon:9606 .\n   # Find only those human entries that have an annotated related disease, and optionaly map these to OMIM\n   ?protein up:annotation/up:disease ?disease .\n   OPTIONAL {\n     ?disease rdfs:seeAlso ?omim .\n     ?omim up:database <http://purl.uniprot.org/database/MIM>\n   }\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi",
      "https://sparql.rhea-db.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/60_enzymes_working_on_substrate_with_Cholestene_backbone.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?protein\nWHERE {\n  # Find human proteins that catalyze reactions\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein ;\n             up:reviewed true ; # Focus on reviewed entries\n             up:organism taxon:9606 ; # Filter for human proteins\n             up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea . # Link to catalyzed Rhea reactions\n  }\n\n  # Find compounds involved as substrates or products in these Rhea reactions\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound . # Get the compound involved\n    ?compound rh:chebi ?chebi . # Get the ChEBI identifier for the compound\n  }\n\n  # Check if the ChEBI compound has the Cholestane skeleton using the IDSM ChEBI service\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?chebi sachem:substructureSearch [\n      sachem:query \"[C@]12(CCC3CCCC[C@]3(C)[C@@]1([H])CC[C@]1(C)[C@@]([H])([C@@](C)([H])CCCC(C)C)CC[C@@]21[H])[H]\" # SMILES for Cholestane skeleton\n    ] .\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "87e93be8-7400-4c25-b282-9535a549f6d0",
    "evaluation_timestamp": "2025-05-01T12:12:47.586541",
    "question_understanding_prompt_tokens": 288,
    "question_understanding_completion_tokens": 38,
    "question_understanding_total_tokens": 326,
    "sparql_query_construction_prompt_tokens": 9907,
    "sparql_query_construction_completion_tokens": 498,
    "sparql_query_construction_total_tokens": 10405,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/70_enzymes_interacting_with_molecules_similar_to_dopamine",
    "natural_language_question": "Look for enzymes catalyzing reactions with molecules similar to dopamine.",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?protein\n  ?rhea\n  ?chebi\nWHERE {\n  # Use the smiles of dopamine CHEBI:18243\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi>{\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"NCCc1ccc(O)c(O)c1\" ] .\n  }\n  GRAPH<https://sparql.rhea-db.org/rhea>{\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  }\n  ?protein up:reviewed true ;\n    up:annotation ?caa .\n  ?caa up:catalyticActivity/up:catalyzedReaction ?rhea .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://idsm.elixir-czech.cz/sparql/endpoint/chebi"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/70_enzymes_interacting_with_molecules_similar_to_dopamine.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT ?protein\nWHERE {\n  # Use the smiles of dopamine (CHEBI:18243) to find similar compounds via the Sachem service\n  SERVICE <https://idsm.elixir-czech.cz/sparql/endpoint/chebi> {\n    ?chebi sachem:similarCompoundSearch [\n      sachem:query \"NCCc1ccc(O)c(O)c1\" ; # SMILES for dopamine\n      sachem:threshold \"0.8\"^^<http://www.w3.org/2001/XMLSchema#float> # Example similarity threshold\n    ] .\n  }\n\n  # Find Rhea reactions involving the similar ChEBI compounds\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rh:side/rh:contains/rh:compound ?compound .\n    # Link the compound in Rhea to the ChEBI identifier\n    ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  }\n\n  # Find UniProt proteins that catalyze these Rhea reactions\n  ?protein up:annotation ?catalyticActivityAnnotation .\n  ?catalyticActivityAnnotation a up:Catalytic_Activity_Annotation ;\n                               up:catalyzedReaction ?rhea .\n\n  # Optional: Filter for reviewed proteins\n  # ?protein up:reviewed true .\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "bb51e4ae-4a92-4061-9a37-3dc44aaab20a",
    "evaluation_timestamp": "2025-05-01T12:13:15.122723",
    "question_understanding_prompt_tokens": 251,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 277,
    "sparql_query_construction_prompt_tokens": 5994,
    "sparql_query_construction_completion_tokens": 427,
    "sparql_query_construction_total_tokens": 6421,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/38",
    "natural_language_question": "For the human entry P05067 (Amyloid-beta precursor protein) find the gene start ends in WikiData",
    "ground_truth_query": "PREFIX p: <http://www.wikidata.org/prop/>\nPREFIX pq: <http://www.wikidata.org/prop/qualifier/>\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\n\nSELECT \n\t?protein \n\t?begin\n\t?end\n\t?chromosome\n\t?assembly\nWHERE {\n    {\n        BIND(uniprotkb:P05067 AS ?proteinIRI)\n        BIND (SUBSTR(STR(?proteinIRI), STRLEN(STR(uniprotkb:))+1) AS ?protein)\n    }\n    SERVICE <https://query.wikidata.org/sparql> {\n        ?wp wdt:P352 ?protein ;\n            wdt:P702 ?wg . \n        ?wg p:P644   ?wgss .\n        ?wgss ps:P644        ?begin ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        ?wg p:P645 ?wgse .\n        ?wgse ps:P645        ?end ;\n          pq:P1057/wdt:P1813 ?chromosome ;\n          pq:P659/rdfs:label ?assembly .\n        FILTER(lang(?assembly) = \"en\")\n  } \n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://query.wikidata.org/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/38_find_gene_region_in_wikidata_for_known_entry.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX uniprotkb: <http://purl.uniprot.org/uniprot/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\nSELECT ?geneStart ?geneEnd\nWHERE {\n  # Start with the specific human UniProt entry P05067\n  uniprotkb:P05067 a up:Protein ;\n                   up:organism taxon:9606 ; # Ensure it's the human entry\n                   up:encodedBy ?gene .     # Find the gene encoding this protein\n\n  # Find the Wikidata cross-reference for the gene\n  ?gene rdfs:seeAlso ?wikidataGene .\n  ?wikidataGene up:database <http://purl.uniprot.org/database/Wikidata> .\n\n  # Federate to the Wikidata endpoint to get gene location information\n  SERVICE <https://query.wikidata.org/sparql> {\n    # Retrieve the genomic start and end positions from Wikidata\n    ?wikidataGene wdt:P644 ?geneStart ; # P644 is 'genomic start'\n                  wdt:P645 ?geneEnd .   # P645 is 'genomic end'\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "232296e3-03dd-4766-936c-f2c7a2d063d9",
    "evaluation_timestamp": "2025-05-01T12:13:39.399605",
    "question_understanding_prompt_tokens": 265,
    "question_understanding_completion_tokens": 52,
    "question_understanding_total_tokens": 317,
    "sparql_query_construction_prompt_tokens": 5737,
    "sparql_query_construction_completion_tokens": 373,
    "sparql_query_construction_total_tokens": 6110,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/117_biosodafrontend_glioblastoma_orthologs_rat",
    "natural_language_question": "Which are the proteins associated with glioblastoma and the orthologs expressed in the rat brain?",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX sio: <http://semanticscience.org/resource/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX lscr: <http://purl.org/lscr#>\nPREFIX genex: <http://purl.org/genex#>\nSELECT DISTINCT ?protein ?orthologous_protein ?gene ?annotation_text WHERE {\n  {\n  \tSELECT ?protein ?annotation_text WHERE {\n      ?protein a up:Protein ;\n          up:organism taxon:9606 ;\n          up:annotation ?annotation .\n      ?annotation rdfs:comment ?annotation_text .\n      ?annotation a up:Disease_Annotation .\n      FILTER CONTAINS (?annotation_text, \"glioblastoma\")\n    }\n  }\n  SERVICE <https://sparql.omabrowser.org/sparql/> {\n    SELECT ?orthologous_protein ?protein ?gene WHERE {\n    ?protein_OMA a orth:Protein .\n    ?orthologous_protein a orth:Protein .\n    ?cluster a orth:OrthologsCluster .\n    ?cluster orth:hasHomologousMember ?node1 .\n    ?cluster\n    orth:hasHomologousMember ?node2 .\n    ?node2 orth:hasHomologousMember* ?protein_OMA .\n    ?node1 orth:hasHomologousMember* ?orthologous_protein .\n    ?orthologous_protein orth:organism/obo:RO_0002162 taxon:10116 . # rattus norvegicus\n    ?orthologous_protein sio:SIO_010079 ?gene .\n    ?protein_OMA lscr:xrefUniprot ?protein .\n    FILTER(?node1 != ?node2)\n\t\t}\n\t}\n  SERVICE <https://www.bgee.org/sparql/> {\n    ?gene genex:isExpressedIn ?a .\n    ?a rdfs:label \"brain\" .\n    ?gene orth:organism ?s . \n    ?s obo:RO_0002162 taxon:10116.\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/",
      "https://www.bgee.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/117_biosodafrontend_glioblastoma_orthologs_rat.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX orthodb: <http://purl.orthodb.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX bto: <http://purl.obolibrary.org/obo/BTO_>\n\nSELECT DISTINCT ?glioblastomaProtein ?glioblastomaProteinName ?ratBrainOrtholog ?ratBrainOrthologName\nWHERE {\n  # Define the disease (Glioblastoma, using the matched Glioma URI)\n  VALUES ?disease { <http://purl.uniprot.org/diseases/2566> } # UniProt URI for Glioma\n\n  # Find proteins associated with the specified disease in the UniProt graph\n  ?glioblastomaProtein a up:Protein ;\n                       up:annotation ?diseaseAnnotation .\n  ?diseaseAnnotation a up:Disease_Annotation ;\n                     up:disease ?disease .\n  OPTIONAL { ?glioblastomaProtein up:recommendedName/up:fullName ?glioblastomaProteinName . }\n\n  # Find the orthologous group URI for the glioblastoma protein\n  # UniProt links to OrthoDB groups via rdfs:seeAlso\n  ?glioblastomaProtein rdfs:seeAlso ?orthoGroup .\n  FILTER(STRSTARTS(STR(?orthoGroup), STR(orthodb:))) # Ensure the link is to an OrthoDB resource\n\n  # Query the OrthoDB service to find all members (orthologs) of this group\n  SERVICE <https://sparql.orthodb.org/sparql> {\n    # OrthoDB members are represented as UniProt URIs\n    ?orthoGroup orthodb:hasMember ?ratBrainOrtholog .\n  }\n\n  # Back in the UniProt graph, filter the orthologs found in OrthoDB\n  # to find those that are from Rat (Rattus norvegicus) and expressed in Brain tissue\n  ?ratBrainOrtholog a up:Protein ;\n                    up:organism taxon:10116 ; # Taxonomy URI for Rattus norvegicus\n                    up:annotation ?tissueAnnotation .\n  ?tissueAnnotation a up:Tissue_Annotation ;\n                    up:tissue bto:0000141 . # BTO URI for Brain tissue\n  OPTIONAL { ?ratBrainOrtholog up:recommendedName/up:fullName ?ratBrainOrthologName . }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "602a7d07-2df7-4df4-8e22-558a4e3383a8",
    "evaluation_timestamp": "2025-05-01T12:14:08.686076",
    "question_understanding_prompt_tokens": 256,
    "question_understanding_completion_tokens": 34,
    "question_understanding_total_tokens": 290,
    "sparql_query_construction_prompt_tokens": 6016,
    "sparql_query_construction_completion_tokens": 610,
    "sparql_query_construction_total_tokens": 6626,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/116_biosodafrontend_rabit_mouse_orthologs",
    "natural_language_question": "Rabbit's proteins encoded by genes that are orthologous to Mouse's HBB-Y gene and their cross reference links to Uniprot",
    "ground_truth_query": "PREFIX lscr: <http://purl.org/lscr#>\nPREFIX orth: <http://purl.org/net/orth#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX obo: <http://purl.obolibrary.org/obo/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT DISTINCT ?PROTEIN_1 ?PROTEIN_2 ?UNIPROT_XREF_1 ?UNIPROT_XREF_2 WHERE {\n\t?taxon_1 up:commonName 'Mouse' .\n\t?taxon_2 up:commonName 'Rabbit' .\n\tSERVICE <https://sparql.omabrowser.org/sparql/> {\n\t\t?cluster a orth:OrthologsCluster .\n\t\t?cluster orth:hasHomologousMember ?node1 .\n\t\t?cluster orth:hasHomologousMember ?node2 .\n\t\t?node2 orth:hasHomologousMember* ?PROTEIN_2 .\n\t\t?node1 orth:hasHomologousMember* ?PROTEIN_1 .\n\t\t?PROTEIN_1 a orth:Protein .\n\t\t?PROTEIN_1 orth:organism/obo:RO_0002162 ?taxon_1 ;\n\t\t\trdfs:label 'HBB-Y' ;\n\t\t\tlscr:xrefUniprot ?UNIPROT_XREF_1 .\n\t\t?PROTEIN_2 a orth:Protein .\n\t\t?PROTEIN_2 orth:organism/obo:RO_0002162 ?taxon_2 .\n\t\t?PROTEIN_2 lscr:xrefUniprot ?UNIPROT_XREF_2 .\n\t\tFILTER ( ?node1 != ?node2 )\n\t}\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql",
    "federates_with": [
      "https://sparql.omabrowser.org/sparql/"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/116_biosodafrontend_rabit_mouse_orthologs.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX orthodb: <http://purl.orthodb.org/>\n\nSELECT DISTINCT ?rabbitProtein\nWHERE {\n  # Find the Mouse gene with the preferred label \"HBB-Y\".\n  # We assume \"HBB-Y\" is a preferred gene label (skos:prefLabel).\n  # Using taxon:10090 for Mus musculus (common mouse), as suggested by examples.\n  ?mouseGene skos:prefLabel \"HBB-Y\" ;\n             up:organism taxon:10090 .\n\n  # Find a Mouse protein encoded by this gene.\n  ?mouseProtein up:encodedBy ?mouseGene ;\n                a up:Protein .\n\n  # Find the OrthoDB orthogroup associated with the Mouse protein.\n  # rdfs:seeAlso is used in UniProt to link to external databases like OrthoDB.\n  ?mouseProtein rdfs:seeAlso ?orthoGroup .\n\n  # Query the OrthoDB endpoint to find members of this orthogroup.\n  SERVICE <https://sparql.orthodb.org/sparql> {\n    # Find members of the orthogroup.\n    ?orthoGroup orthodb:hasMember ?orthoMemberNode .\n    # Get the UniProt URI for the orthogroup member by following the xref path.\n    ?orthoMemberNode orthodb:xref/orthodb:xrefResource ?rabbitProtein .\n  }\n\n  # In the main UniProt endpoint, filter the orthogroup members found\n  # to ensure they are proteins from Rabbit.\n  # Using taxon:9986 for Oryctolagus cuniculus (common rabbit), as it's the standard.\n  ?rabbitProtein a up:Protein ;\n                 up:organism taxon:9986 .\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "451ebacc-ee71-45ce-a870-d33062941a9a",
    "evaluation_timestamp": "2025-05-01T12:15:01.097459",
    "question_understanding_prompt_tokens": 262,
    "question_understanding_completion_tokens": 49,
    "question_understanding_total_tokens": 311,
    "sparql_query_construction_prompt_tokens": 5221,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 5221,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.uniprot.org/.well-known/sparql-examples/29",
    "natural_language_question": "Use <a href=\"http://allie.dbcls.jp/\">ALLIE</a> a service for Abbreviation / Long Form in Japanese and English to search in UniProt using Japanese.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT ?protein ?englishLabelStr\nWHERE {\n    SERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n    BIND (STR(?englishLabel) AS ?englishLabelStr)\n    ?protein a up:Protein .\n    {\n        ?protein (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    UNION\n    {\n        VALUES(?partType){(up:domain) (up:component)}\n            ?protein ?partType ?part .\n        ?part (up:recommendedName|up:alternativeName) ?structuredName .\n    }\n    ?structuredName ?anyKindOfName  ?englishLabelStr .\n    ?anyKindOfName rdfs:subPropertyOf up:structuredNameType .\n}",
    "target_endpoint": "https://sparql.uniprot.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Uniprot",
    "file_path": "UniProt/29_search_uniprot_in_japanese_with_allie.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?protein ?fullName ?englishLabel\nWHERE {\n  # Use the ALLIE service (https://data.allie.dbcls.jp/sparql)\n  # to find an English translation for a specific Japanese term.\n  SERVICE <https://data.allie.dbcls.jp/sparql> {\n    # Replace \"YOUR_JAPANESE_TERM\"@ja with the actual Japanese term you want to search for.\n    # This example uses \"1,2,4-\"@ja from the provided context example.\n    ?allieEntity rdfs:label \"1,2,4-\"@ja ;\n                 rdfs:label ?englishLabel .\n    FILTER(lang(?englishLabel) = \"en\")\n  }\n\n  # Now, search in the UniProt endpoint for proteins\n  # whose recommended full name contains the English label obtained from ALLIE.\n  ?protein a up:Protein .\n  ?protein up:recommendedName ?recommendedName .\n  ?recommendedName up:fullName ?fullName .\n\n  # Filter the results to include only proteins where the full name\n  # contains the English label (case-insensitive match).\n  FILTER(CONTAINS(LCASE(STR(?fullName)), LCASE(STR(?englishLabel))))\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "21f20697-33bd-4638-a41b-732ab340e014",
    "evaluation_timestamp": "2025-05-01T12:15:35.606933",
    "question_understanding_prompt_tokens": 276,
    "question_understanding_completion_tokens": 32,
    "question_understanding_total_tokens": 308,
    "sparql_query_construction_prompt_tokens": 4786,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4786,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC",
    "natural_language_question": "Select all approved reactions with CHEBI:17815 (a 1,2-diacyl-sn-glycerol) or one of its descendant. Display links to UniProtKB/Swiss-Prot entries via EC numbers if the link rhea-ec exists.",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX CHEBI:<http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  distinct\n    ?reaction\n    ?enzyme\n    (count(distinct ?protein) as ?proteinCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:side ?reactionSide .\n\n  OPTIONAL {?reaction rh:ec ?enzyme .\n    SERVICE <https://sparql.uniprot.org/sparql> {\n      ?protein up:reviewed true .\n      ?protein up:enzyme ?enzyme.\n    }\n  } .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  ?chebi rdfs:subClassOf* CHEBI:17815 .\n}\nGROUP BY ?reaction ?enzyme\nORDER BY ?reaction\nLIMIT 985915",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/94_Select_all_approved_reactions_with_CHEBI_or_one_of_its_descendant_optional_UniProtKB_reviewed_EC.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql/\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT DISTINCT\n  ?reaction\n  ?reactionEquation\n  ?ecNumber\n  ?uniprotEntry\nWHERE {\n  # Query Rhea DB for approved reactions involving CHEBI:17815 or its descendants\n  SERVICE <https://sparql.rhea-db.org/sparql/> {\n    ?reaction rdfs:subClassOf rh:Reaction ;\n              rh:status rh:Approved ;\n              rh:equation ?reactionEquation .\n\n    # Find participants in the reaction\n    ?reaction rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n\n    # Link participant compound to ChEBI\n    ?compound rh:chebi ?chebi .\n\n    # Check if the ChEBI entity is CHEBI:17815 or a descendant\n    ?chebi rdfs:subClassOf* CHEBI:17815 .\n\n    # Optionally find the EC number associated with the reaction\n    OPTIONAL { ?reaction rh:ec ?ecNumber . }\n  }\n\n  # If an EC number is found, query UniProt DB to find corresponding entries\n  OPTIONAL {\n    SERVICE <https://sparql.uniprot.org/sparql/> {\n      # Find UniProt proteins that have this EC number\n      ?uniprotEntry a up:Protein ;\n                    up:ec ?ecNumber .\n    }\n  }\n}\nORDER BY ?reaction ?uniprotEntry",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "5b096f2f-9e57-435d-bfac-3ec14bac3da9",
    "evaluation_timestamp": "2025-05-01T12:21:05.277138",
    "question_understanding_prompt_tokens": 294,
    "question_understanding_completion_tokens": 71,
    "question_understanding_total_tokens": 365,
    "sparql_query_construction_prompt_tokens": 4894,
    "sparql_query_construction_completion_tokens": 437,
    "sparql_query_construction_total_tokens": 5331,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql/%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+CHEBI%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0A%0ASELECT+DISTINCT%0A++%3Freaction%0A++%3FreactionEquation%0A++%3FecNumber%0A++%3FuniprotEntry%0AWHERE+%7B%0A++%23+Query+Rhea+DB+for+approved+reactions+involving+CHEBI%3A17815+or+its+descendants%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql/%3E+%7B%0A++++%3Freaction+rdfs%3AsubClassOf+rh%3AReaction+%3B%0A++++++++++++++rh%3Astatus+rh%3AApproved+%3B%0A++++++++++++++rh%3Aequation+%3FreactionEquation+.%0A%0A++++%23+Find+participants+in+the+reaction%0A++++%3Freaction+rh%3Aside+%3FreactionSide+.%0A++++%3FreactionSide+rh%3Acontains+%3Fparticipant+.%0A++++%3Fparticipant+rh%3Acompound+%3Fcompound+.%0A%0A++++%23+Link+participant+compound+to+ChEBI%0A++++%3Fcompound+rh%3Achebi+%3Fchebi+.%0A%0A++++%23+Check+if+the+ChEBI+entity+is+CHEBI%3A17815+or+a+descendant%0A++++%3Fchebi+rdfs%3AsubClassOf%2A+CHEBI%3A17815+.%0A%0A++++%23+Optionally+find+the+EC+number+associated+with+the+reaction%0A++++OPTIONAL+%7B+%3Freaction+rh%3Aec+%3FecNumber+.+%7D%0A++%7D%0A%0A++%23+If+an+EC+number+is+found%2C+query+UniProt+DB+to+find+corresponding+entries%0A++OPTIONAL+%7B%0A++++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql/%3E+%7B%0A++++++%23+Find+UniProt+proteins+that+have+this+EC+number%0A++++++%3FuniprotEntry+a+up%3AProtein+%3B%0A++++++++++++++++++++up%3Aec+%3FecNumber+.%0A++++%7D%0A++%7D%0A%7D%0AORDER+BY+%3Freaction+%3FuniprotEntry&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/11",
    "natural_language_question": "Distribution of reactions according to the first class of the enzyme classification (federated query)",
    "ground_truth_query": "PREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\n# Query 11\n# Retrieve the count of reactions mapped to each level (main class) of the enzyme classification\n#\n# This query mimics the Filter section of the Rhea website (Browse all reactions)\n# https://www.rhea-db.org/rhea?query=\nSELECT ?ecClass (STR(?ecName) AS ?ecClassName) (COUNT(?rhea) AS ?rheaCount)\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-)}\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?rhea rdfs:subClassOf rh:Reaction .\n  ?rhea rh:ec ?ecNumber .\n} GROUP BY ?ecClass ?ecName",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/11.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql/\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\n\n# Select the first level EC classes, their names, and the count of associated reactions\nSELECT\n  ?ecClass\n  (str(?ecName) as ?ecClassName)\n  (count(?reaction) as ?reactionCount)\nWHERE\n{\n  # Query UniProt to get the first level EC classes and their labels\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Define the URIs for the 7 main EC classes\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-) }\n    # Find EC numbers that are subclasses of these main classes\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    # Get the preferred label for the main EC class\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  # Query Rhea to find reactions linked to these EC numbers\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Select all Rhea reactions\n    ?reaction rdfs:subClassOf rh:Reaction .\n    # Link the reaction to an EC number\n    ?reaction rh:ec ?ecNumber .\n  }\n}\n# Group the results by the first level EC class and its name\nGROUP BY ?ecClass ?ecName\n# Order the results by EC class URI\nORDER BY ?ecClass",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "740c3050-d935-4c99-9bec-c5b08e28a18f",
    "evaluation_timestamp": "2025-05-01T12:21:20.605417",
    "question_understanding_prompt_tokens": 256,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 282,
    "sparql_query_construction_prompt_tokens": 4619,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4619,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification",
    "natural_language_question": "Distribution of reactions according to the first level of enzyme classification",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX skos:<http://www.w3.org/2004/02/skos/core#>\n\nSELECT\n  ?ecClass\n  (str(?ecName) as ?ecClassName)\n  (count(?reaction) as ?reactionCount)\nWHERE\n{\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    VALUES (?ecClass) { (ec:1.-.-.-)(ec:2.-.-.-)(ec:3.-.-.-)(ec:4.-.-.-)(ec:5.-.-.-) (ec:6.-.-.-) (ec:7.-.-.-) }\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    ?ecClass skos:prefLabel ?ecName .\n  }\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?ecNumber .\n}\nGROUP BY ?ecClass ?ecName\n",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/109_Distribution_of_reactions_according_to_the_first_level_of_enzyme_classification.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql/\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n\n# This query retrieves the distribution of Rhea reactions based on the first level\n# of the Enzyme Classification (EC) system.\n# It federates between the Rhea SPARQL endpoint (for reactions and their EC numbers)\n# and the UniProt SPARQL endpoint (for EC hierarchy and labels).\nSELECT ?ecClass (STR(?ecName) AS ?ecClassName) (COUNT(?rhea) AS ?rheaCount)\nWHERE {\n  # Query Rhea endpoint for reactions and their associated EC numbers\n  SERVICE <https://sparql.rhea-db.org/sparql/> {\n    ?rhea rdfs:subClassOf rh:Reaction .\n    ?rhea rh:ec ?ecNumber . # Link reaction to EC number\n  }\n\n  # Query UniProt endpoint to find the first-level EC class for each EC number\n  SERVICE <https://sparql.uniprot.org/sparql/> {\n    # Define the URIs for the 7 main EC classes\n    VALUES (?ecClass) {\n      (ec:1.-.-.-) # Oxidoreductases\n      (ec:2.-.-.-) # Transferases\n      (ec:3.-.-.-) # Hydrolases\n      (ec:4.-.-.-) # Lyases\n      (ec:5.-.-.-) # Isomerases\n      (ec:6.-.-.-) # Ligases\n      (ec:7.-.-.-) # Translocases\n    }\n    # Find which main class the reaction's EC number belongs to\n    ?ecNumber rdfs:subClassOf ?ecClass .\n    # Get the preferred label (name) for the main EC class\n    ?ecClass skos:prefLabel ?ecName .\n  }\n}\n# Group results by the main EC class URI and name to count reactions per class\nGROUP BY ?ecClass ?ecName\n# Order by EC class URI for consistent results\nORDER BY ?ecClass",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "95d1f520-0b89-4f91-8d57-cc968d320505",
    "evaluation_timestamp": "2025-05-01T12:26:37.530682",
    "question_understanding_prompt_tokens": 249,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 275,
    "sparql_query_construction_prompt_tokens": 4550,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4550,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/12",
    "natural_language_question": "Select all Rhea reactions linked to protein sequences (enzymes and transporters) in UniProtKB",
    "ground_truth_query": "PREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\n# Query 12\n# Select all Rhea reactions used to annotate enzyme sequences in UniProtKB\n# return the number of UniProtKB entries\n# Federated query using a service to UniProt SPARQL endpoint\n#\n# This query corresponds to the Rhea website query:\n# https://www.rhea-db.org/rhea?query=uniprot:*\n#\nSELECT ?uniprotCount ?rhea ?accession ?equation \nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> { \n  \tSELECT ?rhea (count(?uniprot) as ?uniprotCount) {\n      ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea . \n  \t}\n  \tGROUP BY ?rhea\n  }\n  ?rhea rh:accession ?accession .\n  ?rhea rh:equation ?equation .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/12.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.uniprot.org/sparql/\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT ?protein ?rhea ?accession ?equation\nWHERE {\n  # Query UniProt SPARQL endpoint\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    # Find reviewed UniProt proteins\n    ?protein up:reviewed true ;\n             # Link to annotations\n             up:annotation ?ann .\n    # Find catalytic activity annotations (linking proteins to reactions)\n    ?ann up:catalyticActivity ?ca .\n    # Link catalytic activity to the catalyzed reaction (Rhea reaction URI)\n    ?ca up:catalyzedReaction ?rhea .\n    # Note: This primarily captures enzymatic reactions.\n    # Transport reactions linked via catalytic activity might also be included if annotated this way.\n  }\n  # Query Rhea DB SPARQL endpoint using the reaction URI found in UniProt\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    # Retrieve details for the Rhea reaction\n    ?rhea rh:accession ?accession ;\n          rh:equation ?equation .\n    # Ensure it's a valid Rhea reaction (optional, but good practice)\n    ?rhea rdfs:subClassOf rh:Reaction .\n  }\n}",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "fedf6619-944a-4cd2-bd76-1a9f3a6abc36",
    "evaluation_timestamp": "2025-05-01T12:32:02.553696",
    "question_understanding_prompt_tokens": 256,
    "question_understanding_completion_tokens": 30,
    "question_understanding_total_tokens": 286,
    "sparql_query_construction_prompt_tokens": 4797,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 4797,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.uniprot.org/sparql/%0APREFIX+up%3A+%3Chttp%3A//purl.uniprot.org/core/%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0A%0ASELECT+%3Fprotein+%3Frhea+%3Faccession+%3Fequation%0AWHERE+%7B%0A++%23+Query+UniProt+SPARQL+endpoint%0A++SERVICE+%3Chttps%3A//sparql.uniprot.org/sparql%3E+%7B%0A++++%23+Find+reviewed+UniProt+proteins%0A++++%3Fprotein+up%3Areviewed+true+%3B%0A+++++++++++++%23+Link+to+annotations%0A+++++++++++++up%3Aannotation+%3Fann+.%0A++++%23+Find+catalytic+activity+annotations+%28linking+proteins+to+reactions%29%0A++++%3Fann+up%3AcatalyticActivity+%3Fca+.%0A++++%23+Link+catalytic+activity+to+the+catalyzed+reaction+%28Rhea+reaction+URI%29%0A++++%3Fca+up%3AcatalyzedReaction+%3Frhea+.%0A++++%23+Note%3A+This+primarily+captures+enzymatic+reactions.%0A++++%23+Transport+reactions+linked+via+catalytic+activity+might+also+be+included+if+annotated+this+way.%0A++%7D%0A++%23+Query+Rhea+DB+SPARQL+endpoint+using+the+reaction+URI+found+in+UniProt%0A++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql%3E+%7B%0A++++%23+Retrieve+details+for+the+Rhea+reaction%0A++++%3Frhea+rh%3Aaccession+%3Faccession+%3B%0A++++++++++rh%3Aequation+%3Fequation+.%0A++++%23+Ensure+it%27s+a+valid+Rhea+reaction+%28optional%2C+but+good+practice%29%0A++++%3Frhea+rdfs%3AsubClassOf+rh%3AReaction+.%0A++%7D%0A%7D&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/112_Total_number_of_reaction_ec_protein_links",
    "natural_language_question": "Total number of <reaction> <ec> <protein> links",
    "ground_truth_query": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\n\nSELECT\n  (count(?reaction) as ?reactionEcProteinLinkCount)\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:ec ?enzyme\n  SERVICE <http://sparql.uniprot.org/sparql> {\n    ?protein up:reviewed true .\n    ?protein up:enzyme ?enzyme.\n  }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "http://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/112_Total_number_of_reaction_ec_protein_links.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql/\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\n\nSELECT\n  (count(distinct ?reaction) as ?reactionCount)\n  (count(distinct ?enzyme) as ?enzymeCount)\n  (count(distinct ?protein) as ?proteinCount)\nWHERE {\n  # Find all reactions in Rhea\n  ?reaction rdfs:subClassOf rh:Reaction .\n  # Find the EC number linked to the reaction\n  ?reaction rh:ec ?enzyme .\n\n  # Query UniProt to find reviewed proteins linked to the same EC number\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein ;\n             up:reviewed true ; # Filter for reviewed entries (Swiss-Prot)\n             up:enzyme ?enzyme . # Link protein to the EC number\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "2dc723e8-dd65-49b8-a7af-cf4aa4d2986b",
    "evaluation_timestamp": "2025-05-01T12:32:28.354101",
    "question_understanding_prompt_tokens": 252,
    "question_understanding_completion_tokens": 21,
    "question_understanding_total_tokens": 273,
    "sparql_query_construction_prompt_tokens": 5205,
    "sparql_query_construction_completion_tokens": 272,
    "sparql_query_construction_total_tokens": 5477,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "The read operation timed out"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/19_draft_human_metabolome",
    "natural_language_question": "Generate a draft human metabolome",
    "ground_truth_query": "PREFIX chebislash: <http://purl.obolibrary.org/obo/chebi/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX up: <http://purl.uniprot.org/core/>\n\nSELECT\n  ?uniprot ?mnemonic ?rhea ?chebi ?smiles ?inchiKey\nWHERE\n{\n  ?rhea rh:side/rh:contains/rh:compound ?compound .\n  ?compound (rh:chebi|(rh:reactivePart/rh:chebi)|(rh:underlyingChebi/rh:chebi)) ?chebi .\n  ?chebi chebislash:smiles ?smiles ;\n          chebislash:inchikey ?inchiKey .\n  SERVICE <https://sparql.uniprot.org/sparql> {\n     ?uniprot up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea ;\n                                             up:organism taxon:9606 ;\n                                             up:mnemonic ?mnemonic .\n\n   }\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/19_draft_human_metabolome.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT DISTINCT ?chebi\nWHERE {\n  # Find human proteins in UniProt that are reviewed\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true . # Focus on high-quality reviewed entries\n    ?protein up:organism taxon:9606 . # Filter for Homo sapiens (human)\n\n    # Get the EC number(s) associated with the protein's enzymatic activity\n    # EC numbers can be directly on the protein, or on domains/components\n    { ?protein up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:domain/up:enzyme ?ecNumber . }\n    UNION\n    { ?protein up:component/up:enzyme ?ecNumber . }\n  }\n\n  # Find approved reactions in Rhea that are catalyzed by enzymes with these EC numbers\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?reaction rdfs:subClassOf rh:Reaction . # Ensure it's a Rhea reaction\n    ?reaction rh:status rh:Approved . # Focus on approved reactions in Rhea\n    ?reaction rh:ec ?ecNumber . # Link the reaction to the EC number found in UniProt\n\n    # Find the compounds (metabolites) involved in these reactions\n    ?reaction rh:side ?reactionSide .\n    ?reactionSide rh:contains ?participant .\n    ?participant rh:compound ?compound .\n\n    # Get the ChEBI identifier for the compound\n    ?compound rh:chebi ?chebi . # ChEBI IDs represent the metabolites\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "14862d8c-2ac5-4217-a7a7-36813bae7865",
    "evaluation_timestamp": "2025-05-01T12:37:59.828759",
    "question_understanding_prompt_tokens": 245,
    "question_understanding_completion_tokens": 20,
    "question_understanding_total_tokens": 265,
    "sparql_query_construction_prompt_tokens": 5594,
    "sparql_query_construction_completion_tokens": 486,
    "sparql_query_construction_total_tokens": 6080,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "Unterminated string starting at: line 7835 column 11 (char 180219)"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/20_search_chemical_names_in_japanese",
    "natural_language_question": "Search for Chemical names starting in Japanese, translated to english using allie",
    "ground_truth_query": "PREFIX oboInOwl: <http://www.geneontology.org/formats/oboInOwl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT\n*\nWHERE {\nSERVICE <https://data.allie.dbcls.jp/sparql>{\n        ?x rdfs:label \"1,2,4-\"@ja ;\n            rdfs:label ?englishLabel .\n        FILTER(lang(?englishLabel) = \"en\")\n    }\n  BIND(STR(?englishLabel) AS ?englishLabelStr)\n  ?chebi rdfs:label|oboInOwl:hasSynonym ?englishLabelStr .\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql/",
    "federates_with": [
      "https://data.allie.dbcls.jp/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/20_search_chemical_names_in_japanese.ttl",
    "predicted_query": "# Primary endpoint: https://sparql.rhea-db.org/sparql/\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX chebi: <http://purl.obolibrary.org/obo/CHEBI_>\n\nSELECT ?chemical ?japaneseName ?englishName ?chemicalName\nWHERE {\n    # Use the ALLIE service to find entries with both Japanese and English labels.\n    # ALLIE acts as a dictionary service linking terms in different languages.\n    SERVICE <https://data.allie.dbcls.jp/sparql> {\n        ?allieEntry rdfs:label ?japaneseName ;\n                    rdfs:label ?englishName .\n        FILTER(lang(?japaneseName) = \"ja\") # Filter for Japanese labels\n        FILTER(lang(?englishName) = \"en\") # Filter for English labels\n\n        # Extract the English label as a string for matching\n        BIND(STR(?englishName) AS ?englishNameStr)\n    }\n\n    # Find chemical entities in Rhea DB.\n    # Rhea DB contains biochemical compounds and links them to ChEBI.\n    SERVICE <https://sparql.rhea-db.org/sparql/> {\n        ?chemical rh:chebi ?chebiURI ; # Find entities linked to a ChEBI identifier\n                  rh:name ?chemicalName . # Get the standard name of the chemical in Rhea\n        # We assume that entities linked to ChEBI in Rhea are chemical entities.\n        # We could potentially add a check against the CHEBI endpoint if available and needed,\n        # e.g., ?chebiURI rdfs:subClassOf* chebi:24431 (chemical entity).\n        # However, based on the Rhea description, rh:chebi implies a chemical.\n    }\n\n    # Link the results by matching the English name found in ALLIE with the chemical name in Rhea DB.\n    # We perform a case-insensitive match to increase the chances of finding matches.\n    FILTER(LCASE(?englishNameStr) = LCASE(?chemicalName))\n\n}\nLIMIT 100 # Limit the number of results for performance",
    "predicted_endpoint": "Primary",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": false,
    "run_id_langsmith": "d0b49ef7-9c2e-4124-96f6-8fc0e43a7255",
    "evaluation_timestamp": "2025-05-01T12:41:40.598063",
    "question_understanding_prompt_tokens": 253,
    "question_understanding_completion_tokens": 23,
    "question_understanding_total_tokens": 276,
    "sparql_query_construction_prompt_tokens": 4476,
    "sparql_query_construction_completion_tokens": 503,
    "sparql_query_construction_total_tokens": 4979,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "unknown url type: 'Primary?query=%23+Primary+endpoint%3A+https%3A//sparql.rhea-db.org/sparql/%0APREFIX+rdfs%3A+%3Chttp%3A//www.w3.org/2000/01/rdf-schema%23%3E%0APREFIX+rh%3A+%3Chttp%3A//rdf.rhea-db.org/%3E%0APREFIX+chebi%3A+%3Chttp%3A//purl.obolibrary.org/obo/CHEBI_%3E%0A%0ASELECT+%3Fchemical+%3FjapaneseName+%3FenglishName+%3FchemicalName%0AWHERE+%7B%0A++++%23+Use+the+ALLIE+service+to+find+entries+with+both+Japanese+and+English+labels.%0A++++%23+ALLIE+acts+as+a+dictionary+service+linking+terms+in+different+languages.%0A++++SERVICE+%3Chttps%3A//data.allie.dbcls.jp/sparql%3E+%7B%0A++++++++%3FallieEntry+rdfs%3Alabel+%3FjapaneseName+%3B%0A++++++++++++++++++++rdfs%3Alabel+%3FenglishName+.%0A++++++++FILTER%28lang%28%3FjapaneseName%29+%3D+%22ja%22%29+%23+Filter+for+Japanese+labels%0A++++++++FILTER%28lang%28%3FenglishName%29+%3D+%22en%22%29+%23+Filter+for+English+labels%0A%0A++++++++%23+Extract+the+English+label+as+a+string+for+matching%0A++++++++BIND%28STR%28%3FenglishName%29+AS+%3FenglishNameStr%29%0A++++%7D%0A%0A++++%23+Find+chemical+entities+in+Rhea+DB.%0A++++%23+Rhea+DB+contains+biochemical+compounds+and+links+them+to+ChEBI.%0A++++SERVICE+%3Chttps%3A//sparql.rhea-db.org/sparql/%3E+%7B%0A++++++++%3Fchemical+rh%3Achebi+%3FchebiURI+%3B+%23+Find+entities+linked+to+a+ChEBI+identifier%0A++++++++++++++++++rh%3Aname+%3FchemicalName+.+%23+Get+the+standard+name+of+the+chemical+in+Rhea%0A++++++++%23+We+assume+that+entities+linked+to+ChEBI+in+Rhea+are+chemical+entities.%0A++++++++%23+We+could+potentially+add+a+check+against+the+CHEBI+endpoint+if+available+and+needed%2C%0A++++++++%23+e.g.%2C+%3FchebiURI+rdfs%3AsubClassOf%2A+chebi%3A24431+%28chemical+entity%29.%0A++++++++%23+However%2C+based+on+the+Rhea+description%2C+rh%3Achebi+implies+a+chemical.%0A++++%7D%0A%0A++++%23+Link+the+results+by+matching+the+English+name+found+in+ALLIE+with+the+chemical+name+in+Rhea+DB.%0A++++%23+We+perform+a+case-insensitive+match+to+increase+the+chances+of+finding+matches.%0A++++FILTER%28LCASE%28%3FenglishNameStr%29+%3D+LCASE%28%3FchemicalName%29%29%0A%0A%7D%0ALIMIT+100+%23+Limit+the+number+of+results+for+performance&format=json&output=json&results=json'"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction",
    "natural_language_question": "Retrieve parent reactions (and their catalyzing enzymes) for a metabolite that is not directly involved in a reaction (ex: CHEBI:83137).",
    "ground_truth_query": "PREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?ecNumber\n  (count(?protein) as ?proteinCount)\n  ?reaction\n  ?equation\nWHERE {\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:equation ?equation .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi .\n  CHEBI:83137 rdfs:subClassOf+ ?chebi.\n\n  SERVICE <https://sparql.uniprot.org/sparql> {\n  ?protein a up:Protein .\n  ?protein up:reviewed true .\n    {?protein up:enzyme ?ecNumber}\n  UNION\n    {?protein up:domain/up:enzyme ?ecNumber}\n  UNION\n    {?protein up:component/up:enzyme ?ecNumber} .\n  }\n} \nGROUP BY ?chebi ?ecNumber ?reaction ?equation",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/117_Retrieve_parent_reactions_and_their_catalyzing_enzymes_for_a_metabolite_that_is_not_directly_involved_in_a_reaction.ttl",
    "predicted_query": "# https://sparql.rhea-db.org/sparql/\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX ec: <http://purl.uniprot.org/enzyme/>\n\nSELECT DISTINCT ?parentReaction ?parentEquation ?ecNumber ?protein WHERE {\n  # Find ChEBI compounds that are subclasses of CHEBI:83137 (butanoate).\n  # This interprets \"not directly involved\" as involving a compound that is a subclass\n  # of the specified metabolite, rather than the metabolite itself.\n  ?chebiSubclass rdfs:subClassOf+ CHEBI:83137 .\n\n  # Find Rhea compounds linked to these ChEBI subclasses.\n  ?compound rh:chebi ?chebiSubclass .\n\n  # Find reactions involving these Rhea compounds.\n  ?involvedReaction rdfs:subClassOf rh:Reaction .\n  ?involvedReaction rh:status rh:Approved . # Only consider approved reactions\n  ?involvedReaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n\n  # Find the parent reactions of these involved reactions.\n  ?involvedReaction rdfs:subClassOf ?parentReaction .\n  ?parentReaction rdfs:subClassOf rh:Reaction .\n  ?parentReaction rh:status rh:Approved . # Only consider approved parent reactions\n  ?parentReaction rh:equation ?parentEquation . # Get the equation for the parent reaction\n\n  # Find EC numbers associated with the parent reactions.\n  ?parentReaction rh:ec ?ecNumber .\n\n  # Find proteins in UniProt that catalyze these reactions (via EC number).\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true . # Optional: filter for reviewed proteins\n    # Link protein to EC number using various properties\n    { ?protein up:enzyme ?ecNumber }\n    UNION\n    { ?protein up:domain/up:enzyme ?ecNumber }\n    UNION\n    { ?protein up:component/up:enzyme ?ecNumber }\n  }\n}",
    "predicted_endpoint": "https://sparql.rhea-db.org/sparql/",
    "predicted_endpoint_equal_to_target_endpoint": true,
    "predicted_endpoint_in_federates_with": false,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "72cf7527-9d9f-45a1-996e-382f74f54509",
    "evaluation_timestamp": "2025-05-01T12:42:19.391606",
    "question_understanding_prompt_tokens": 272,
    "question_understanding_completion_tokens": 37,
    "question_understanding_total_tokens": 309,
    "sparql_query_construction_prompt_tokens": 5856,
    "sparql_query_construction_completion_tokens": 553,
    "sparql_query_construction_total_tokens": 6409,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": false,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": false,
    "error_occured_at_endpoint_message": "no error, but empty result"
  },
  {
    "resource": "https://sparql.rhea-db.org/.well-known/sparql-examples/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome",
    "natural_language_question": "Retrieve the set of metabolites involved in reactions catalyzed by human genes (HUMAN reference proteome)",
    "ground_truth_query": "\nPREFIX rh:<http://rdf.rhea-db.org/>\nPREFIX taxon:<http://purl.uniprot.org/taxonomy/>\nPREFIX ec:<http://purl.uniprot.org/enzyme/>\nPREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>\nPREFIX up:<http://purl.uniprot.org/core/>\nPREFIX keywords:<http://purl.uniprot.org/keywords/>\n\nSELECT\n  ?chebi\n  ?reaction\n  ?ecNumber\n  ?protein\n  ?ensemblTranscript\n  ?ensemblGene\nWHERE {\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein .\n    ?protein up:reviewed true .\n    ?protein up:organism taxon:9606 .\n    ?protein up:classifiedWith keywords:1185 .\n\n    ?protein rdfs:seeAlso ?ensemblTranscript .\n    ?ensemblTranscript a up:Transcript_Resource .\n    ?ensemblTranscript up:database <http://purl.uniprot.org/database/Ensembl> .\n    ?ensemblTranscript up:transcribedFrom ?ensemblGene .\n\n      {?protein up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:domain/up:enzyme ?ecNumber .}\n    UNION\n      {?protein up:component/up:enzyme ?ecNumber .}\n  }\n\n  ?reaction rdfs:subClassOf rh:Reaction .\n  ?reaction rh:status rh:Approved .\n  ?reaction rh:ec ?ecNumber .\n  ?reaction rh:side ?reactionSide .\n  ?reactionSide rh:contains ?participant .\n  ?participant rh:compound ?compound .\n  ?compound rh:chebi ?chebi . # only considering small molecules participants\n}",
    "target_endpoint": "https://sparql.rhea-db.org/sparql",
    "federates_with": [
      "https://sparql.uniprot.org/sparql"
    ],
    "endpoint_set": "Rhea",
    "file_path": "Rhea/115_Retrieve_the_set_of_metabolites_involved_in_reactions_catalyzed_by_human_genes_HUMAN_reference_proteome.ttl",
    "predicted_query": "# https://sparql.uniprot.org/sparql\nPREFIX up: <http://purl.uniprot.org/core/>\nPREFIX taxon: <http://purl.uniprot.org/taxonomy/>\nPREFIX rh: <http://rdf.rhea-db.org/>\nPREFIX CHEBI: <http://purl.obolibrary.org/obo/CHEBI_>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\nSELECT DISTINCT ?chebi ?chebiLabel\nWHERE {\n  # Find human proteins and the reactions they catalyze in UniProt\n  SERVICE <https://sparql.uniprot.org/sparql> {\n    ?protein a up:Protein ;\n             up:reviewed true ; # Focus on reviewed entries for quality\n             up:organism taxon:9606 ; # Filter for human proteins\n             up:annotation/up:catalyticActivity/up:catalyzedReaction ?rhea . # Get the catalyzed Rhea reaction\n  }\n\n  # For the found Rhea reactions, find the involved metabolites in Rhea\n  SERVICE <https://sparql.rhea-db.org/sparql> {\n    ?rhea rdfs:subClassOf rh:Reaction ; # Ensure it's a reaction\n          rh:status rh:Approved ; # Focus on approved reactions\n          rh:side/rh:contains/rh:compound ?compound . # Navigate to the compound involved in the reaction\n    ?compound rh:chebi ?chebi . # Get the ChEBI identifier for the compound\n    # Optionally get the label for the ChEBI compound\n    OPTIONAL { ?chebi rdfs:label ?chebiLabel . }\n  }\n}",
    "predicted_endpoint": "https://sparql.uniprot.org/sparql",
    "predicted_endpoint_equal_to_target_endpoint": false,
    "predicted_endpoint_in_federates_with": true,
    "predicted_endpoint_or_federated_endpoint": true,
    "run_id_langsmith": "644f43b8-ac32-4b9a-8402-6c11ab16f33c",
    "evaluation_timestamp": "2025-05-01T12:43:23.546888",
    "question_understanding_prompt_tokens": 257,
    "question_understanding_completion_tokens": 26,
    "question_understanding_total_tokens": 283,
    "sparql_query_construction_prompt_tokens": 6047,
    "sparql_query_construction_completion_tokens": 0,
    "sparql_query_construction_total_tokens": 6047,
    "is_valid_sparql": true,
    "sparql_syntax_error": "syntactically correct",
    "result_eval_f1_score": 0.0,
    "result_eval_precision": 0.0,
    "result_eval_recall": 0.0,
    "error_occured_at_endpoint": true,
    "predicted_query_result_is_empty": true,
    "ground_truth_query_result_is_empty": true,
    "error_occured_at_endpoint_message": "QueryBadFormed: A bad request has been sent to the endpoint: probably the SPARQL query is badly formed."
  }
]